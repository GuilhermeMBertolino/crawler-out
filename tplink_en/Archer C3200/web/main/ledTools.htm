<script type="text/javascript" language="javascript">
function init()
{
	var startH = 0;
	var startM = 0;
	var endH = 0;
	var endM = 0;
	var nightModeObj = $.act(ACT_GET, LED_NIGHTMODE, null,  null, null);
		//["nightModeEnable", "startHour", "startMin", "endHour", "endMin", "ctrlState","ledSwitch"]);
	if (!$.exe())
	{
	startH = nightModeObj.startHour? nightModeObj.startHour:0;
	startM = nightModeObj.startMin?nightModeObj.startMin:0;
	endH = nightModeObj.endHour?nightModeObj.endHour:0;
	endM = nightModeObj.endMin?nightModeObj.endMin:0;
	//alert("ledSwitch ledCloseByHS "+nightModeObj.ledSwitch +" "+ nightModeObj.ledCloseByHS);
	$("#enableNightMode").prop('checked', false);
	
	if (nightModeObj.ledSwitch == 0 && nightModeObj.ledCloseByHS == 1)
	{
		$("#enableNightMode").prop('disabled', true);
		$("#EnableNote").removeClass("nd");
	}
	else if (nightModeObj.nightModeEnable == 1)
	{
		$("#enableNightMode").prop('checked', true);
	}
	$('#startHour option[value="' + startH + '"]').prop('selected', 'selected');
	$('#startMinute option[value="' + startM + '"]').prop('selected', 'selected');
	$('#endHour option[value="' + endH + '"]').prop('selected', 'selected');
	$('#endMinute option[value="' + endM + '"]').prop('selected', 'selected');
	}
	else
	{
		alert("get LED_NIGHTMODE error");
		return;
	}
}

function doSave()
{
	var nightModeObj ={};

	nightModeObj.ctrlState = 0;
	nightModeObj.ledSwitch = 0;
	 if ($("#enableNightMode").prop('checked') == true)
	 	nightModeObj.nightModeEnable = 1;
	 else
	 	nightModeObj.nightModeEnable = 0;
	 	
		nightModeObj.startHour  = parseInt($("#startHour").data('value'), 10);
    		nightModeObj.startMin = parseInt($("#startMinute").data('value'), 10);
		nightModeObj.endHour  = parseInt($("#endHour").data('value'), 10);
    		nightModeObj.endMin = parseInt($("#endMinute").data('value'), 10);

		if ((nightModeObj.startHour == nightModeObj.endHour) && (nightModeObj.startMin > nightModeObj.endMin))
		{
			$.alert(ERR_LED_NIGHT_TIME);
			return;
		}
		//alert("Enable:"+nightModeObj.nightModeEnable+" set time: "+nightModeObj.startHour+" : "+ nightModeObj.startMin+" to " + 
		//	nightModeObj.endHour+" : "+ nightModeObj.endMin);
		 $.act(ACT_SET, LED_NIGHTMODE, null, null, nightModeObj);
		  $.exe(function(err) {
        if (!err)
			$.reload();
		else
			alert("set LED_NIGHTMODE error");
                });
}

$("#t_save").click(function() {
	doSave();
});
</script>


<h3 id="et">Led Night Mode</h3>
<div class="content-container">
    <form class="pure-form pure-form-aligned">
        <div id="LedNightModeEnable">
            <b class="T_nightMode" style="width:170px">Night Mode:</b>
            <input type="checkbox" id="enableNightMode" />
            <label class="T_enable">Enable</label>
        </div>
         <div id="EnableNote" class="nd">
            <p class="T_enableLedNMTip">(Notes: To enable the led night mode, please turn on the led swith first)</p>
        </div>
        <div id="PeriodOfNight" style="margin-top: 15px;">
        	<b class="T_nightTime" style="width:170px">Period of Night Time:</b>
        <select id="startHour" class="xs inline">
            <option value="0" id="t_hour0">00</option>
            <option value="1" id="t_hour1">01</option>
            <option value="2" id="t_hour2">02</option>
            <option value="3" id="t_hour3">03</option>
            <option value="4" id="t_hour4">04</option>
            <option value="5" id="t_hour5">05</option>
            <option value="6" id="t_hour6">06</option>
            <option value="7" id="t_hour7">07</option>
            <option value="8" id="t_hour8">08</option>
            <option value="9" id="t_hour9">09</option>
            <option value="10" id="t_hour10">10</option>
            <option value="11" id="t_hour11">11</option>
            <option value="12" id="t_hour12">12</option>
            <option value="13" id="t_hour13">13</option>
            <option value="14" id="t_hour14">14</option>
            <option value="15" id="t_hour15">15</option>
            <option value="16" id="t_hour16">16</option>
            <option value="17" id="t_hour17">17</option>
            <option value="18" id="t_hour18">18</option>
            <option value="19" id="t_hour19">19</option>
            <option value="20" id="t_hour20">20</option>
            <option value="21" id="t_hour21">21</option>
            <option value="22" id="t_hour22">22</option>
            <option value="23" id="t_hour23">23</option>
        </select>
        <b class="time-separater">:</b>
        <select id="startMinute" class="xs inline">
            <option value="0" id="t_min0">00</option>
            <option value="1" id="t_min1">01</option>
            <option value="2" id="t_min2">02</option>
            <option value="3" id="t_min3">03</option>
            <option value="4" id="t_min4">04</option>
            <option value="5" id="t_min5">05</option>
            <option value="6" id="t_min6">06</option>
            <option value="7" id="t_min7">07</option>
            <option value="8" id="t_min8">08</option>
            <option value="9" id="t_min9">09</option>
            <option value="10" id="t_min10">10</option>
            <option value="11" id="t_min11">11</option>
            <option value="12" id="t_min12">12</option>
            <option value="13" id="t_min13">13</option>
            <option value="14" id="t_min14">14</option>
            <option value="15" id="t_min15">15</option>
            <option value="16" id="t_min16">16</option>
            <option value="17" id="t_min17">17</option>
            <option value="18" id="t_min18">18</option>
            <option value="19" id="t_min19">19</option>
            <option value="20" id="t_min20">20</option>
            <option value="21" id="t_min21">21</option>
            <option value="22" id="t_min22">22</option>
            <option value="23" id="t_min23">23</option>
            <option value="24" id="t_min24">24</option>
            <option value="25" id="t_min25">25</option>
            <option value="26" id="t_min26">26</option>
            <option value="27" id="t_min27">27</option>
            <option value="28" id="t_min28">28</option>
            <option value="29" id="t_min29">29</option>
            <option value="30" id="t_min30">30</option>
            <option value="31" id="t_min31">31</option>
            <option value="32" id="t_min32">32</option>
            <option value="33" id="t_min33">33</option>
            <option value="34" id="t_min34">34</option>
            <option value="35" id="t_min35">35</option>
            <option value="36" id="t_min36">36</option>
            <option value="37" id="t_min37">37</option>
            <option value="38" id="t_min38">38</option>
            <option value="39" id="t_min39">39</option>
            <option value="40" id="t_min40">40</option>
            <option value="41" id="t_min41">41</option>
            <option value="42" id="t_min42">42</option>
            <option value="43" id="t_min43">43</option>
            <option value="44" id="t_min44">44</option>
            <option value="45" id="t_min45">45</option>
            <option value="46" id="t_min46">46</option>
            <option value="47" id="t_min47">47</option>
            <option value="48" id="t_min48">48</option>
            <option value="49" id="t_min49">49</option>
            <option value="50" id="t_min50">50</option>
            <option value="51" id="t_min51">51</option>
            <option value="52" id="t_min52">52</option>
            <option value="53" id="t_min53">53</option>
            <option value="54" id="t_min54">54</option>
            <option value="55" id="t_min55">55</option>
            <option value="56" id="t_min56">56</option>
            <option value="57" id="t_min57">57</option>
            <option value="58" id="t_min58">58</option>
            <option value="59" id="t_min59">59</option>
        </select>
	   <b class="to-separater">to</b>
	    <select id="endHour" class="xs inline">
            <option value="0" id="t_hour0">00</option>
            <option value="1" id="t_hour1">01</option>
            <option value="2" id="t_hour2">02</option>
            <option value="3" id="t_hour3">03</option>
            <option value="4" id="t_hour4">04</option>
            <option value="5" id="t_hour5">05</option>
            <option value="6" id="t_hour6">06</option>
            <option value="7" id="t_hour7">07</option>
            <option value="8" id="t_hour8">08</option>
            <option value="9" id="t_hour9">09</option>
            <option value="10" id="t_hour10">10</option>
            <option value="11" id="t_hour11">11</option>
            <option value="12" id="t_hour12">12</option>
            <option value="13" id="t_hour13">13</option>
            <option value="14" id="t_hour14">14</option>
            <option value="15" id="t_hour15">15</option>
            <option value="16" id="t_hour16">16</option>
            <option value="17" id="t_hour17">17</option>
            <option value="18" id="t_hour18">18</option>
            <option value="19" id="t_hour19">19</option>
            <option value="20" id="t_hour20">20</option>
            <option value="21" id="t_hour21">21</option>
            <option value="22" id="t_hour22">22</option>
            <option value="23" id="t_hour23">23</option>
        </select>
        <b class="time-separater">:</b>
        <select id="endMinute" class="xs inline">
            <option value="0" id="t_min0">00</option>
            <option value="1" id="t_min1">01</option>
            <option value="2" id="t_min2">02</option>
            <option value="3" id="t_min3">03</option>
            <option value="4" id="t_min4">04</option>
            <option value="5" id="t_min5">05</option>
            <option value="6" id="t_min6">06</option>
            <option value="7" id="t_min7">07</option>
            <option value="8" id="t_min8">08</option>
            <option value="9" id="t_min9">09</option>
            <option value="10" id="t_min10">10</option>
            <option value="11" id="t_min11">11</option>
            <option value="12" id="t_min12">12</option>
            <option value="13" id="t_min13">13</option>
            <option value="14" id="t_min14">14</option>
            <option value="15" id="t_min15">15</option>
            <option value="16" id="t_min16">16</option>
            <option value="17" id="t_min17">17</option>
            <option value="18" id="t_min18">18</option>
            <option value="19" id="t_min19">19</option>
            <option value="20" id="t_min20">20</option>
            <option value="21" id="t_min21">21</option>
            <option value="22" id="t_min22">22</option>
            <option value="23" id="t_min23">23</option>
            <option value="24" id="t_min24">24</option>
            <option value="25" id="t_min25">25</option>
            <option value="26" id="t_min26">26</option>
            <option value="27" id="t_min27">27</option>
            <option value="28" id="t_min28">28</option>
            <option value="29" id="t_min29">29</option>
            <option value="30" id="t_min30">30</option>
            <option value="31" id="t_min31">31</option>
            <option value="32" id="t_min32">32</option>
            <option value="33" id="t_min33">33</option>
            <option value="34" id="t_min34">34</option>
            <option value="35" id="t_min35">35</option>
            <option value="36" id="t_min36">36</option>
            <option value="37" id="t_min37">37</option>
            <option value="38" id="t_min38">38</option>
            <option value="39" id="t_min39">39</option>
            <option value="40" id="t_min40">40</option>
            <option value="41" id="t_min41">41</option>
            <option value="42" id="t_min42">42</option>
            <option value="43" id="t_min43">43</option>
            <option value="44" id="t_min44">44</option>
            <option value="45" id="t_min45">45</option>
            <option value="46" id="t_min46">46</option>
            <option value="47" id="t_min47">47</option>
            <option value="48" id="t_min48">48</option>
            <option value="49" id="t_min49">49</option>
            <option value="50" id="t_min50">50</option>
            <option value="51" id="t_min51">51</option>
            <option value="52" id="t_min52">52</option>
            <option value="53" id="t_min53">53</option>
            <option value="54" id="t_min54">54</option>
            <option value="55" id="t_min55">55</option>
            <option value="56" id="t_min56">56</option>
            <option value="57" id="t_min57">57</option>
            <option value="58" id="t_min58">58</option>
            <option value="59" id="t_min59">59</option>
        </select>
         <label style="margin-left: 20px;">(HH:MM)</label>  <!-- class="note-separater" -->
        	<p class="T_nightTimeTip" style="margin-top: 10px;">Notes: The time is based on the time of the Router which can be set in "System Tools -> Time Settings"</p>
        	<button type="submit" class="green T_save" id="t_save" style="margin-top: 20px;">Save</button>
        </div>
    </form>
</div>

<script type="text/javascript">
$.tpInit(init);
</script>

