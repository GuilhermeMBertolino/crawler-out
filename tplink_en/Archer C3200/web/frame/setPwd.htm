<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<head>
    <link rel="shortcut icon" type="image/x-icon" href="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAL/SURBVHhe7dw/a1NRGMdxX4Kbg4Pg0MHBd+Du4Cbo5ubg7uArcXDvpGL9tyiI2FLQQScHFSlJqsakSm2j/W8LD+dAuTzxnnju0dv8vg98xpzLk35pm+SSY8dvd/ahiwDEEYA4AhBHAOIIQBwBiCMAcQQgjgDEEYA4AhBHAOIIQBwBiCMAcQQgjgDEEYA4AhBHAOIIQBwBiCMAcQQgjgDEEYA4AhBHAOIIQBwBiCMAcQQgjgDEEYA4AhBHAOIIQBwBiCMAcQQgjgDE1QZw8l7XXHu1MhVmHvZMdc8ri0PjPaZNLi8MzKm5nqnuMSkCCAhgjLOPP5lpmQvP+6a6Z2e0Y47K7Oz9NrNL6+b0/Z6p7lWHAAICGIMAjsa8W9s28U92db9xCCAggDFmHiyb+cFGltWtPZM73tmTOPfks6numRtAf2PXeNdM0dTzc/P9D1PdbxwCCAigsLho7nhnNyE3gNmlkfHOThFf1r1d3TJ/Oyubu8a7hocAAgIojADSXH/9zeRO/Ofdu8ZhBBAQQGEEkCa+5Zs7BDAhAiiMANIQQM14ZzeBAAojgDQEUDPe2U0ggMIIIA0B1Ix3dhMIoDACSEMANeOd3QQCKIwA0tzpjkzunHm0bLxrHEYAAQEUNu0BLA43TfwVnurGm+/m6ZdfJnc+rm8bb0cPAQQEUNi0B/C/J94mfvHFV+Pt6CGAgAAKI4AyE29GvTQ/MN5uf0IAAQEUNu0BxB9E3LNpc72f5taHNXP15dCcuNs13k4pCCAggMLiIrnjnd2E3ACaeiPoXyOAgAAKI4B2IoCAAAojgHYigIAACiOAdiKAgAAKI4B2IoCAAAqLH1N6N0VMwju7CblfFHn+Wd94Z7cZAQQEAEkEII4AxBGAOAIQRwDiCEAcAYgjAHEEII4AxBGAOAIQRwDiCEAcAYgjAHEEII4AxBGAOAIQRwDiCEAcAYgjAHEEII4AxBGAOAIQRwDiCEAcAYgjAHEEII4AxBGAOAIQRwDiCEAcAYgjAHEEIK2zfwCdZ2Aa9hLJlQAAAABJRU5ErkJggg==" />
    <style type="text/css">
    body {
        text-align: left;
        margin: 0;
        font: 12px Verdana, Arial;
    }
    #top {
        width: 100%;
        height: 90px;
        overflow: hidden;
        position: relative;
        background: #10abe1;
        top: 0;
    }
    #scroll {
        height: calc(100% - 90px);
        overflow-x: hidden;
        overflow-y: auto;
    }
    #topContainer {
        width: 1000px;
        margin: 0 auto;
        text-align: left;
    }
    #topProduct {
        font: bold 12px verdana;
        color: white;
        text-decoration: none;
        display: block;
        float: left;
        background: url("../img/login/logo.png") no-repeat left;
        line-height: 16px;
        padding: 66px 0 20px;
        width: 230px;
        margin-left: -32px;
    }
    #topProductName {
        margin-left: 31px;
    }
    .top-control {
        display: inline-block;
    }
    .top-lang {
        margin: 0 26px 12px 88px;
        display: inline-block;
        vertical-align: bottom;
        width: 100px;
    }
    #loginMain {
        text-align: center;
        min-height: 100%;
    }
    #bottom {
        background: #e6e6e6;
        min-width: 1000px;
        height: 56px;
    }
    #bottomContainer {
        width: 100%;
        margin: 0 auto;
        position: fixed;
        bottom: 0;
    }
    .inline-block {
        display: inline-block;
    }
    div.login-field {
        margin: 5px 0;
    }
    label#login-username-label span.icon, label#login-password-label span.icon {
        /*background: url("../img/login/icons-01.png") no-repeat scroll -148px -4px;*/
        display: inline-block;
        height: 27px;
        margin-right: 14px;
        width: 27px;
        vertical-align: middle;
    }
    label#login-username-label span.icon {
        background-position: -148px -4px;
    }
    label#login-password-label span.icon {
        background-position: -184px -4px;
    }
    div.login-content {
        height: 150px;
        width: 420px;
        min-height: 100%;
        position: relative;
        margin: 100px auto;
    }
    input, button {
        color: #4d4d4d;
        font-family: Verdana, sans-serif;
    }
    input[type="text"], input[type="password"] {
        padding: .5em .6em;
        display: inline-block;
        border: 1px solid #ccc;
        border-radius: 4px;
        outline-color: #ffffff;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        width: 184px;
    }
    input[type="text"].input-error, input[type="password"].input-error {
        border: 1px solid red;
    }
    input[type="text"].input-focus, input[type="password"].input-focus {
        border: 1px solid #10abe1;
    }
    div.inputarea {
        position: relative;
        display: inline-block;
    }
    div.inputarea label {
        position: absolute;
        top: 9px;
        left: 10px;
        color: #b3b3b3;
        cursor: text;
    }
    div.login-btn {
        margin: 0;
    }
    button.button-button {
        border: none;
        border-radius: 3px;
        color: #ffffff;
        height: inherit;
        width: 184px;
        background-color: #96cc56;
        padding: 8px 6px 9px;
        cursor: pointer;
    }
    div.widget-error-tips {
        display: none;
        position: absolute;
        z-index: 299;
        top: 135px;
        left: 55px;
    }
    div.widget-error-tips.user-tips {
        top: 36px;
        left: 116px;
    }
    div.widget-error-tips.pwd-tips {
        display: none;
        position: absolute;
        z-index: 299;
        top: 98px;
        left: 116px;
    }
    div.widget-error-tips span.widget-error-tips-delta {
        background: url("../img/login/icons-02.png") no-repeat scroll -332px -56px;
        display: block;
        height: 8px;
        left: 150px;
        position: absolute;
        top: -7px;
        width: 13px;
    }
    div.widget-error-tips div.widget-error-tips-wrap {
        background-color: #ffffff;
        border: 1px solid #ccc;
        border-radius: 3px;
        box-shadow: 1px 1px 8px #898989;
        width: 300px;
        min-width: 130px;
        text-align: left;
        padding: 10px 12px;
    }
    div.widget-error-tips div.widget-error-tips-wrap.s {
        width: 130px;
    }
    div.secLevel {
        margin-bottom: 5px;
    }
    div.secLevel span {
        width: 58px;
        height: 13px;
        margin-left: -3px;
        line-height: 13px;
        text-align: center;
        color: #FFF;
        background-color: #C9C9C9;
        display: inline-block;
        font-size: 10px;
    }
    div.secLevel.level1 span.ori.level1 {
        background-color: #DD4040;
    }
    div.secLevel.level2 span.ori.level2 {
        background-color: #F7931E;
    }
    div.secLevel.level3 span.ori.level3 {
        background-color: #10ABE1;
    }
    </style>
    <script type="text/javascript">
/*=======================
 js for multi Language
 =========================*/
    function setCharArray() {
        var CHAR_ARRAY = {
            'en_US': {
                'tipsTextAscii': "Please input visiable ASCII characters.",
                'href': "http://www.tp-link.com",
                'tipsText': 'This field is required.',
                'phone': 'Phone',
                'pc': 'PC',
                'tipsTextLength': 'Your password is invalid. Passwords may contain 1-15 letters and numbers.',
                'tipsTextConfirm': 'Passwords do not match, please try again.',
                'notePart1': 'Note',
                'notePart2': 'To ensure the safety of your network, it is highly recommended that you set up a strong new password. Passwords may contain 1~15 (Case-sensitive) letters and numbers.',
                'newPassword': 'New Password',
                'confirmPassword': 'Confirm Password',
                'save': 'Save',
                'low': 'Low',
                'middle': 'Middle',
                'high': 'High'
            },
            'de_DE': {
                'tipsTextAscii': "Bitte tragen Sie nur ASCII Zeichen ein.",
                'href': "http://www.tp-link.de",
                'tipsText': 'Bitte füllen Sie dieses Feld aus.',
                'phone': 'Telefon',
                'pc': 'PC',
                'tipsTextLength': 'Ihr Passwort is ungültig. Passwörter dürfen aus Zahlen und Buchstaben bestehen und zwischen 1 und 15 Zeichen lang sein.',
                'tipsTextConfirm': 'Passwörter stimmen nicht überein, bitte versuchen Sie es erneut.',
                'notePart1': 'Hinweis',
                'notePart2': 'Bitte sichern Sie ihr Netzwerk, indem Sie ein neues Passwort vergeben. Passwörter dürfen aus Zahlen und Buchstaben bestehen und zwischen 1 und 15 Zeichen lang sein.',
                'newPassword': 'Neues Passwort',
                'confirmPassword': 'Passwort bestätigen',
                'save': 'Speichern',
                'low': 'Niedrig',
                'middle': 'Mittel',
                'high': 'Hoch'
            },
            'it_IT': {
                'tipsTextAscii': "Immettete caratteri ASCII.",
                'href': "http://www.tp-link.it",
                'tipsText': 'Questo campo è richiesto.',
                'phone': 'Telefono',
                'pc': 'PC',
                'tipsTextLength': 'Password non valida. Le password possono essere composte fra 1 e 15 lettere e numeri.',
                'tipsTextConfirm': 'Le password non coincidono, riprovate.',
                'notePart1': 'Nota',
                'notePart2': 'Per assicurare la sicurezza della vostra rete, si consiglia di impostare una nuova password.  Le password possono essere composte fra 1 e 15  lettere e numeri e fanno distinzione tra maiuscole e minuscole.',
                'newPassword': 'Nuova Password',
                'confirmPassword': 'Conferma Password',
                'save': 'Salva',
                'low': 'Basso',
                'middle': 'Medio',
                'high': 'Alto'
            },
            'pl_PL': {
                'tipsTextAscii': "Wprowadź prawidłowe znaki ASCII.",
                'href': "http://www.tp-link.com.pl",
                'tipsText': 'To pole jest wymagane.',
                'phone': 'Telefon',
                'pc': 'PC',
                'tipsTextLength': 'Twoje hasło jest nieprawidłowe. Powinno składać się z 1-15 liter i cyfr.',
                'tipsTextConfirm': 'Hasła nie są zgodne, spróbuj ponownie.',
                'notePart1': 'Uwaga',
                'notePart2': 'Aby zapewnić bezpieczeństwo sieci, zalecane jest ustawienie silnego hasła. Hasło powinno składać się z 1-15 liter i cyfr (ich wielkość ma znaczenie).',
                'newPassword': 'Nowe hasło',
                'confirmPassword': 'Potwierdź hasło',
                'save': 'Zapisz',
                'low': 'Słabe',
                'middle': 'Średnie',
                'high': 'Mocne'
            },
            'ru_RU': {
                'tipsTextAscii': "Пожалуйста, введите корректные символы ASCII.",
                'href': "http://www.tp-linkru.com",
                'tipsText': 'Данное поле обязательно.',
                'phone': 'Телефон',
                'pc': 'Компьютер',
                'tipsTextLength': 'Ваш пароль некорректен. Пароль должен содержать от 1 до 15 цифр и букв.',
                'tipsTextConfirm': 'Пароли не совпадают, пожалуйста, попробуйте ещё.',
                'notePart1': 'Примечание',
                'notePart2': 'Для обеспечения безопасности вашей сети, вы рекомендуем ввести новый пароль. Пароль должен содержать от 1 до 15 цифр и букв. Пароль чувствителен к регистру.',
                'newPassword': 'Новый пароль',
                'confirmPassword': 'Подтвердите пароль',
                'save': 'Сохранить',
                'low': 'Низко',
                'middle': 'Средне',
                'high': 'Высоко'
            },
            'tr_TR': {
                'tipsTextAscii': "Sadece ASCII karakterler giriniz.",
                'href': "http://www.tp-link.com.tr",
                'tipsText': 'Bu alan zorunludur.',
                'phone': 'Telefon',
                'pc': 'PC',
                'tipsTextLength': 'Şifre geçersiz. Şifre, 1-15 arasında harf ve sayılardan oluşmalıdır.',
                'tipsTextConfirm': 'Şifre eşleşmiyor, lütfen tekrar deneyiniz.',
                'notePart1': 'Uyarı',
                'notePart2': 'Ağınızın güvenliğini garanti altına almak için, güçlü bir şifre oluşturmanız önerilir. Şifre 1~15 (büyük-küçük harf duyarlı) arasında harf ve sayılardan oluşmalıdır.',
                'newPassword': 'Yeni Şifre',
                'confirmPassword': 'Şifreyi Doğrula',
                'save': 'Kaydet',
                'low': 'Düşük',
                'middle': 'Orta',
                'high': 'Yüksek'
            }

        };
        var DEFAULT_LAN = 'en_US';
        var match = document.cookie.match(/locale=(?:(\w+);?)/);
        var locale = 'en_US';

        if ('locale_language' in window && locale_language) {
            locale = locale_language;
        } else if (match && match[1]) {
            locale = match[1];
        } else {
            var navLan = navigator.language || navigator.browserLanguage;
            var navLanArr = navLan.split('-');
            navLan = navLanArr[0].toLowerCase() + '_' + navLanArr[1].toUpperCase();
            if (CHAR_ARRAY.hasOwnProperty(navLan)) {
                locale = navLan;
            } else {
                navLan = navLanArr[0].toLowerCase();
                for (var i in CHAR_ARRAY) {
                    if (CHAR_ARRAY.hasOwnProperty(i)) {
                        if (i.search(navLan) === 0) {
                            locale = i;
                            break;
                        }
                    }
                }
            }
        }

        return CHAR_ARRAY[locale] || CHAR_ARRAY[DEFAULT_LAN];
    }

    function setAttr(dom, attr, val) {
        if (dom.setAttribute) {
            dom.setAttribute(attr, val);
        } else {
            dom[attr] = val;
        }
    }

    function changeLanguage() {
        charArray = setCharArray();
        tipsTextRequired = charArray.tipsText;
        tipsTextAscii = charArray.tipsTextAscii;
        tipsTextLength = charArray.tipsTextLength;
        tipsTextConfirm = charArray.tipsTextConfirm;
        note = "<span style='color: red;'>" + charArray.notePart1 + ":</span> <br />" + charArray.notePart2;
        timesText = charArray.timesText;

        setAttr(document.getElementById('topProduct'), 'href', charArray.href);
        document.getElementById('pwdLabel').innerHTML = charArray.newPassword;
        document.getElementById('pwdCheck-low').innerHTML = charArray.low;
        document.getElementById('pwdCheck-middle').innerHTML = charArray.middle;
        document.getElementById('pwdCheck-high').innerHTML = charArray.high;
        document.getElementById('cfmLabel').innerHTML = charArray.confirmPassword;
        document.getElementById('save-btn').innerHTML = '<span class="text button-text">' + charArray.save + '</span>';

        setAttr(document.getElementById('passwordP'), 'placeholder', charArray.newPassword);
        document.getElementById('pwdCheckP-low').innerHTML = charArray.low;
        document.getElementById('pwdCheckP-middle').innerHTML = charArray.middle;
        document.getElementById('pwdCheckP-high').innerHTML = charArray.high;
        setAttr(document.getElementById('passwordConfirmP'), 'placeholder', charArray.confirmPassword);
        document.getElementById('loginButtonP').value = charArray.save;
        document.getElementById('pb-phone').innerHTML = charArray.phone;
        document.getElementById('pb-pc').innerHTML = charArray.pc;
    }
    /*=======================
 js for phone
 =========================*/
    //isMobileFlag
    var isMF = 0;
    function isMobile() {
        if (!('hasMobile' in window && hasMobile === '1')) {
            return false;
        }
        var check = false;
        (function(a) {
            if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true
        })(navigator.userAgent || navigator.vendor || window.opera);
        isMF = check;
        return check;
    }

    function checkPlatform() {
        if (isMobile() && (document.cookie.search('UserChange=true') === -1)) {
            document.getElementById('pcDiv').style.display = 'none';
            document.getElementById('phoneDiv').style.display = 'block';
        addClass(document.body, 'phoneBody');
        } else {
            document.getElementById('pcDiv').style.display = 'block';
            document.getElementById('phoneDiv').style.display = 'none';
        removeClass(document.body, 'phoneBody');
        }
    }

    function changeToPC() {
        document.getElementById('pcDiv').style.display = 'block';
        document.getElementById('phoneDiv').style.display = 'none';
    removeClass(document.body, 'phoneBody');
        document.cookie = 'UserChange=true';
        isMF = 0;
    }
    //    for phone
    function pwdFocusP() {
        $("errDivP").style.display = "none";
        removeClass($("passwordP"), "err");
    }

    function cfmFocusP() {
        if (pwdCheckOK == false) {
            var $password = $('passwordP');
            $password.focus();
            checkPwdP();
            return;
        }
        var $confirm = $("passwordConfirmP");
        $("errConfirmDivP").style.display = "none";
        removeClass($("passwordConfirmP"), "err");
    }

    function PhoneSubWin() {
        var $password = $("passwordP");
        var $confirm = $("passwordConfirmP");
        if ($password.value == "") {
            addClass($password, "err");
            $("errDivP").style.display = "block";
            $("errTextP").innerHTML = tipsTextRequired;
            return;
        }
        if ($password.value.length > 15) {
            addClass($password, "err");
            $("errDivP").style.display = "block";
            $("errTextP").innerHTML = tipsTextLength;
            return;
        }
        if ($confirm.value == "") {
            addClass($confirm, "err");
            $("errConfirmDivP").style.display = "block";
            $("errConfirmTextP").innerHTML = tipsTextRequired;
            return;
        }
        if ($confirm.value != $password.value) {
            addClass($confirm, "err");
            $("errConfirmDivP").style.display = "block";
            $("errConfirmTextP").innerHTML = tipsTextConfirm;
            return;
        }


        doSetPassword($password.value);
    }

    function checkPwdP() {
        var $password = $("passwordP");
        var $confirm = $('passwordConfirmP');
        var $pwdCheck = $('passwordLevelP');

        var asciiWithoutSpace = /^(?=[^ ]+$)[\x21-\x7f]+$/;
        var upperRe = /[A-Z]/;
        var lowerRe = /[a-z]/;
        var otherRe = /(.[^a-zA-Z0-9])/;
        var digitRe = /\d/;

        var hasUpper = 0;
        var hasLower = 0;
        var hasDigit = 0;
        var hasOther = 0;
        var largeLength = 0;

        var level = 0;

        if (asciiWithoutSpace.test($password.value) === false) {
            removeClass($pwdCheck, 'level1');
            removeClass($pwdCheck, 'level2');
            removeClass($pwdCheck, 'level3');

            addClass($password, "err");
            $("errDivP").style.display = "block";
            if ($password.value == '') {
                $("errTextP").innerHTML = tipsTextRequired;
            } else {
                $("errTextP").innerHTML = tipsTextAscii;
            }
            pwdCheckOK = false;
            return;
        } else {
            removeClass($password, "err");
            $("errDivP").style.display = "none";

            if (upperRe.test($password.value)) {
                hasUpper = 1;
            } else {
                hasUpper = 0;
            }

            if (lowerRe.test($password.value)) {
                hasLower = 1;
            } else {
                hasLower = 0;
            }

            if (digitRe.test($password.value)) {
                hasDigit = 1;
            } else {
                hasDigit = 0;
            }

            if (otherRe.test($password.value)) {
                hasOther = 1;
            } else {
                hasOther = 0;
            }

            if ($password.value.length > 10) {
                largeLength = 1;
            } else {
                largeLength = 0;
            }

            level = hasUpper + hasLower + hasDigit + largeLength + hasOther;

            if ($password.value.length <= 5) {
                if (level <= 2) {
                    removeClass($pwdCheck, 'level2');
                    removeClass($pwdCheck, 'level3');
                    addClass($pwdCheck, 'level1');
                } else if (level == 3 || level == 4) {
                    removeClass($pwdCheck, 'level1');
                    removeClass($pwdCheck, 'level3');
                    addClass($pwdCheck, 'level2');
                }
            } else {
                if (level <= 1) {
                    removeClass($pwdCheck, 'level2');
                    removeClass($pwdCheck, 'level3');
                    addClass($pwdCheck, 'level1');
                } else if (level == 2 || level == 3) {
                    removeClass($pwdCheck, 'level1');
                    removeClass($pwdCheck, 'level3');
                    addClass($pwdCheck, 'level2');
                } else if (level >= 4) {
                    removeClass($pwdCheck, 'level1');
                    removeClass($pwdCheck, 'level2');
                    addClass($pwdCheck, 'level3');
                }
            }

            pwdCheckOK = true;
        }
    }
    /*========================
     *js for PC
     * ========================*/

    var isLocked = false;

    var pwdCheckOK = false;

    function $(id) {
        return document.getElementById(id);
    }

    function inArray(elem, elems) {
        for (var i = 0, l = elems.length; i < l; i++)
            if (elems[i] === elem)
                return true;
        return false;
    }

    function hasClass(elem, className) {
        return elem && inArray(className, (elem.className ? elem.className : "").split(/\s+/));
    }

    function addClass(elem, className) {
        if (elem && elem.nodeType == 1 && !hasClass(elem, className))
            elem.className += (elem.className ? " " : "") + className;
    }

    function removeClass(elem, className) {
        if (elem && elem.nodeType == 1 && hasClass(elem, className)) {
            elem.className = elem.className.replace(className, "");
            elem.className = elem.className.replace(/\s+/, " ");
        }
    }

    function Base64Encoding(input) {
        var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
        var output = "";
        var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
        var i = 0;
        input = utf8_encode(input);
        while (i < input.length) {
            chr1 = input.charCodeAt(i++);
            chr2 = input.charCodeAt(i++);
            chr3 = input.charCodeAt(i++);
            enc1 = chr1 >> 2;
            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
            enc4 = chr3 & 63;

            if (isNaN(chr2)) {
                enc3 = enc4 = 64;
            } else if (isNaN(chr3)) {
                enc4 = 64;
            }
            output = output + keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);
        }
        return output;
    }

    function utf8_encode(string) {
        string = string.replace(/\r\n/g, "\n");
        var utftext = "";

        for (var n = 0; n < string.length; n++) {
            var c = string.charCodeAt(n);
            if (c < 128) {
                utftext += String.fromCharCode(c);
            } else if ((c > 127) && (c < 2048)) {
                utftext += String.fromCharCode((c >> 6) | 192);
                utftext += String.fromCharCode((c & 63) | 128);
            } else {
                utftext += String.fromCharCode((c >> 12) | 224);
                utftext += String.fromCharCode(((c >> 6) & 63) | 128);
                utftext += String.fromCharCode((c & 63) | 128);
            }
        }
        return utftext;
    }

    function deleteCookie(name) {
        var LargeExpDate = new Date();
        document.cookie = name + "=; expires=" + LargeExpDate.toGMTString();
    }

    function getHttpObject(hook) {
        var xmlHttp = null;
        try {
            xmlHttp = new XMLHttpRequest();
        } catch (e) {
            try {
                xmlHttp = new ActiveXObject("Msxml2.XMLHTTP");
            } catch (e) {
                try {
                    xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
                } catch (e) {
                    /* How to handle this error? */
                }
            }
        }
        xmlHttp.onreadystatechange = function() {
            if (xmlHttp.readyState == 4) {
                if (hook)
                    hook();
            }
        };
        return xmlHttp;
    }

    function lockWeb(bLock) {
        $("userName").disabled = bLock;
        $("pcPassword").disabled = bLock;
    }

    function resize() {
        $("loginMain").style.height = 'auto';
    }

    function pwdBlur() {
        if ($("newPwd").value == "") {
            $("pwdLabel").style.display = "inline";
        }
        $("errorTips").style.display = "none";
        removeClass($("newPwd"), "input-focus");
    }

    function cfmBlur() {
        if ($("confirm").value == "") {
            $("cfmLabel").style.display = "inline";
        }
        removeClass($("confirm"), "input-focus");
    }

    function pwdFocus() {
        $("pwdLabel").style.display = "none";
        $("usrTips").style.display = "none";
        removeClass($("newPwd"), "input-error");
        addClass($("newPwd"), "input-focus");
    }

    function cfmFocus() {
        if (pwdCheckOK == false) {
            var $password = $('newPwd');
            $password.focus();
            checkPwd();
            return;
        }
        $("cfmLabel").style.display = "none";
        var $confirm = $("confirm");

        $("pwdTips").style.display = "none";
        removeClass($("confirm"), "input-error");
        addClass($("confirm"), "input-focus");
    }

    function PCWin(event) {
        if (event.keyCode == 13) {
            PCSubWin();
        }

    }

    function doSetPassword() {
        var xmlHttpObj;

        xmlHttpObj = getHttpObject(function() {
            if (xmlHttpObj.status == 200) {
                window.location.reload();
            } else
                return;
        });
        var prePwd = encodeURIComponent(Base64Encoding($("newPwd").value));
        xmlHttpObj.open("POST", "http://" + window.location.hostname + "/cgi/setPwd?pwd=" + prePwd, true);
        xmlHttpObj.send(null);
    }

    function PCSubWin() {
        var $password = $("newPwd");
        var $confirm = $("confirm");
        if ($password.value == "") {
            addClass($password, "input-error");
            $("usrTips").style.display = "inline";
            $("tipsContentUsr").innerHTML = tipsText;
            return;
        }
        if ($password.value.length > 15) {
            addClass($password, "input-error");
            $("usrTips").style.display = "inline";
            $("tipsContentUsr").innerHTML = tipsTextLength;
            return;
        }
        if ($confirm.value == "") {
            addClass($confirm, "input-error");
            $("pwdTips").style.display = "inline";
            $("tipsContentPwd").innerHTML = tipsText;
            return;
        }
        if ($confirm.value != $password.value) {
            addClass($confirm, "input-error");
            $("pwdTips").style.display = "inline";
            $("tipsContentPwd").innerHTML = tipsTextConfirm;
            return;
        }

        doSetPassword();
    }

    function pageLoad() {
        window.onresize = resize;
        var tipStr = "",
            $note = $("errorContent"),
            $password = $("newPwd"),
            $confirm = $("confirm");

        deleteCookie("Authorization");

        try {
            if (modelName) {
                document.title = modelName;
                $("topProductName").innerHTML = modelName;
                $("mnum").innerHTML = "Model No. " + modelName;
            }
            if (modelDesc) {
                $("mname").innerHTML = modelDesc;
            }
        } catch (e) {}

        $("errorTips").style.display = "inline";
        $note.innerHTML = note;
    }

    function checkPwd() {
        var $password = $("newPwd");
        var $confirm = $('confirm');
        var $pwdCheck = $('pwdCheck');

        var upperRe = /[A-Z]/;
        var lowerRe = /[a-z]/;
        var otherRe = /(.[^a-zA-Z0-9])/;
        var digitRe = /\d/;

        var hasUpper = 0;
        var hasLower = 0;
        var hasDigit = 0;
        var hasOther = 0;
        var largeLength = 0;

        var level = 0;

        if ($password.value == "") {
            removeClass($pwdCheck, 'level1');
            removeClass($pwdCheck, 'level2');
            removeClass($pwdCheck, 'level3');

            addClass($password, "input-error");
            $("usrTips").style.display = "inline";
            $("tipsContentUsr").innerHTML = tipsText;
            pwdCheckOK = false;
            return;
        } else {
            removeClass($password, "input-error");
            $("usrTips").style.display = "none";

            if (upperRe.test($password.value)) {
                hasUpper = 1;
            } else {
                hasUpper = 0;
            }

            if (lowerRe.test($password.value)) {
                hasLower = 1;
            } else {
                hasLower = 0;
            }

            if (digitRe.test($password.value)) {
                hasDigit = 1;
            } else {
                hasDigit = 0;
            }

            if (otherRe.test($password.value)) {
                hasOther = 1;
            } else {
                hasOther = 0;
            }

            if ($password.value.length > 10) {
                largeLength = 1;
            } else {
                largeLength = 0;
            }

            level = hasUpper + hasLower + hasDigit + largeLength + hasOther;

            if ($password.value.length <= 5) {
                if (level <= 2) {
                    removeClass($pwdCheck, 'level2');
                    removeClass($pwdCheck, 'level3');
                    addClass($pwdCheck, 'level1');
                } else if (level == 3 || level == 4) {
                    removeClass($pwdCheck, 'level1');
                    removeClass($pwdCheck, 'level3');
                    addClass($pwdCheck, 'level2');
                }
            } else {
                if (level <= 1) {
                    removeClass($pwdCheck, 'level2');
                    removeClass($pwdCheck, 'level3');
                    addClass($pwdCheck, 'level1');
                } else if (level == 2 || level == 3) {
                    removeClass($pwdCheck, 'level1');
                    removeClass($pwdCheck, 'level3');
                    addClass($pwdCheck, 'level2');
                } else if (level >= 4) {
                    removeClass($pwdCheck, 'level1');
                    removeClass($pwdCheck, 'level2');
                    addClass($pwdCheck, 'level3');
                }
            }

            pwdCheckOK = true;
        }
    }

    function backPage() {
        var $password = $("newPwd");
        var $confirm = $('confirm');
        var $pwdCheck = $('pwdCheck');

        removeClass($pwdCheck, 'level1');
        removeClass($pwdCheck, 'level2');
        removeClass($pwdCheck, 'level3');
        removeClass($password, "input-error");
        removeClass($confirm, "input-error");

        $password.value = "";
        $confirm.value = "";
        $("usrTips").style.display = "none";
        $("pwdTips").style.display = "none";
        $("errorTips").style.display = "inline";
        $("login").style.display = "block";

    }

    function nextPage() {
        var xmlHttpObj;

        xmlHttpObj = getHttpObject(function() {
            if (xmlHttpObj.status == 200) {
                window.location.reload(true);
            } else
                return;
        });
        xmlHttpObj.open("POST", "http://" + window.location.hostname + "/cgi/setPwd?pwd=" + Base64Encoding("admin"), true);
        xmlHttpObj.send(null);
    }
    </script>

</head>

<body onkeypress="PCWin(event)" onload="changeLanguage();pageLoad();">
    <div id="top">
        <div id="topContainer">
            <a id="topProduct" href="http://www.tp-link.com" target="_blank">
                <span id="topProductName"></span>
            </a>
        </div>
    </div>
    <div id="scroll">
        <div id="loginMain">
            <div id='login' class="login-content">
                <div class="login-field">
                    <div class="inputarea">
                        <input type="password" maxlength="15" id="newPwd" autocomplete="off" onblur="pwdBlur()" onfocus="pwdFocus();" onkeyup="checkPwd();">
                        <label id="pwdLabel" for="newPwd" onfocus="pwdFocus();">New Password</label>
                    </div>
                    <div class="widget-error-tips user-tips" id="usrTips">
                        <span class="widget-error-tips-delta"></span>
                        <div class="widget-error-tips-wrap s">
                            <div class="content error-tips-content">
                                <span id="tipsContentUsr"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="pwdCheck" class="secLevel" style="">
                        <span id="pwdCheck-low" class="level1 ori">Low</span>
                        <span id="pwdCheck-middle" class="level2 ori">Middle</span>
                        <span id="pwdCheck-high" class="level3 ori">High</span>
                </div>
                <div class="login-field">
                    <div class="inputarea">
                        <input type="password" maxlength="15" id="confirm" autocomplete="off" onblur="cfmBlur()" onfocus="cfmFocus();">
                        <label id="cfmLabel" for="confirm" onfocus="cfmFocus();">Confirm Password</label>
                    </div>
                    <div class="widget-error-tips pwd-tips" id="pwdTips">
                        <span class="widget-error-tips-delta"></span>
                        <div class="widget-error-tips-wrap">
                            <div class="content error-tips-content">
                                <span id="tipsContentPwd"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="login-btn">
                    <button id="save-btn" class="button-button inline-block" type="button" onclick="PCSubWin()">
                        <span class="text button-text">Save</span>
                    </button>
                </div>
                <div class="widget-error-tips" id="errorTips">
                    <span class="widget-error-tips-delta"></span>
                    <div class="widget-error-tips-wrap">
                        <div class="content error-tips-content">
                            <span id="errorContent"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="bottomContainer">
            <div id="bottom"></div>
        </div>
    </div>
</body>

</html>
