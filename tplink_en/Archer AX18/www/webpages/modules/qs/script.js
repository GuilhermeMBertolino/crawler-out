!function(d){d.su.moduleManager.define("quickSetup",{services:["moduleLoader","device","language","moduleManager"],deps:["main","navigatorController"],models:["language"],stores:["languageStore"],views:["quickSetupView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){t.initLanguage(),t.initProductName(),t.initModeSelectModule(),t.loadQuickSetupModule(),d.su.scrollbar({ele:".page-content-container"})}},init:function(s,t,e,n,i,a){this.control({"#switch-mode-button":{ev_button_click:function(e){t.quickSetupView.switchModeMsg.show()}},"#quit-qs-button":{ev_button_click:function(e){var t=d.su.CHAR.QUICK_SETUP["QUIT_MSG"+s.exitMsgNum];i.main.confirm(t,function(){s.quit()},null,d.su.CHAR.QUICK_SETUP.QUIT_UPPER)}},"#qs-lan-cb":{mouseenter:function(){d("#qs-lan-button").addClass("hover")},mouseleave:function(){d("#qs-lan-button").removeClass("hover")},ev_view_change:function(e,t){s.lang!==t.value&&a.language.switchTo(t.value)}},".operation-mode-switch-msg":{ev_msg_ok:function(e,t){var s=a.moduleManager.get("operationMode");s.modeChanged()&&(s.switchModeConfirm(),t.preventDefault())}}})}},function(n,i,a,o,e,r){var t="router",s="repeater",p="ap",l="client",u="multissid";return{exitMsgNum:1,loadQuickSetupModule:function(){var e="";switch(r.device.getCurrentMode()){case t:e="quickSetupRouter";break;case p:e="quickSetupAp";break;case u:e="quickSetupMulti";break;case s:e="quickSetupRepeater";break;case l:e="quickSetupClient"}e&&r.moduleLoader.load({module:"quickSetup"},{module:e},i.quickSetupView.quickSetupLoader)},initLanguage:function(){var e=r.device.getLocale(),t=r.device.getForce(),s=d.Deferred();t?(a.language.language.disable(),s.resolve()):o.languageStore.load({success:function(){a.language.language.setValue(e),s.resolve()}}),d.when(s).then(function(){n.lang=e,i.quickSetupView.qsLanBtn.setText(d.su.CHAR.LANGUAGE[e.toUpperCase()])})},initProductName:function(){i.quickSetupView.productName.setValue(r.device.getProductName())},initModeSelectModule:function(){r.moduleLoader.load({module:"quickSetup"},{module:"operationMode",view:"operationModeViewQs"},i.quickSetupView.operationModeLoader)},showLoading:function(){e.main.showMask(),i.quickSetupView.pageLoadingSd.show()},hideLoading:function(){e.main.hideMask(),i.quickSetupView.pageLoadingSd.hide()},quit:function(){e.navigatorController.goTo("index")}}})}(jQuery),function(t){t.su.modelManager.define("quickSetupEditModel",{type:"model",fields:[{name:"timeTimezone",mapping:"time_timezone",allowBlank:!1},{name:"autoUpdate",mapping:"auto_upgrade_enable",defaultValue:"on"},{name:"autoUpdateTime",mapping:"auto_upgrade_time",defaultValue:3},{name:"regionCountry",mapping:"region_country"}]}),t.su.modelManager.define("uxPlanModel",{type:"model",fields:[{name:"enable",defaultValue:"off"}],proxy:{url:t.su.url("/admin/status?form=user_experience_plan_switch")}}),t.su.modelManager.define("qsSummaryModel",{type:"model",fields:[{name:"type"},{name:"timeZone"},{name:"country"},{name:"date"},{name:"time"},{name:"connectionType"},{name:"ispProfile",convert:function(e){return{ExStream:t.su.CHAR.NETWORK_IPTV.SINGAPORE_SINGTEL,Unifi:t.su.CHAR.NETWORK_IPTV.MALAYSIA_UNIFI,Maxis:t.su.CHAR.NETWORK_IPTV.MALAYSIA_MAXIS,Maxis2:t.su.CHAR.NETWORK_IPTV.MALAYSIA_MAXIS2,Vietnam:t.su.CHAR.NETWORK_IPTV.VIETNAM_VIETTEL,MEO:t.su.CHAR.NETWORK_IPTV.PORTUGAL_MEO,VDF:t.su.CHAR.NETWORK_IPTV.PORTUGAL_VODAFONE,nbn:t.su.CHAR.NETWORK_IPTV.AUSTRALIA_NBN,ufb:t.su.CHAR.NETWORK_IPTV.NEWZEALAND_UFB,Bridge:t.su.CHAR.NETWORK_IPTV.BRIDGE,Custom:t.su.CHAR.NETWORK_IPTV.CUSTOM,none:t.su.CHAR.NETWORK_IPTV.NONE}[e]}}]}),t.su.define("physicalConnectionProxy",{extend:"IPFProxy",url:t.su.url("/admin/status?form=internet"),writeFilter:function(e){return t.extend({operation:"read"},e)}}),t.su.define("portConnectionProxy",{extend:"IPFProxy",preventSuccessEvent:!0,preventFailEvent:!0,url:t.su.url("/admin/network?form=wan_port_status"),writeFilter:function(e){return t.extend(e,{operation:"detect"})}}),t.su.define("qsCheckInternetProxy",{extend:"IPFProxy",preventSuccessEvent:!0,preventFailEvent:!0,url:t.su.url("/admin/quick_setup?form=check_internet"),writeFilter:function(e){return t.extend({operation:"read"},e)}}),t.su.define("qsGetDeviceInfoProxy",{extend:"IPFProxy",url:t.su.url("/admin/cloud_account?form=get_deviceInfo"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0}),t.su.define("qsWanCableDetectProxy",{extend:"IPFProxy",url:t.su.url("/admin/status?form=wan_cable_match_stat"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,writeFilter:function(e){return t.extend({operation:"read_match"},e)}}),t.su.define("qsDualNatDetectProxy",{extend:"IPFProxy",url:t.su.url("/admin/status?form=wan_dual_nat_state"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,writeFilter:function(e){return t.extend({operation:"read"},e)}})}(jQuery),jQuery.su.moduleManager.define("quickSetupAp",{services:["moduleLoader","device"],deps:["quickSetup"],models:["quickSetupApModel","quickSetupEditModel"],stores:["quickSetupApSteps"],views:["quickSetupApView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){n.quickSetupApModel.load({ajax:{async:!1},success:function(e){n.quickSetupEditModel.loadData(e,!0)}})},ev_after_launch:function(e,t,s,n,i,a,o){t.goNext()}},init:function(n,e,t,s,i,a){this.listen({"views.quickSetupApView.qsSetTimezoneLoader":{ev_qs_next:n.goNext},"views.quickSetupApView.qsWirelessSettingApLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupApView.qsAutoUpdateLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupApView.qsWifiBoostSetLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupApView.transitionApLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupApView.qsSummaryApLoader":{ev_qs_next:n.goNext}}),this.control({".qs-steps":{ev_step_goto:function(e,t){n.goTo(t)},ev_step_done:function(){i.quickSetup.quit()}}}),this.configViews({id:"quickSetupApView",items:[{id:"qs-ap-steps",beforeStepEnterHooks:{transitionAp:function(e,t,s){n.syncQuickSetupData(),s()}}}]})}},function(s,t,n,e,i,a){var o=[],r=["transitionAp"];return{currentStep:null,_getChildModuleLoader:function(e){return t.quickSetupApView[e+"Loader"]},goNext:function(){t.quickSetupApView.steps.next()},goBack:function(){t.quickSetupApView.steps.back()},goTo:function(e){s.currentStep&&s._getChildModuleLoader(s.currentStep).hide();var t=s._getChildModuleLoader(e);o.includes(e)||(a.moduleLoader.load({module:"quickSetupAp"},{module:e},t),r.includes(e)||o.push(e)),t.show(),s.currentStep=e},syncQuickSetupData:function(){n.quickSetupApModel.toggleFields(/^wireless/,!0),a.device.getIsTriband()||n.quickSetupApModel.toggleFields(function(e){if(/^wireless5g2/.test(e))return!0},!1),a.device.getConfig().supportWifi6E||n.quickSetupApModel.toggleFields(function(e){if(/^wireless6g/.test(e))return!0},!1);var e=n.quickSetupApModel.enable5g1Bw160.getValue();a.device.getConfig().support160MEnable?(n.quickSetupApModel.wireless5gHtmode.setValue("80"),"on"===e&&n.quickSetupApModel.wireless5gHtmode.setValue("160")):n.quickSetupApModel.toggleFields(/^wireless5gHtmode/,!1)}}}),function(e){e.su.modelManager.define("quickSetupApModel",{type:"model",fields:[{name:"regionCountry",mapping:"region_country"},{name:"timeQuicksetup",mapping:"time_quicksetup"},{name:"timeTimezone",mapping:"time_timezone"},{name:"wireType",mapping:"wire_type"},{name:"wirelessSeparately",mapping:"is_set_each_band_separately",defaultValue:0},{name:"wirelessSmartEnable",mapping:"smart_connect_smart_enable"},{name:"wireless2gAirtimeFairness",mapping:"wireless_2g_airtime_fairness"},{name:"wireless2gChannel",mapping:"wireless_2g_channel"},{name:"wireless2gCurrentChannel",mapping:"wireless_2g_current_channel"},{name:"wireless2gDisabled",mapping:"wireless_2g_disabled"},{name:"wireless2gDisabledAll",mapping:"wireless_2g_disabled_all"},{name:"wireless2gEnable",mapping:"wireless_2g_enable"},{name:"wireless2gEncryPassword",mapping:"wireless_2g_encry_password"},{name:"wireless2gEncryption",mapping:"wireless_2g_encryption"},{name:"wireless2gExtinfo",mapping:"wireless_2g_extinfo"},{name:"wireless2gHtmode",mapping:"wireless_2g_htmode"},{name:"wireless2gHwmode",mapping:"wireless_2g_hwmode"},{name:"wireless2gMacaddr",mapping:"wireless_2g_macaddr"},{name:"wireless2gMuMimo",mapping:"wireless_2g_mu_mimo"},{name:"wireless2gPort",mapping:"wireless_2g_port"},{name:"wireless2gPskCipher",mapping:"wireless_2g_psk_cipher"},{name:"wireless2gPskKey",mapping:"wireless_2g_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless2gPskVersion",mapping:"wireless_2g_psk_version"},{name:"wireless2gServer",mapping:"wireless_2g_server"},{name:"wireless2gSsid",mapping:"wireless_2g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless2gTxpower",mapping:"wireless_2g_txpower"},{name:"wireless2gWdsStatus",mapping:"wireless_2g_wds_status"},{name:"wireless2gWepFormat1",mapping:"wireless_2g_wep_format1"},{name:"wireless2gWepFormat2",mapping:"wireless_2g_wep_format2"},{name:"wireless2gWepFormat3",mapping:"wireless_2g_wep_format3"},{name:"wireless2gWepFormat4",mapping:"wireless_2g_wep_format4"},{name:"wireless2gWepKey1",mapping:"wireless_2g_wep_key1"},{name:"wireless2gWepKey2",mapping:"wireless_2g_wep_key2"},{name:"wireless2gWepKey3",mapping:"wireless_2g_wep_key3"},{name:"wireless2gWepKey4",mapping:"wireless_2g_wep_key4"},{name:"wireless2gWepMode",mapping:"wireless_2g_wep_mode"},{name:"wireless2gWepSelect",mapping:"wireless_2g_wep_select"},{name:"wireless2gWepType1",mapping:"wireless_2g_wep_type1"},{name:"wireless2gWepType2",mapping:"wireless_2g_wep_type2"},{name:"wireless2gWepType3",mapping:"wireless_2g_wep_type3"},{name:"wireless2gWepType4",mapping:"wireless_2g_wep_type4"},{name:"wireless2gWpaCipher",mapping:"wireless_2g_wpa_cipher"},{name:"wireless2gWpaKey",mapping:"wireless_2g_wpa_key"},{name:"wireless2gWpaVersion",mapping:"wireless_2g_wpa_version"},{name:"wireless2gWpsState",mapping:"wireless_2g_wps_state"},{name:"wireless5g2AirtimeFairness",mapping:"wireless_5g_2_airtime_fairness"},{name:"wireless5g2Channel",mapping:"wireless_5g_2_channel"},{name:"wireless5g2CurrentChannel",mapping:"wireless_5g_2_current_channel"},{name:"wireless5g2Disabled",mapping:"wireless_5g_2_disabled"},{name:"wireless5g2DisabledAll",mapping:"wireless_5g_2_disabled_all"},{name:"wireless5g2Enable",mapping:"wireless_5g_2_enable"},{name:"wireless5g2EncryPassword",mapping:"wireless_5g_2_encry_password"},{name:"wireless5g2Encryption",mapping:"wireless_5g_2_encryption"},{name:"wireless5g2regionEnable",mapping:"wireless_5g_2_region_enable"},{name:"wireless5g2Extinfo",mapping:"wireless_5g_2_extinfo"},{name:"wireless5g2Hwmode",mapping:"wireless_5g_2_hwmode"},{name:"wireless5g2Macaddr",mapping:"wireless_5g_2_macaddr"},{name:"wireless5g2MuMimo",mapping:"wireless_5g_2_mu_mimo"},{name:"wireless5g2Port",mapping:"wireless_5g_2_port"},{name:"wireless5g2PskCipher",mapping:"wireless_5g_2_psk_cipher"},{name:"wireless5g2PskKey",mapping:"wireless_5g_2_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless5g2PskVersion",mapping:"wireless_5g_2_psk_version"},{name:"wireless5g2Server",mapping:"wireless_5g_2_server"},{name:"wireless5g2Ssid",mapping:"wireless_5g_2_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless5g2Hidden",mapping:"wireless_5g_2_hidden"},{name:"wireless5g2Txpower",mapping:"wireless_5g_2_txpower"},{name:"wireless5g2WdsStatus",mapping:"wireless_5g_2_wds_status"},{name:"wireless5g2WepFormat1",mapping:"wireless_5g_2_wep_format1"},{name:"wireless5g2WepFormat2",mapping:"wireless_5g_2_wep_format2"},{name:"wireless5g2WepFormat3",mapping:"wireless_5g_2_wep_format3"},{name:"wireless5g2WepFormat4",mapping:"wireless_5g_2_wep_format4"},{name:"wireless5g2WepKey1",mapping:"wireless_5g_2_wep_key1"},{name:"wireless5g2WepKey2",mapping:"wireless_5g_2_wep_key2"},{name:"wireless5g2WepKey3",mapping:"wireless_5g_2_wep_key3"},{name:"wireless5g2WepKey4",mapping:"wireless_5g_2_wep_key4"},{name:"wireless5g2WepMode",mapping:"wireless_5g_2_wep_mode"},{name:"wireless5g2WepSelect",mapping:"wireless_5g_2_wep_select"},{name:"wireless5g2WepType1",mapping:"wireless_5g_2_wep_type1"},{name:"wireless5g2WepType2",mapping:"wireless_5g_2_wep_type2"},{name:"wireless5g2WepType3",mapping:"wireless_5g_2_wep_type3"},{name:"wireless5g2WepType4",mapping:"wireless_5g_2_wep_type4"},{name:"wireless5g2WpaCipher",mapping:"wireless_5g_2_wpa_cipher"},{name:"wireless5g2WpaKey",mapping:"wireless_5g_2_wpa_key"},{name:"wireless5g2WpaVersion",mapping:"wireless_5g_2_wpa_version"},{name:"wireless5g2WpsState",mapping:"wireless_5g_2_wps_state"},{name:"wireless6gAirtimeFairness",mapping:"wireless_6g_airtime_fairness"},{name:"wireless6gChannel",mapping:"wireless_6g_channel"},{name:"wireless6gCurrentChannel",mapping:"wireless_6g_current_channel"},{name:"wireless6gDisabled",mapping:"wireless_6g_disabled"},{name:"wireless6gDisabledAll",mapping:"wireless_6g_disabled_all"},{name:"wireless6gEnable",mapping:"wireless_6g_enable"},{name:"wireless6gEncryPassword",mapping:"wireless_6g_encry_password"},{name:"wireless6gEncryption",mapping:"wireless_6g_encryption"},{name:"wireless6gregionEnable",mapping:"wireless_6g_region_enable"},{name:"wireless6gExtinfo",mapping:"wireless_6g_extinfo"},{name:"wireless6gHtmode",mapping:"wireless_6g_htmode"},{name:"wireless6gHwmode",mapping:"wireless_6g_hwmode"},{name:"wireless6gMacaddr",mapping:"wireless_6g_macaddr"},{name:"wireless6gMuMimo",mapping:"wireless_6g_mu_mimo"},{name:"wireless6gPort",mapping:"wireless_6g_port"},{name:"wireless6gPskCipher",mapping:"wireless_6g_psk_cipher"},{name:"wireless6gPskKey",mapping:"wireless_6g_psk_key",allowBlank:!1,vtype:"wpa3_password"},{name:"wireless6gPskVersion",mapping:"wireless_6g_psk_version"},{name:"wireless6gServer",mapping:"wireless_6g_server"},{name:"wireless6gSsid",mapping:"wireless_6g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless6gHidden",mapping:"wireless_6g_hidden"},{name:"wireless6gTxpower",mapping:"wireless_6g_txpower"},{name:"wireless6gWdsStatus",mapping:"wireless_6g_wds_status"},{name:"wireless6gWepFormat1",mapping:"wireless_6g_wep_format1"},{name:"wireless6gWepFormat2",mapping:"wireless_6g_wep_format2"},{name:"wireless6gWepFormat3",mapping:"wireless_6g_wep_format3"},{name:"wireless6gWepFormat4",mapping:"wireless_6g_wep_format4"},{name:"wireless6gWepKey1",mapping:"wireless_6g_wep_key1"},{name:"wireless6gWepKey2",mapping:"wireless_6g_wep_key2"},{name:"wireless6gWepKey3",mapping:"wireless_6g_wep_key3"},{name:"wireless6gWepKey4",mapping:"wireless_6g_wep_key4"},{name:"wireless6gWepMode",mapping:"wireless_6g_wep_mode"},{name:"wireless6gWepSelect",mapping:"wireless_6g_wep_select"},{name:"wireless6gWepType1",mapping:"wireless_6g_wep_type1"},{name:"wireless6gWepType2",mapping:"wireless_6g_wep_type2"},{name:"wireless6gWepType3",mapping:"wireless_6g_wep_type3"},{name:"wireless6gWepType4",mapping:"wireless_6g_wep_type4"},{name:"wireless6gWpaCipher",mapping:"wireless_6g_wpa_cipher"},{name:"wireless6gWpaKey",mapping:"wireless_6g_wpa_key"},{name:"wireless6gWpaVersion",mapping:"wireless_6g_wpa_version"},{name:"wireless6gWpsState",mapping:"wireless_6g_wps_state"},{name:"wireless5gAirtimeFairness",mapping:"wireless_5g_airtime_fairness"},{name:"wireless5gChannel",mapping:"wireless_5g_channel"},{name:"wireless5gCurrentChannel",mapping:"wireless_5g_current_channel"},{name:"wireless5gDisabled",mapping:"wireless_5g_disabled"},{name:"wireless5gDisabledAll",mapping:"wireless_5g_disabled_all"},{name:"wireless5gEnable",mapping:"wireless_5g_enable"},{name:"wireless5gEncryPassword",mapping:"wireless_5g_encry_password"},{name:"wireless5gEncryption",mapping:"wireless_5g_encryption"},{name:"wireless5gRegionEnable",mapping:"wireless_5g_region_enable"},{name:"wireless5gExtinfo",mapping:"wireless_5g_extinfo"},{name:"wireless5gHtmode",mapping:"wireless_5g_htmode"},{name:"wireless5gHwmode",mapping:"wireless_5g_hwmode"},{name:"wireless5gMacaddr",mapping:"wireless_5g_macaddr"},{name:"wireless5gMuMimo",mapping:"wireless_5g_mu_mimo"},{name:"wireless5gPort",mapping:"wireless_5g_port"},{name:"wireless5gPskCipher",mapping:"wireless_5g_psk_cipher"},{name:"wireless5gPskKey",mapping:"wireless_5g_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless5gPskVersion",mapping:"wireless_5g_psk_version"},{name:"wireless5gServer",mapping:"wireless_5g_server"},{name:"wireless5gSsid",mapping:"wireless_5g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless5gTxpower",mapping:"wireless_5g_txpower"},{name:"wireless5gWdsStatus",mapping:"wireless_5g_wds_status"},{name:"wireless5gWepFormat1",mapping:"wireless_5g_wep_format1"},{name:"wireless5gWepFormat2",mapping:"wireless_5g_wep_format2"},{name:"wireless5gWepFormat3",mapping:"wireless_5g_wep_format3"},{name:"wireless5gWepFormat4",mapping:"wireless_5g_wep_format4"},{name:"wireless5gWepKey1",mapping:"wireless_5g_wep_key1"},{name:"wireless5gWepKey2",mapping:"wireless_5g_wep_key2"},{name:"wireless5gWepKey3",mapping:"wireless_5g_wep_key3"},{name:"wireless5gWepKey4",mapping:"wireless_5g_wep_key4"},{name:"wireless5gWepMode",mapping:"wireless_5g_wep_mode"},{name:"wireless5gWepSelect",mapping:"wireless_5g_wep_select"},{name:"wireless5gWepType1",mapping:"wireless_5g_wep_type1"},{name:"wireless5gWepType2",mapping:"wireless_5g_wep_type2"},{name:"wireless5gWepType3",mapping:"wireless_5g_wep_type3"},{name:"wireless5gWepType4",mapping:"wireless_5g_wep_type4"},{name:"wireless5gWpaCipher",mapping:"wireless_5g_wpa_cipher"},{name:"wireless5gWpaKey",mapping:"wireless_5g_wpa_key"},{name:"wireless5gWpaVersion",mapping:"wireless_5g_wpa_version"},{name:"wireless5gWpsState",mapping:"wireless_5g_wps_state"},{name:"enable5g1Bw160",defaultValue:"on"},{name:"autoUpdate",mapping:"auto_upgrade_enable",defaultValue:"on"},{name:"autoUpdateTime",mapping:"auto_upgrade_time",defaultValue:3}],preventSuccessEvent:!0,preventErrorEvent:!0,convert:function(e){return"no"===e.time_quicksetup?(e.time_timezone="",e.auto_upgrade_enable=""):""===e.auto_upgrade_enable&&(e.auto_upgrade_enable="on"),e},serialize:function(e){var t,s={region_country:"",time_timezone:"",is_set_each_band_separately:"",smart_connect_smart_enable:"",wireless_2g_enable:"",wireless_2g_ssid:"",wireless_2g_encry_password:"",wireless_2g_psk_key:"",wireless_2g_psk_cipher:"",wireless_2g_psk_version:"",wireless_2g_encryption:"",wireless_2g_disabled_all:"",wireless_5g_enable:"",wireless_5g_ssid:"",wireless_5g_encry_password:"",wireless_5g_psk_key:"",wireless_5g_psk_cipher:"",wireless_5g_psk_version:"",wireless_5g_encryption:"",wireless_5g_region_enable:"",wireless_5g_disabled_all:"",wireless_5g_2_enable:"",wireless_5g_2_ssid:"",wireless_5g_2_encry_password:"",wireless_5g_2_psk_key:"",wireless_5g_2_psk_cipher:"",wireless_5g_2_psk_version:"",wireless_5g_2_encryption:"",wireless_5g_2_region_enable:"",wireless_5g_2_disabled_all:"",wireless_6g_enable:"",wireless_6g_ssid:"",wireless_6g_encry_password:"",wireless_6g_psk_key:"",wireless_6g_psk_cipher:"",wireless_6g_psk_version:"",wireless_6g_encryption:"",wireless_6g_region_enable:"",wireless_6g_disabled_all:"",wireless_5g_htmode:"",wireless_5g_2_htmode:"",auto_upgrade_enable:"",auto_upgrade_time:""};for(t in s)s.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(s[t]=e[t]),""!==s[t]&&null!==s[t]||delete s[t];return s},proxy:{url:e.su.url("/admin/quick_setup?form=ap_setup")}}),e.su.storeManager.define("quickSetupApSteps",{type:"store",fields:[{name:"name"},{name:"unreachable",defaultValue:!1},{name:"withoutNode",defaultValue:!1},{name:"notCached",defaultValue:!1}],data:[{name:"qsSetTimezone"},{name:"qsWirelessSettingAp"},{name:"qsAutoUpdate",unreachable:!(e=e.su.serviceManager.get("device").getConfig()).supportAutoUpdate||!e.isAccessPointDevice},{name:"qsWifiBoostSet",unreachable:!e.supportBoostWifiSignal},{name:"transitionAp",withoutNode:!0,notCached:!0},{name:"qsSummaryAp"}]})}(jQuery),function(p){p.su.moduleManager.define("quickSetupClient",{services:["moduleLoader"],deps:["quickSetup"],models:["quickSetupClientModel","quickSetupEditModel","hostNetworkEdit2gModel","hostNetworkEdit5gModel"],stores:["quickSetupClientSteps"],views:["quickSetupClientView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){n.quickSetupClientModel.load({ajax:{async:!1},success:t.initQSEditModel})},ev_after_launch:function(e,t,s,n,i,a,o){t.goNext()}},init:function(n,e,t,s,i,a){this.listen({"views.quickSetupClientView.qsSetTimezoneLoader":{ev_qs_next:n.goNext},"views.quickSetupClientView.qsHostNetwork2gLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupClientView.qsHostNetwork5gLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupClientView.qsAutoUpdateLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupClientView.transitionApLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupClientView.qsSummaryClientLoader":{ev_qs_next:n.goNext}}),this.control({".qs-steps":{ev_step_goto:function(e,t){n.goTo(t)},ev_step_done:function(){i.quickSetup.quit()}}}),this.configViews({id:"quickSetupClientView",items:[{id:"qs-client-steps",beforeStepEnterHooks:{transitionAp:function(e,t,s){n.replaceQuickSetupData(),s()}}}]})}},function(n,t,i,e,s,a){var n=this,o=[],r=["transitionAp"];return{currentStep:null,_getChildModuleLoader:function(e){return t.quickSetupClientView[e+"Loader"]},enableStep:function(e){t.quickSetupClientView.steps.enable(e)},disableStep:function(e){t.quickSetupClientView.steps.disable(e)},stepTo:function(e){t.quickSetupClientView.steps.goTo(e)},goNext:function(){t.quickSetupClientView.steps.next()},goBack:function(){t.quickSetupClientView.steps.back()},goTo:function(e){n.currentStep&&n._getChildModuleLoader(n.currentStep).hide();var t=n._getChildModuleLoader(e);o.includes(e)||(a.moduleLoader.load({module:"quickSetupClient"},{module:e},t),r.includes(e)||o.push(e)),t.show(),n.currentStep=e},initQSEditModel:function(e){i.quickSetupEditModel.loadData(e,!0),i.hostNetworkEdit2gModel.reset(),i.hostNetworkEdit5gModel.reset()},replaceQuickSetupData:function(){var e={},t=i.hostNetworkEdit2gModel.skip.getValue()?"5g":"2g",s=i.quickSetupEditModel.getData();i.quickSetupClientModel.clientMode.setValue(t),p.extend(e,s,n.syncHostNetworkData(t)),i.quickSetupClientModel.replaceData(e),n.syncQuickSetupData(t)},syncHostNetworkData:function(e){var t={},s=i["hostNetworkEdit2gModel".replace("2g",e)].getData();return t["clientSsid"+e]=s.ssid,t["clientPassword"+e]=s.password,t["clientEncryption"+e]=s.encryption,t["clientPskVersion"+e]=s.pskVersion,t["clientPskCipher"+e]=s.pskCipher,t},syncQuickSetupData:function(e){var t=/2g$/,s=/5g$/;"5g"==e&&(t=/5g$/,s=/2g$/),i.quickSetupClientModel.toggleFields(t,!0),i.quickSetupClientModel.toggleFields(s,!1)}}})}(jQuery),function(e){e.su.modelManager.define("quickSetupClientModel",{type:"model",fields:[{name:"timeTimezone",mapping:"time_timezone",allowBlank:!1},{name:"autoUpdate",mapping:"auto_upgrade_enable",defaultValue:"on"},{name:"autoUpdateTime",mapping:"auto_upgrade_time",defaultValue:3},{name:"clientMode",mapping:"rootap_mode"},{name:"clientSsid2g",mapping:"rootap_2g_ssid"},{name:"clientPassword2g",mapping:"rootap_2g_psk_key"},{name:"clientEncryption2g",mapping:"rootap_2g_encryption"},{name:"clientPskVersion2g",mapping:"rootap_2g_psk_version"},{name:"clientPskCipher2g",mapping:"rootap_2g_psk_cipher"},{name:"clientSsid5g",mapping:"rootap_5g_ssid"},{name:"clientPassword5g",mapping:"rootap_5g_psk_key"},{name:"clientEncryption5g",mapping:"rootap_5g_encryption"},{name:"clientPskVersion5g",mapping:"rootap_5g_psk_version"},{name:"clientPskCipher5g",mapping:"rootap_5g_psk_cipher"}],convert:function(e){return"no"===e.time_quicksetup?(e.time_timezone="",e.auto_upgrade_enable=""):""===e.auto_upgrade_enable&&(e.auto_upgrade_enable="on"),e},proxy:{url:e.su.url("/admin/quick_setup?form=client_setup")}}),e.su.storeManager.define("quickSetupClientSteps",{type:"store",fields:[{name:"name"},{name:"unreachable",defaultValue:!1},{name:"withoutNode",defaultValue:!1},{name:"notCached",defaultValue:!1}],data:[{name:"qsSetTimezone"},{name:"qsHostNetwork2g"},{name:"qsHostNetwork5g"},{name:"qsAutoUpdate",unreachable:!e.su.serviceManager.get("device").getConfig().supportAutoUpdate},{name:"transitionAp",withoutNode:!0,notCached:!0},{name:"qsSummaryClient"}]})}(jQuery),jQuery.su.moduleManager.define("quickSetupMulti",{services:["moduleLoader"],deps:["quickSetup"],models:["quickSetupMultiModel","quickSetupEditModel"],stores:["quickSetupMultiSteps","quickSetupWirelessMulti2gStore","quickSetupWirelessMulti5gStore"],views:["quickSetupMultiView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){n.quickSetupMultiModel.load({ajax:{async:!1},success:t.initEditModel})},ev_after_launch:function(e,t,s,n,i,a,o){t.goNext()}},init:function(n,e,t,s,i,a){this.listen({"views.quickSetupMultiView.qsSetTimezoneLoader":{ev_qs_next:n.goNext},"views.quickSetupMultiView.qsWirelessSettingMulti2gLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupMultiView.qsWirelessSettingMulti5gLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupMultiView.qsAutoUpdateLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupMultiView.transitionApLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupMultiView.qsSummaryMultiLoader":{ev_qs_next:n.goNext}}),this.control({".qs-steps":{ev_step_goto:function(e,t){n.goTo(t)},ev_step_done:function(){i.quickSetup.quit()}}}),this.configViews({id:"quickSetupMultiView",items:[{id:"qs-multi-steps",beforeStepEnterHooks:{transitionAp:function(e,t,s){n.replaceEditData(),s()}}}]})}},function(s,t,n,i,e,a){var s=this,o=[],r=["transitionAp"];return{currentStep:null,_getChildModuleLoader:function(e){return t.quickSetupMultiView[e+"Loader"]},goNext:function(){t.quickSetupMultiView.steps.next()},goBack:function(){t.quickSetupMultiView.steps.back()},goTo:function(e){s.currentStep&&s._getChildModuleLoader(s.currentStep).hide();var t=s._getChildModuleLoader(e);o.includes(e)||(a.moduleLoader.load({module:"quickSetupMulti"},{module:e},t),r.includes(e)||o.push(e)),t.show(),s.currentStep=e},initEditModel:function(e){n.quickSetupEditModel.loadData(e,!0),i.quickSetupWirelessMulti2gStore.loadData(e.wireless_2g),i.quickSetupWirelessMulti5gStore.loadData(e.wireless_5g)},replaceEditData:function(){var e=n.quickSetupEditModel.getData(),t=JSON.stringify(i.quickSetupWirelessMulti2gStore.getData()),s=JSON.stringify(i.quickSetupWirelessMulti5gStore.getData());n.quickSetupMultiModel.replaceData({timeTimezone:e.timeTimezone,autoUpdate:e.autoUpdate,autoUpdateTime:e.autoUpdateTime,wireless2g:t,wireless5g:s})}}}),function(e){e.su.modelManager.define("quickSetupMultiModel",{type:"model",fields:[{name:"timeTimezone",mapping:"time_timezone"},{name:"autoUpdate",mapping:"auto_upgrade_enable"},{name:"autoUpdateTime",mapping:"auto_upgrade_time"},{name:"wireless2g",mapping:"wireless_2g"},{name:"wireless5g",mapping:"wireless_5g"}],preventSuccessEvent:!0,preventErrorEvent:!0,convert:function(e){return"no"===e.time_quicksetup?(e.time_timezone="",e.auto_upgrade_enable=""):""===e.auto_upgrade_enable&&(e.auto_upgrade_enable="on"),e},proxy:{url:e.su.url("/admin/quick_setup?form=multi_setup")}}),e.su.storeManager.define("quickSetupWirelessMulti2gStore",{fields:[{name:"key"},{name:"enable"},{name:"ssid",vtype:{vtype:"ssid_string_length_count_byte",max:32},allowBlank:!1},{name:"psk_key",vtype:"psk_password",maxLength:64,allowBlank:!1},{name:"encryption"},{name:"qrcode"}]}),e.su.storeManager.define("quickSetupWirelessMulti5gStore",{fields:[{name:"key"},{name:"enable"},{name:"ssid",vtype:{vtype:"ssid_string_length_count_byte",max:32},allowBlank:!1},{name:"psk_key",vtype:"psk_password",maxLength:64,allowBlank:!1},{name:"encryption"},{name:"qrcode"}]}),e.su.storeManager.define("quickSetupMultiSteps",{type:"store",fields:[{name:"name"},{name:"unreachable",defaultValue:!1},{name:"withoutNode",defaultValue:!1},{name:"notCached",defaultValue:!1}],data:[{name:"qsSetTimezone"},{name:"qsWirelessSettingMulti2g"},{name:"qsWirelessSettingMulti5g"},{name:"qsAutoUpdate",unreachable:!e.su.serviceManager.get("device").getConfig().supportAutoUpdate},{name:"transitionAp",withoutNode:!0,notCached:!0},{name:"qsSummaryMulti"}]})}(jQuery),function(d){d.su.moduleManager.define("quickSetupRepeater",{services:["moduleLoader"],deps:["quickSetup"],models:["quickSetupRepeaterModel","quickSetupEditModel","hostNetworkEdit2gModel","hostNetworkEdit5gModel","extendedNetworkEditModel"],stores:["quickSetupRepeaterSteps"],views:["quickSetupRepeaterView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){n.quickSetupRepeaterModel.toggleFields(!0),n.quickSetupRepeaterModel.load({ajax:{async:!1},success:t.initQSEditModel})},ev_after_launch:function(e,t,s,n,i,a,o){t.goNext()}},init:function(n,e,t,s,i,a){this.listen({"models.hostNetworkEdit2gModel.ssid":{ev_value_change:function(e,t){n.recordHostNetworkSsid("2g",t),n.initExtendedNetworkSsid()}},"models.hostNetworkEdit2gModel.password":{ev_value_change:function(e,t){n.recordHostNetworkPassword("2g",t)}},"models.hostNetworkEdit5gModel.ssid":{ev_value_change:function(e,t){n.recordHostNetworkSsid("5g",t),n.initExtendedNetworkSsid()}},"models.hostNetworkEdit5gModel.password":{ev_value_change:function(e,t){n.recordHostNetworkPassword("5g",t)}},"views.quickSetupRepeaterView.qsSetTimezoneLoader":{ev_qs_next:n.goNext},"views.quickSetupRepeaterView.qsHostNetwork2gLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupRepeaterView.qsHostNetwork5gLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupRepeaterView.qsExtendedNetworkLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupRepeaterView.qsAutoUpdateLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupRepeaterView.transitionApLoader":{ev_qs_back:n.goBack,ev_qs_next:n.goNext},"views.quickSetupRepeaterView.qsSummaryRepeaterLoader":{ev_qs_next:n.goNext}}),this.control({".qs-steps":{ev_step_goto:function(e,t){n.goTo(t)},ev_step_done:function(){i.quickSetup.quit()}}}),this.configViews({id:"quickSetupRepeaterView",items:[{id:"qs-repeater-steps",beforeStepEnterHooks:{transitionAp:function(e,t,s){n.replaceQuickSetupData(),s()}}}]})}},function(i,t,a,e,s,n){var i=this,o=[],r=["transitionAp"],p={},l={},u={"2g":"5g","5g":"2g"};return{currentStep:null,_getChildModuleLoader:function(e){return t.quickSetupRepeaterView[e+"Loader"]},enableStep:function(e){t.quickSetupRepeaterView.steps.enable(e)},disableStep:function(e){t.quickSetupRepeaterView.steps.disable(e)},stepTo:function(e){t.quickSetupRepeaterView.steps.goTo(e)},goNext:function(){t.quickSetupRepeaterView.steps.next()},goBack:function(){t.quickSetupRepeaterView.steps.back()},goTo:function(e){i.currentStep&&i._getChildModuleLoader(i.currentStep).hide();var t=i._getChildModuleLoader(e);o.includes(e)||(n.moduleLoader.load({module:"quickSetupRepeater"},{module:e},t),r.includes(e)||o.push(e)),t.show(),i.currentStep=e},initQSEditModel:function(e){a.quickSetupEditModel.loadData(e,!0),a.hostNetworkEdit2gModel.reset(),a.hostNetworkEdit5gModel.reset(),a.extendedNetworkEditModel.reset()},initExtendedNetworkSsid:function(){var e=a.extendedNetworkEditModel,t=p["2g"],s=p["5g"],n=s||t,t=(t=t||s)&&t.slice(0,28)+"_EXT",n=n&&n.slice(0,28)+"_EXT";e.ssid2g.setValue(t),e.ssid5g.setValue(n)},recordHostNetworkSsid:function(e,t){p[e]=t},recordHostNetworkPassword:function(e,t){l[e]=t},getHostNetworkData:function(e){var t={},s="reHostNetwork"+e,n=a["hostNetworkEdit2gModel".replace("2g",e)].getData();return t["reHostNetworkSkip"+e]=n.skip,n.skip||(t[s+"Ssid"]=n.ssid,t[s+"Password"]=n.password,t[s+"Encryption"]=n.encryption,t[s+"PskVersion"]=n.pskVersion,t[s+"PskCipher"]=n.pskCipher),t},getExtendedNetworkData:function(){var e={},t=a.extendedNetworkEditModel.getData();return e.reExtendedNetworkSsid2g=t.ssid2g,e.reExtendedNetworkHide2g=t.hideSsid2g,e.reExtendedNetworkSsid5g=t.ssid5g,e.reExtendedNetworkHide5g=t.hideSsid5g,e},replaceQuickSetupData:function(){var e={},t=i.getHostNetworkData("2g"),s=i.getHostNetworkData("5g"),n=i.getExtendedNetworkData();d.extend(e,t,s,n,a.quickSetupEditModel.getData()),a.quickSetupRepeaterModel.replaceData(e),i.syncSkipData("2g",t.reHostNetworkSkip2g),i.syncSkipData("5g",s.reHostNetworkSkip5g)},syncSkipData:function(e,t){t?(a.quickSetupRepeaterModel.toggleFields("2g"==e?/^reHostNetwork2g/:/^reHostNetwork5g/,!1),a.extendedNetworkEditModel["password"+e].setValue(l[u[e]])):a.extendedNetworkEditModel["password"+e].setValue(l[e])}}})}(jQuery),function(e){e.su.modelManager.define("quickSetupRepeaterModel",{type:"model",fields:[{name:"timeTimezone",mapping:"time_timezone",allowBlank:!1},{name:"autoUpdate",mapping:"auto_upgrade_enable",defaultValue:"on"},{name:"autoUpdateTime",mapping:"auto_upgrade_time",defaultValue:3},{name:"reHostNetwork2gSsid",mapping:"ap_connect_ssid_2g"},{name:"reHostNetwork2gEncryption",mapping:"ap_connect_encryption_2g"},{name:"reHostNetwork2gPskVersion",mapping:"ap_connect_psk_version_2g"},{name:"reHostNetwork2gPskCipher",mapping:"ap_connect_psk_cipher_2g"},{name:"reHostNetwork2gPassword",mapping:"ap_connect_psk_key_2g"},{name:"reHostNetworkSkip2g",mapping:"ap_connect_skip_2g",defaultValue:!1},{name:"reHostNetwork5gSsid",mapping:"ap_connect_ssid_5g"},{name:"reHostNetwork5gEncryption",mapping:"ap_connect_encryption_5g"},{name:"reHostNetwork5gPskVersion",mapping:"ap_connect_psk_version_5g"},{name:"reHostNetwork5gPskCipher",mapping:"ap_connect_psk_cipher_5g"},{name:"reHostNetwork5gPassword",mapping:"ap_connect_psk_key_5g"},{name:"reHostNetworkSkip5g",mapping:"ap_connect_skip_5g",defaultValue:!1},{name:"reExtendedNetworkSsid2g",mapping:"wireless_ssid_2g",vtype:{vtype:"ssid_string_length_count_byte",max:32},allowBlank:!1},{name:"reExtendedNetworkHide2g",mapping:"wireless_hide_ssid_2g"},{name:"reExtendedNetworkSsid5g",mapping:"wireless_ssid_5g",vtype:{vtype:"ssid_string_length_count_byte",max:32},allowBlank:!1},{name:"reExtendedNetworkHide5g",mapping:"wireless_hide_ssid_5g"}],convert:function(e){return"no"===e.time_quicksetup?(e.time_timezone="",e.auto_upgrade_enable=""):""===e.auto_upgrade_enable&&(e.auto_upgrade_enable="on"),e},proxy:{url:e.su.url("/admin/quick_setup?form=re_setup")}}),e.su.modelManager.define("hostNetworkEdit2gModel",{type:"model",fields:[{name:"password",vtype:"psk_password",maxLength:64,allowBlank:!1},{name:"encryption",allowBlank:!1},{name:"pskVersion"},{name:"pskCipher"},{name:"ssid",vtype:{vtype:"ssid_string_length_count_byte",max:32},allowBlank:!1},{name:"skip",defaultValue:!1}]}),e.su.modelManager.define("hostNetworkEdit5gModel",{type:"model",fields:[{name:"password",vtype:"psk_password",maxLength:64,allowBlank:!1},{name:"encryption",allowBlank:!1},{name:"pskVersion"},{name:"pskCipher"},{name:"ssid",vtype:{vtype:"ssid_string_length_count_byte",max:32},allowBlank:!1},{name:"skip",defaultValue:!1}]}),e.su.modelManager.define("extendedNetworkEditModel",{type:"model",autoReload:!0,fields:[{name:"ssid2g",vtype:{vtype:"ssid_string_length_count_byte",max:32},allowBlank:!1},{name:"hideSsid2g",defaultValue:"off"},{name:"password2g"},{name:"ssid5g",vtype:{vtype:"ssid_string_length_count_byte",max:32},allowBlank:!1},{name:"hideSsid5g",defaultValue:"off"},{name:"password5g"}]}),e.su.storeManager.define("quickSetupRepeaterSteps",{type:"store",fields:[{name:"name"},{name:"unreachable",defaultValue:!1},{name:"withoutNode",defaultValue:!1},{name:"notCached",defaultValue:!1}],data:[{name:"qsSetTimezone"},{name:"qsHostNetwork2g"},{name:"qsHostNetwork5g"},{name:"qsExtendedNetwork"},{name:"qsAutoUpdate",unreachable:!e.su.serviceManager.get("device").getConfig().supportAutoUpdate},{name:"transitionAp",withoutNode:!0,notCached:!0},{name:"qsSummaryRepeater"}]})}(jQuery),function(u){u.su.moduleManager.define("quickSetupRouter",{services:["moduleLoader","ajax","device","moduleManager"],deps:["main","quickSetup"],models:["quickSetupModel","qsSummaryModel","quickSetupEditModel"],stores:["quickSetupRouterSteps"],views:["quickSetupRouterView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){a.quickSetup.showLoading(),n.quickSetupModel.toggleFields(!0),n.quickSetupModel.load({success:function(e){var t=n.qsSummaryModel.ispProfile.convert(n.quickSetupModel.ispSpecialMode.getValue());n.qsSummaryModel.ispProfile.setValue(t),n.quickSetupEditModel.loadData(e,!0)}}),t.checkPhysicalConn().always(a.quickSetup.hideLoading)},ev_after_launch:function(e,t,s,n,i,a,o){t.stepTo(a.main.upgraded?"qsCloudAndTether":"qsSetTimezone")}},init:function(n,e,t,s,i,a){this.listen({"views.quickSetupRouterView.qsSetTimezoneLoader":{ev_qs_next:n.goNext},"views.quickSetupRouterView.qsSelectInternetPortLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupRouterView.qsChooseInternetTypeLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupRouterView.qsInternetEditLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupRouterView.qsWirelessSettingLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupRouterView.qsInternetConnectionLoader":{ev_qs_next:n.goNext,ev_qs_goto:function(e,t){n.stepTo(t)}},"views.quickSetupRouterView.qsAutoUpdateLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupRouterView.qsFwUpgradeLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupRouterView.qsWifiBoostSetLoader":{ev_qs_next:n.goNext,ev_qs_back:n.goBack},"views.quickSetupRouterView.qsSummaryLoader":{ev_qs_next:n.goNext},"views.quickSetupRouterView.qsDualNatDetectLoader":{ev_qs_next:n.goNext},"views.quickSetupRouterView.qsExtenderGuidanceLoader":{ev_qs_next:n.goNext},"views.quickSetupRouterView.qsCloudAndTetherLoader":{ev_qs_next:n.goNext},"views.quickSetupRouterView.qsUXPlanLoader":{ev_qs_next:n.goNext}}),this.control({".qs-steps":{ev_step_goto:function(e,t){n.goTo(t)},ev_step_done:function(){i.quickSetup.quit()}}}),this.configViews({id:"quickSetupRouterView",items:[{id:"qs-router-steps",beforeStepEnterHooks:{qsFwUpgrade:n.detectUpgradeLv,qsSummary:function(e,t,s){n.preloadModule(e,function(){"upgradeSucceed"===n.upgradeState?s():n.submitQsWirelessData().then(s)})},qsCloudAndTether:function(e,t,s){n.preloadModule(e,s)}},beforeStepLeaveHooks:{qsSummary:function(e,t,s){if("qsDualNatDetect"!==e&&"upgradeSucceed"===n.upgradeState)return s(!(window.location.href="/"));s()},qsDualNatDetect:function(e,t,s){if("upgradeSucceed"===n.upgradeState)return s(!(window.location.href="/"));s()}}}]})}},function(i,t,n,e,a,o){var r=[],s=!1,p={wanConnected:!1},l=["qsInternetConnection"];return{upgradeDetail:null,noInternet:!0,skipFlag:!1,upgradeState:"noUpgrade",mode:null,exitMsgNum:1,supportWanLanPort:!!o.device.getConfig().supportWanLanPort,supportUsbModem:!!o.device.getConfig().supportUSB3G4GModem,supportAutoUpdate:o.device.getConfig().supportAutoUpdate,supportBoostWifiSignal:o.device.getConfig().supportBoostWifiSignal,setPhysicalConnStatus:function(e){s=e},getPhysicalConnStatus:function(){return s},setConnectionStatus:function(e){p.wanConnected=e},getConnectionStatus:function(){return p},checkPhysicalConn:function(){var s=u.Deferred(),e=[];return i.supportWanLanPort?i.supportUsbModem?(e.push(i.detectWanLanConn()),e.push(i.detectWanAndModemConn(!0))):e.push(i.detectWanLanConn()):e.push(i.detectWanAndModemConn()),u.when.apply(this,e).then(function(e,t){t=e||!!t;i.setConnectionStatus(e),i.setPhysicalConnStatus(t),t?s.resolve():s.reject()}).fail(function(){i.setPhysicalConnStatus(!1),s.reject()}),s.promise()},detectWanAndModemConn:function(s){var n=u.Deferred();return o.ajax.requestPromise({proxy:"physicalConnectionProxy"}).then(function(e){var t="UNPLUGGED"!==(e.wan_internet_status||"").toUpperCase(),e="UNPLUGGED"!==(e.modem_internet_status||"").toUpperCase();s?n.resolve(e):n.resolve(t,e)}).fail(function(){n.reject()}),n.promise()},detectWanLanConn:function(){var t=u.Deferred();return o.ajax.requestPromise({proxy:"portConnectionProxy",data:{port:n.quickSetupModel.wanPortStatus.getValue()}}).then(function(e){t.resolve("connected"===e.port_state)}).fail(function(){t.reject()}),t.promise()},currentStep:null,_getChildModuleLoader:function(e){return t.quickSetupRouterView[e+"Loader"]},enableStep:function(e){t.quickSetupRouterView.steps.enable(e)},disableStep:function(e){t.quickSetupRouterView.steps.disable(e)},stepTo:function(e){t.quickSetupRouterView.steps.goTo(e)},goNext:function(){t.quickSetupRouterView.steps.next()},goBack:function(){t.quickSetupRouterView.steps.back()},goTo:function(e){i.currentStep&&i._getChildModuleLoader(i.currentStep).hide();var t=i._getChildModuleLoader(e);i.preloadModule(e),t.show(),document.querySelector(".page-content-container").scrollTop=0,i.currentStep=e},preloadModule:function(e,t){var s;r.includes(e)||(s=i._getChildModuleLoader(e),o.moduleLoader.load({module:"quickSetupRouter"},{module:e},s,function(){t&&t(),a.main.hideMask()}),l.includes(e)||r.push(e))},submitAutoUpdateData:function(e){var t="on"==n.quickSetupEditModel.autoUpdate.getValue()?/^autoUpdate/:/^autoUpdate$/;return i.skipFlag?n.quickSetupModel.toggleFields(/^wireless/,!1):n.quickSetupModel.toggleFields(!1),n.quickSetupModel.toggleFields(t,!0),n.quickSetupModel.submit(e)},submitQuickSetupData:function(e){return n.quickSetupModel.toggleFields(/^wireless/,!1),n.quickSetupModel.toggleFields(/^autoUpdate/,!1),i.supportWanLanPort||n.quickSetupModel.toggleFields(/^wanPortStatus/,!1),n.quickSetupModel.submit(e)},submitQsWirelessData:function(e){var t=n.quickSetupModel.enable5g1Bw160.getValue(),s=(n.quickSetupModel.toggleFields(/^wireless/,!0),i.skipFlag||n.quickSetupModel.toggleFields(function(e){if(!/^wireless/.test(e))return!0},!1),o.device.getIsTriband()||n.quickSetupModel.toggleFields(function(e){if(/^wireless5g2/.test(e))return!0},!1),o.device.getConfig().supportWifi6E||n.quickSetupModel.toggleFields(function(e){if(/^wireless6g/.test(e))return!0},!1),o.device.getConfig().support160MEnable?(n.quickSetupModel.wireless5gHtmode.setValue("80"),"on"===t&&n.quickSetupModel.wireless5gHtmode.setValue("160")):n.quickSetupModel.toggleFields(/^wireless5gHtmode/,!1),i.supportAutoUpdate||n.quickSetupModel.toggleFields(/^autoUpdate/,!1),i.supportWanLanPort||n.quickSetupModel.toggleFields(/^wanPortStatus/,!1),u.Deferred());return n.quickSetupModel.submit({success:function(){s.resolve()},fail:s.reject,error:s.reject}),s.promise()},detectUpgradeLv:function(e,t,s){function n(){i.upgradeState="noUpgrade",i.disableStep("qsFwUpgrade"),i.submitQsWirelessData().then(function(){var e=i.supportBoostWifiSignal?"qsWifiBoostSet":"qsSummary";s(e)})}o.ajax.request({proxy:"onlineUpgradeProxy",data:{operation:"read"},success:function(e){i.upgradeDetail=e.detail.replace(/\\\\/g,"&#92;").replace(/\\n/g,"<br>"),(e.latest_flag?n:(i.enableStep("qsFwUpgrade"),s))()},fail:n,error:n})},afterSubmitConnectType:function(){o.ajax.request({ajax:{async:!1},data:{operation:"read"},url:u.su.url("/admin/network?form=wan_ipv4_status"),success:function(e){o.device.switchDialType(e.conntype);e=o.moduleManager.get("index");e&&e.reloadMenu()}})}}})}(jQuery),function(e){var t;e.su.modelManager.define("quickSetupModel",{type:"model",fields:[{name:"regionCountry",mapping:"region_country"},{name:"ispSpecialCfgChanged",mapping:"isp_special_cfg_changed"},{name:"ispSpecialEnable",mapping:"isp_special_enable"},{name:"ispSpecialIgmpEnable",mapping:"isp_special_igmp_enable"},{name:"ispSpecialIgmpSnoopingEnable",mapping:"isp_special_igmp_snooping_enable"},{name:"ispSpecialIgmpVersion",mapping:"isp_special_igmp_version"},{name:"ispSpecialInternetTag",mapping:"isp_special_internet_tag"},{name:"ispSpecialInternetVid",mapping:"isp_special_internet_vid"},{name:"ispSpecialInternetVprio",mapping:"isp_special_internet_vprio"},{name:"ispSpecialIpphoneVid",mapping:"isp_special_ipphone_vid"},{name:"ispSpecialIpphoneVprio",mapping:"isp_special_ipphone_vprio"},{name:"ispSpecialIptvTag",mapping:"isp_special_iptv_tag"},{name:"ispSpecialIptvVid",mapping:"isp_special_iptv_vid"},{name:"ispSpecialIptvVprio",mapping:"isp_special_iptv_vprio"},{name:"ispSpecialMciptvEnable",mapping:"isp_special_mciptv_enable"},{name:"ispSpecialMciptvVid",mapping:"isp_special_mciptv_vid"},{name:"ispSpecialMciptvVprio",mapping:"isp_special_mciptv_vprio"},{name:"ispSpecialMcwifiEnable",mapping:"isp_special_mcwifi_enable"},{name:"ispSpecialMode",mapping:"isp_special_mode"},{name:"ispSpecialQosIptvCompatible",mapping:"isp_special_qos_iptv_compatible"},{name:"ispSpecialWaitTime",mapping:"isp_special_wait_time"},{name:"ispSpecialPortSettings",mapping:"isp_special_port_settings"},{name:"ispSpecialIptvAllowLanNoInternet",mapping:"isp_special_iptv_allow_lan_no_internet"},{name:"networkAutodetect",mapping:"network_autodetect"},{name:"networkConntype",mapping:"network_conntype"},{name:"networkDhcpConnStatus",mapping:"network_dhcp_conn_status"},{name:"networkDhcpConntype",mapping:"network_dhcp_conntype"},{name:"networkDhcpDnsMode",mapping:"network_dhcp_dns_mode"},{name:"networkDhcpDynPridns",mapping:"network_dhcp_dyn_pridns"},{name:"networkDhcpDynSnddns",mapping:"network_dhcp_dyn_snddns"},{name:"networkDhcpGateway",mapping:"network_dhcp_gateway"},{name:"networkDhcpHostname",mapping:"network_dhcp_hostname"},{name:"networkDhcpIpaddr",mapping:"network_dhcp_ipaddr"},{name:"networkDhcpLinkStatus",mapping:"network_dhcp_link_status"},{name:"networkDhcpMacCloneType",mapping:"network_dhcp_mac_clone_type"},{name:"networkDhcpMacCustom",mapping:"network_dhcp_mac_custom"},{name:"networkDhcpManualPridns",mapping:"network_dhcp_manual_pridns"},{name:"networkDhcpManualSnddns",mapping:"network_dhcp_manual_snddns"},{name:"networkDhcpMtu",mapping:"network_dhcp_mtu"},{name:"networkDhcpNetmask",mapping:"network_dhcp_netmask"},{name:"networkDhcpPppshare",mapping:"network_dhcp_pppshare"},{name:"networkDhcpPriDns",mapping:"network_dhcp_pri_dns"},{name:"networkDhcpSndDns",mapping:"network_dhcp_snd_dns"},{name:"networkDhcpUnicast",mapping:"network_dhcp_unicast"},{name:"networkL2tpConnMode",mapping:"network_l2tp_conn_mode"},{name:"networkL2tpConnStatus",mapping:"network_l2tp_conn_status"},{name:"networkL2tpConntype",mapping:"network_l2tp_conntype"},{name:"networkL2tpDemandIdle",mapping:"network_l2tp_demand_idle"},{name:"networkL2tpDynGateway",mapping:"network_l2tp_dyn_gateway"},{name:"networkL2tpDynIp",mapping:"network_l2tp_dyn_ip"},{name:"networkL2tpDynNetmask",mapping:"network_l2tp_dyn_netmask"},{name:"networkL2tpDynPridns",mapping:"network_l2tp_dyn_pridns"},{name:"networkL2tpDynServer",mapping:"network_l2tp_dyn_server"},{name:"networkL2tpDynSnddns",mapping:"network_l2tp_dyn_snddns"},{name:"networkL2tpInetIp",mapping:"network_l2tp_inet_ip"},{name:"networkL2tpInetPridns",mapping:"network_l2tp_inet_pridns"},{name:"networkL2tpInetSnddns",mapping:"network_l2tp_inet_snddns"},{name:"networkL2tpLinkStatus",mapping:"network_l2tp_link_status"},{name:"networkL2tpManualIdle",mapping:"network_l2tp_manual_idle"},{name:"networkL2tpMtu",mapping:"network_l2tp_mtu"},{name:"networkL2tpPassword",mapping:"network_l2tp_password"},{name:"networkL2tpPppshare",mapping:"network_l2tp_pppshare"},{name:"networkL2tpSndConn",mapping:"network_l2tp_snd_conn"},{name:"networkL2tpStaticGateway",mapping:"network_l2tp_static_gateway"},{name:"networkL2tpStaticIp",mapping:"network_l2tp_static_ip"},{name:"networkL2tpStaticNetmask",mapping:"network_l2tp_static_netmask"},{name:"networkL2tpStaticPridns",mapping:"network_l2tp_static_pridns"},{name:"networkL2tpStaticServer",mapping:"network_l2tp_static_server"},{name:"networkL2tpStaticSnddns",mapping:"network_l2tp_static_snddns"},{name:"networkL2tpUsername",mapping:"network_l2tp_username"},{name:"networkPppoeUsername",mapping:"network_pppoe_username"},{name:"networkPppoeAccess",mapping:"network_pppoe_access"},{name:"networkPppoeConnMode",mapping:"network_pppoe_conn_mode"},{name:"networkPppoeConnStatus",mapping:"network_pppoe_conn_status"},{name:"networkPppoeConntype",mapping:"network_pppoe_conntype"},{name:"networkPppoeDemandIdle",mapping:"network_pppoe_demand_idle"},{name:"networkPppoeDnsMode",mapping:"network_pppoe_dns_mode"},{name:"networkPppoeDynIp",mapping:"network_pppoe_dyn_ip"},{name:"networkPppoeDynNetmask",mapping:"network_pppoe_dyn_netmask"},{name:"networkPppoeDynPridns",mapping:"network_pppoe_dyn_pridns"},{name:"networkPppoeDynSnddns",mapping:"network_pppoe_dyn_snddns"},{name:"networkPppoeInetIp",mapping:"network_pppoe_inet_ip"},{name:"networkPppoeInetPridns",mapping:"network_pppoe_inet_pridns"},{name:"networkPppoeInetSnddns",mapping:"network_pppoe_inet_snddns"},{name:"networkPppoeInterval",mapping:"network_pppoe_interval"},{name:"networkPppoeIpMode",mapping:"network_pppoe_ip_mode"},{name:"networkPppoeLinkStatus",mapping:"network_pppoe_link_status"},{name:"networkPppoeManualIdle",mapping:"network_pppoe_manual_idle"},{name:"networkPppoeMtu",mapping:"network_pppoe_mtu"},{name:"networkPppoePassword",mapping:"network_pppoe_password"},{name:"networkPppoePppshare",mapping:"network_pppoe_pppshare"},{name:"networkPppoeServer",mapping:"network_pppoe_server"},{name:"networkPppoeSndConn",mapping:"network_pppoe_snd_conn"},{name:"networkPppoeSpecificIp",mapping:"network_pppoe_specific_ip"},{name:"networkPppoeStaticIp",mapping:"network_pppoe_static_ip"},{name:"networkPppoeStaticNetmask",mapping:"network_pppoe_static_netmask"},{name:"networkPppoeStaticPridns",mapping:"network_pppoe_static_pridns"},{name:"networkPppoeStaticSnddns",mapping:"network_pppoe_static_snddns"},{name:"networkPppoeTimeEnd",mapping:"network_pppoe_time_end"},{name:"networkPptpConnMode",mapping:"network_pptp_conn_mode"},{name:"networkPptpConnStatus",mapping:"network_pptp_conn_status"},{name:"networkPptpConntype",mapping:"network_pptp_conntype"},{name:"networkPptpDemandIdle",mapping:"network_pptp_demand_idle"},{name:"networkPptpDynGateway",mapping:"network_pptp_dyn_gateway"},{name:"networkPptpDynIp",mapping:"network_pptp_dyn_ip"},{name:"networkPptpDynNetmask",mapping:"network_pptp_dyn_netmask"},{name:"networkPptpDynPridns",mapping:"network_pptp_dyn_pridns"},{name:"networkPptpDynServer",mapping:"network_pptp_dyn_server"},{name:"networkPptpDynSnddns",mapping:"network_pptp_dyn_snddns"},{name:"networkPptpInetIp",mapping:"network_pptp_inet_ip"},{name:"networkPptpInetPridns",mapping:"network_pptp_inet_pridns"},{name:"networkPptpInetSnddns",mapping:"network_pptp_inet_snddns"},{name:"networkPptpLinkStatus",mapping:"network_pptp_link_status"},{name:"networkPptpManualIdle",mapping:"network_pptp_manual_idle"},{name:"networkPptpMtu",mapping:"network_pptp_mtu"},{name:"networkPptpPassword",mapping:"network_pptp_password"},{name:"networkPptpPppshare",mapping:"network_pptp_pppshare"},{name:"networkPptpSndConn",mapping:"network_pptp_snd_conn"},{name:"networkPptpStaticGateway",mapping:"network_pptp_static_gateway"},{name:"networkPptpStaticIp",mapping:"network_pptp_static_ip"},{name:"networkPptpStaticNetmask",mapping:"network_pptp_static_netmask"},{name:"networkPptpStaticPridns",mapping:"network_pptp_static_pridns"},{name:"networkPptpStaticServer",mapping:"network_pptp_static_server"},{name:"networkPptpStaticSnddns",mapping:"network_pptp_static_snddns"},{name:"networkPptpUsername",mapping:"network_pptp_username"},{name:"networkDsliteDynMode",mapping:"network_dslite_dynamic_mode"},{name:"networkDsliteAftrName",mapping:"network_dslite_AFTR_name"},{name:"networkStaticConnStatus",mapping:"network_static_conn_status"},{name:"networkStaticConntype",mapping:"network_static_conntype"},{name:"networkStaticGateway",mapping:"network_static_gateway"},{name:"networkStaticIpaddr",mapping:"network_static_ipaddr"},{name:"networkStaticLinkStatus",mapping:"network_static_link_status"},{name:"networkStaticMtu",mapping:"network_static_mtu"},{name:"networkStaticNetmask",mapping:"network_static_netmask"},{name:"networkStaticPppshare",mapping:"network_static_pppshare"},{name:"networkStaticPriDns",mapping:"network_static_pri_dns"},{name:"networkStaticSndDns",mapping:"network_static_snd_dns"},{name:"regionCapability",mapping:"region_capability"},{name:"regionRegionSelectPermission",mapping:"region_region_select_permission"},{name:"regionSupportSmartConnect",mapping:"region_support_smart_connect"},{name:"regionSupportWirelessSchedule",mapping:"region_support_wireless_schedule"},{name:"timeDate",mapping:"time_date"},{name:"timeDay",mapping:"time_day"},{name:"timeHour24Enable",mapping:"time_hour24_enable"},{name:"timeHour24Support",mapping:"time_hour24_support"},{name:"timeNtpSvr1",mapping:"time_ntp_svr1"},{name:"timeNtpSvr2",mapping:"time_ntp_svr2"},{name:"timeQuicksetup",mapping:"time_quicksetup"},{name:"timeTime",mapping:"time_time"},{name:"timeTimezone",mapping:"time_timezone",allowBlank:!1},{name:"timeType",mapping:"time_type"},{name:"wireType",mapping:"wire_type"},{name:"wirelessSeparately",mapping:"is_set_each_band_separately",defaultValue:0},{name:"wirelessSmartEnable",mapping:"smart_connect_smart_enable"},{name:"wireless2gAirtimeFairness",mapping:"wireless_2g_airtime_fairness"},{name:"wireless2gChannel",mapping:"wireless_2g_channel"},{name:"wireless2gCurrentChannel",mapping:"wireless_2g_current_channel"},{name:"wireless2gDisabled",mapping:"wireless_2g_disabled"},{name:"wireless2gDisabledAll",mapping:"wireless_2g_disabled_all"},{name:"wireless2gEnable",mapping:"wireless_2g_enable"},{name:"wireless2gEncryPassword",mapping:"wireless_2g_encry_password"},{name:"wireless2gEncryption",mapping:"wireless_2g_encryption"},{name:"wireless2gExtinfo",mapping:"wireless_2g_extinfo"},{name:"wireless2gHtmode",mapping:"wireless_2g_htmode"},{name:"wireless2gHwmode",mapping:"wireless_2g_hwmode"},{name:"wireless2gMacaddr",mapping:"wireless_2g_macaddr"},{name:"wireless2gMuMimo",mapping:"wireless_2g_mu_mimo"},{name:"wireless2gPort",mapping:"wireless_2g_port"},{name:"wireless2gPskCipher",mapping:"wireless_2g_psk_cipher"},{name:"wireless2gPskKey",mapping:"wireless_2g_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless2gPskVersion",mapping:"wireless_2g_psk_version"},{name:"wireless2gServer",mapping:"wireless_2g_server"},{name:"wireless2gSsid",mapping:"wireless_2g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless2gTxpower",mapping:"wireless_2g_txpower"},{name:"wireless2gWdsStatus",mapping:"wireless_2g_wds_status"},{name:"wireless2gWepFormat1",mapping:"wireless_2g_wep_format1"},{name:"wireless2gWepFormat2",mapping:"wireless_2g_wep_format2"},{name:"wireless2gWepFormat3",mapping:"wireless_2g_wep_format3"},{name:"wireless2gWepFormat4",mapping:"wireless_2g_wep_format4"},{name:"wireless2gWepKey1",mapping:"wireless_2g_wep_key1"},{name:"wireless2gWepKey2",mapping:"wireless_2g_wep_key2"},{name:"wireless2gWepKey3",mapping:"wireless_2g_wep_key3"},{name:"wireless2gWepKey4",mapping:"wireless_2g_wep_key4"},{name:"wireless2gWepMode",mapping:"wireless_2g_wep_mode"},{name:"wireless2gWepSelect",mapping:"wireless_2g_wep_select"},{name:"wireless2gWepType1",mapping:"wireless_2g_wep_type1"},{name:"wireless2gWepType2",mapping:"wireless_2g_wep_type2"},{name:"wireless2gWepType3",mapping:"wireless_2g_wep_type3"},{name:"wireless2gWepType4",mapping:"wireless_2g_wep_type4"},{name:"wireless2gWpaCipher",mapping:"wireless_2g_wpa_cipher"},{name:"wireless2gWpaKey",mapping:"wireless_2g_wpa_key"},{name:"wireless2gWpaVersion",mapping:"wireless_2g_wpa_version"},{name:"wireless2gWpsState",mapping:"wireless_2g_wps_state"},{name:"wireless5g2AirtimeFairness",mapping:"wireless_5g_2_airtime_fairness"},{name:"wireless5g2Channel",mapping:"wireless_5g_2_channel"},{name:"wireless5g2CurrentChannel",mapping:"wireless_5g_2_current_channel"},{name:"wireless5g2Disabled",mapping:"wireless_5g_2_disabled"},{name:"wireless5g2DisabledAll",mapping:"wireless_5g_2_disabled_all"},{name:"wireless5g2Enable",mapping:"wireless_5g_2_enable"},{name:"wireless5g2EncryPassword",mapping:"wireless_5g_2_encry_password"},{name:"wireless5g2Encryption",mapping:"wireless_5g_2_encryption"},{name:"wireless5g2regionEnable",mapping:"wireless_5g_2_region_enable"},{name:"wireless5g2Extinfo",mapping:"wireless_5g_2_extinfo"},{name:"wireless5g2Hwmode",mapping:"wireless_5g_2_hwmode"},{name:"wireless5g2Macaddr",mapping:"wireless_5g_2_macaddr"},{name:"wireless5g2MuMimo",mapping:"wireless_5g_2_mu_mimo"},{name:"wireless5g2Port",mapping:"wireless_5g_2_port"},{name:"wireless5g2PskCipher",mapping:"wireless_5g_2_psk_cipher"},{name:"wireless5g2PskKey",mapping:"wireless_5g_2_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless5g2PskVersion",mapping:"wireless_5g_2_psk_version"},{name:"wireless5g2Server",mapping:"wireless_5g_2_server"},{name:"wireless5g2Ssid",mapping:"wireless_5g_2_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless5g2Hidden",mapping:"wireless_5g_2_hidden"},{name:"wireless5g2Txpower",mapping:"wireless_5g_2_txpower"},{name:"wireless5g2WdsStatus",mapping:"wireless_5g_2_wds_status"},{name:"wireless5g2WepFormat1",mapping:"wireless_5g_2_wep_format1"},{name:"wireless5g2WepFormat2",mapping:"wireless_5g_2_wep_format2"},{name:"wireless5g2WepFormat3",mapping:"wireless_5g_2_wep_format3"},{name:"wireless5g2WepFormat4",mapping:"wireless_5g_2_wep_format4"},{name:"wireless5g2WepKey1",mapping:"wireless_5g_2_wep_key1"},{name:"wireless5g2WepKey2",mapping:"wireless_5g_2_wep_key2"},{name:"wireless5g2WepKey3",mapping:"wireless_5g_2_wep_key3"},{name:"wireless5g2WepKey4",mapping:"wireless_5g_2_wep_key4"},{name:"wireless5g2WepMode",mapping:"wireless_5g_2_wep_mode"},{name:"wireless5g2WepSelect",mapping:"wireless_5g_2_wep_select"},{name:"wireless5g2WepType1",mapping:"wireless_5g_2_wep_type1"},{name:"wireless5g2WepType2",mapping:"wireless_5g_2_wep_type2"},{name:"wireless5g2WepType3",mapping:"wireless_5g_2_wep_type3"},{name:"wireless5g2WepType4",mapping:"wireless_5g_2_wep_type4"},{name:"wireless5g2WpaCipher",mapping:"wireless_5g_2_wpa_cipher"},{name:"wireless5g2WpaKey",mapping:"wireless_5g_2_wpa_key"},{name:"wireless5g2WpaVersion",mapping:"wireless_5g_2_wpa_version"},{name:"wireless5g2WpsState",mapping:"wireless_5g_2_wps_state"},{name:"wireless6gAirtimeFairness",mapping:"wireless_6g_airtime_fairness"},{name:"wireless6gChannel",mapping:"wireless_6g_channel"},{name:"wireless6gCurrentChannel",mapping:"wireless_6g_current_channel"},{name:"wireless6gDisabled",mapping:"wireless_6g_disabled"},{name:"wireless6gDisabledAll",mapping:"wireless_6g_disabled_all"},{name:"wireless6gEnable",mapping:"wireless_6g_enable"},{name:"wireless6gEncryPassword",mapping:"wireless_6g_encry_password"},{name:"wireless6gEncryption",mapping:"wireless_6g_encryption"},{name:"wireless6gregionEnable",mapping:"wireless_6g_region_enable"},{name:"wireless6gExtinfo",mapping:"wireless_6g_extinfo"},{name:"wireless6gHtmode",mapping:"wireless_6g_htmode"},{name:"wireless6gHwmode",mapping:"wireless_6g_hwmode"},{name:"wireless6gMacaddr",mapping:"wireless_6g_macaddr"},{name:"wireless6gMuMimo",mapping:"wireless_6g_mu_mimo"},{name:"wireless6gPort",mapping:"wireless_6g_port"},{name:"wireless6gPskCipher",mapping:"wireless_6g_psk_cipher"},{name:"wireless6gPskKey",mapping:"wireless_6g_psk_key",allowBlank:!1,vtype:"wpa3_password"},{name:"wireless6gPskVersion",mapping:"wireless_6g_psk_version"},{name:"wireless6gServer",mapping:"wireless_6g_server"},{name:"wireless6gSsid",mapping:"wireless_6g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless6gHidden",mapping:"wireless_6g_hidden"},{name:"wireless6gTxpower",mapping:"wireless_6g_txpower"},{name:"wireless6gWdsStatus",mapping:"wireless_6g_wds_status"},{name:"wireless6gWepFormat1",mapping:"wireless_6g_wep_format1"},{name:"wireless6gWepFormat2",mapping:"wireless_6g_wep_format2"},{name:"wireless6gWepFormat3",mapping:"wireless_6g_wep_format3"},{name:"wireless6gWepFormat4",mapping:"wireless_6g_wep_format4"},{name:"wireless6gWepKey1",mapping:"wireless_6g_wep_key1"},{name:"wireless6gWepKey2",mapping:"wireless_6g_wep_key2"},{name:"wireless6gWepKey3",mapping:"wireless_6g_wep_key3"},{name:"wireless6gWepKey4",mapping:"wireless_6g_wep_key4"},{name:"wireless6gWepMode",mapping:"wireless_6g_wep_mode"},{name:"wireless6gWepSelect",mapping:"wireless_6g_wep_select"},{name:"wireless6gWepType1",mapping:"wireless_6g_wep_type1"},{name:"wireless6gWepType2",mapping:"wireless_6g_wep_type2"},{name:"wireless6gWepType3",mapping:"wireless_6g_wep_type3"},{name:"wireless6gWepType4",mapping:"wireless_6g_wep_type4"},{name:"wireless6gWpaCipher",mapping:"wireless_6g_wpa_cipher"},{name:"wireless6gWpaKey",mapping:"wireless_6g_wpa_key"},{name:"wireless6gWpaVersion",mapping:"wireless_6g_wpa_version"},{name:"wireless6gWpsState",mapping:"wireless_6g_wps_state"},{name:"wireless5gAirtimeFairness",mapping:"wireless_5g_airtime_fairness"},{name:"wireless5gChannel",mapping:"wireless_5g_channel"},{name:"wireless5gCurrentChannel",mapping:"wireless_5g_current_channel"},{name:"wireless5gDisabled",mapping:"wireless_5g_disabled"},{name:"wireless5gDisabledAll",mapping:"wireless_5g_disabled_all"},{name:"wireless5gEnable",mapping:"wireless_5g_enable"},{name:"wireless5gEncryPassword",mapping:"wireless_5g_encry_password"},{name:"wireless5gEncryption",mapping:"wireless_5g_encryption"},{name:"wireless5gRegionEnable",mapping:"wireless_5g_region_enable"},{name:"wireless5gExtinfo",mapping:"wireless_5g_extinfo"},{name:"wireless5gHtmode",mapping:"wireless_5g_htmode"},{name:"wireless5gHwmode",mapping:"wireless_5g_hwmode"},{name:"wireless5gMacaddr",mapping:"wireless_5g_macaddr"},{name:"wireless5gMuMimo",mapping:"wireless_5g_mu_mimo"},{name:"wireless5gPort",mapping:"wireless_5g_port"},{name:"wireless5gPskCipher",mapping:"wireless_5g_psk_cipher"},{name:"wireless5gPskKey",mapping:"wireless_5g_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless5gPskVersion",mapping:"wireless_5g_psk_version"},{name:"wireless5gServer",mapping:"wireless_5g_server"},{name:"wireless5gSsid",mapping:"wireless_5g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless5gTxpower",mapping:"wireless_5g_txpower"},{name:"wireless5gWdsStatus",mapping:"wireless_5g_wds_status"},{name:"wireless5gWepFormat1",mapping:"wireless_5g_wep_format1"},{name:"wireless5gWepFormat2",mapping:"wireless_5g_wep_format2"},{name:"wireless5gWepFormat3",mapping:"wireless_5g_wep_format3"},{name:"wireless5gWepFormat4",mapping:"wireless_5g_wep_format4"},{name:"wireless5gWepKey1",mapping:"wireless_5g_wep_key1"},{name:"wireless5gWepKey2",mapping:"wireless_5g_wep_key2"},{name:"wireless5gWepKey3",mapping:"wireless_5g_wep_key3"},{name:"wireless5gWepKey4",mapping:"wireless_5g_wep_key4"},{name:"wireless5gWepMode",mapping:"wireless_5g_wep_mode"},{name:"wireless5gWepSelect",mapping:"wireless_5g_wep_select"},{name:"wireless5gWepType1",mapping:"wireless_5g_wep_type1"},{name:"wireless5gWepType2",mapping:"wireless_5g_wep_type2"},{name:"wireless5gWepType3",mapping:"wireless_5g_wep_type3"},{name:"wireless5gWepType4",mapping:"wireless_5g_wep_type4"},{name:"wireless5gWpaCipher",mapping:"wireless_5g_wpa_cipher"},{name:"wireless5gWpaKey",mapping:"wireless_5g_wpa_key"},{name:"wireless5gWpaVersion",mapping:"wireless_5g_wpa_version"},{name:"wireless5gWpsState",mapping:"wireless_5g_wps_state"},{name:"enable5g1Bw160",defaultValue:"on"},{name:"wanPortStatus",mapping:"network_port_wan_port_status"},{name:"autoUpdate",mapping:"auto_upgrade_enable",defaultValue:"on"},{name:"autoUpdateTime",mapping:"auto_upgrade_time",defaultValue:3},{name:"workingModeWan3g4gSwitch",mapping:"working_mode_wan_3g4g_switch",defaultValue:"cable"},{name:"usbmodemLocindex",mapping:"usbmodem_locindex"},{name:"usbmodemIspindex",mapping:"usbmodem_ispindex"},{name:"usbmodemSetisp",mapping:"usbmodem_setisp"},{name:"usbmodemDialNum",mapping:"usbmodem_dial_num"},{name:"usbmodemMobileApn",mapping:"usbmodem_mobile_apn"},{name:"usbmodemUsername",mapping:"usbmodem_username"},{name:"usbmodemPassword",mapping:"usbmodem_password"},{name:"usbmodemDialNumHidden",mapping:"usbmodem_dial_num_hidden"},{name:"usbmodemMobileApnHidden",mapping:"usbmodem_mobile_apn_hidden"},{name:"usbmodemUsernameHidden",mapping:"usbmodem_username_hidden"},{name:"usbmodemPasswordHidden",mapping:"usbmodem_password_hidden"},{name:"networkPreispCountryName",mapping:"network_preisp_country_name"},{name:"networkPreispCityName",mapping:"network_preisp_city_name"},{name:"networkPreispIspName",mapping:"network_preisp_isp_name"}],preventSuccessEvent:!0,preventErrorEvent:!0,convert:function(e){return"no"===e.time_quicksetup?(e.time_timezone="",e.auto_upgrade_enable=""):""===e.auto_upgrade_enable&&(e.auto_upgrade_enable="on"),e},serialize:function(e){var t,s={network_port_wan_port_status:"",region_country:"",time_timezone:"",network_conntype:"",isp_special_mode:"",isp_special_internet_vid:"",isp_special_internet_vprio:"",isp_special_ipphone_vid:"",isp_special_ipphone_vprio:"",isp_special_iptv_tag:"",isp_special_iptv_vid:"",isp_special_iptv_vprio:"",isp_special_internet_tag:"",isp_special_mciptv_enable:"",isp_special_mciptv_vid:"",isp_special_mciptv_vprio:"",isp_special_enable:"",isp_special_port_settings:"",isp_special_iptv_allow_lan_no_internet:"",network_dhcp_mac_clone_type:"",network_dhcp_mac_custom:"",network_static_ipaddr:"",network_static_netmask:"",network_static_gateway:"",network_static_pri_dns:"",network_static_snd_dns:"",network_pppoe_username:"",network_pppoe_password:"",network_l2tp_username:"",network_l2tp_password:"",network_l2tp_snd_conn:"",network_l2tp_dyn_server:"",network_l2tp_static_server:"",network_l2tp_static_ip:"",network_l2tp_static_netmask:"",network_l2tp_static_gateway:"",network_l2tp_static_pridns:"",network_l2tp_static_snddns:"",network_pptp_username:"",network_pptp_password:"",network_pptp_snd_conn:"",network_pptp_dyn_server:"",network_pptp_static_server:"",network_pptp_static_ip:"",network_pptp_static_netmask:"",network_pptp_static_gateway:"",network_pptp_static_pridns:"",network_pptp_static_snddns:"",network_dslite_dynamic_mode:"",network_dslite_AFTR_name:"",is_set_each_band_separately:"",smart_connect_smart_enable:"",wireless_2g_enable:"",wireless_2g_ssid:"",wireless_2g_encry_password:"",wireless_2g_psk_key:"",wireless_2g_psk_cipher:"",wireless_2g_psk_version:"",wireless_2g_encryption:"",wireless_2g_disabled_all:"",wireless_5g_enable:"",wireless_5g_ssid:"",wireless_5g_encry_password:"",wireless_5g_psk_key:"",wireless_5g_psk_cipher:"",wireless_5g_psk_version:"",wireless_5g_encryption:"",wireless_5g_region_enable:"",wireless_5g_disabled_all:"",wireless_5g_2_enable:"",wireless_5g_2_ssid:"",wireless_5g_2_encry_password:"",wireless_5g_2_psk_key:"",wireless_5g_2_psk_cipher:"",wireless_5g_2_psk_version:"",wireless_5g_2_encryption:"",wireless_5g_2_region_enable:"",wireless_5g_2_disabled_all:"",wireless_6g_enable:"",wireless_6g_ssid:"",wireless_6g_encry_password:"",wireless_6g_psk_key:"",wireless_6g_psk_cipher:"",wireless_6g_psk_version:"",wireless_6g_encryption:"",wireless_6g_region_enable:"",wireless_6g_disabled_all:"",wireless_5g_htmode:"",wireless_5g_2_htmode:"",username:"",password:"",auto_upgrade_enable:"",auto_upgrade_time:"",working_mode_wan_3g4g_switch:"",usbmodem_locindex:"",usbmodem_ispindex:"",usbmodem_setisp:"",usbmodem_dial_num:"",usbmodem_mobile_apn:"",usbmodem_username:"",usbmodem_password:"",usbmodem_dial_num_hidden:"",usbmodem_mobile_apn_hidden:"",usbmodem_username_hidden:"",usbmodem_password_hidden:"",network_preisp_country_name:"",network_preisp_city_name:"",network_preisp_isp_name:""};for(t in s)s.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(s[t]=e[t],"isp_special_port_settings"==t&&(s[t]=JSON.stringify(e[t]))),""!==s[t]&&null!==s[t]||delete s[t];return s},proxy:{url:e.su.url("/admin/quick_setup?form=quick_setup")}}),e.su.storeManager.define("quickSetupRouterSteps",{type:"store",fields:[{name:"name"},{name:"unreachable",defaultValue:!1},{name:"withoutNode",defaultValue:!1},{name:"notCached",defaultValue:!1}],data:(t=e.su.serviceManager.get("device").getConfig(),e=e.su.serviceManager.get("device").supportExtenderGuidance(),[{name:"qsSetTimezone"},{name:"qsSelectInternetPort",unreachable:!t.supportWanLanPort},{name:"qsChooseInternetType"},{name:"qsInternetEdit"},{name:"qsWirelessSetting"},{name:"qsInternetConnection",withoutNode:!0,notCached:!0},{name:"qsAutoUpdate",withoutNode:!0,unreachable:!t.supportAutoUpdate},{name:"qsFwUpgrade",withoutNode:!0},{name:"qsWifiBoostSet",unreachable:!t.supportBoostWifiSignal},{name:"qsSummary"},{name:"qsDualNatDetect",withoutNode:!0,unreachable:!t.supportDualNatDetect},{name:"qsExtenderGuidance",withoutNode:!0,unreachable:!e},{name:"qsCloudAndTether",unreachable:t.supportTetherGuidance},{name:"qsUXPlan",withoutNode:!0,unreachable:!t.supportUXPlan||t.supportTetherGuidance}])})}(jQuery),function(l){l.su.moduleManager.define("qsAutoUpdate",{models:["quickSetupEditModel","quickSetupModel","quickSetupApModel","quickSetupRepeaterModel","quickSetupClientModel","quickSetupMultiModel"],views:["qsAutoUpdateView"],stores:["autoUpdateStore","autoUpdateTimeStore"],services:["device","moduleManager"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){n=n.quickSetupEditModel.autoUpdate.getValue();"on"==n?s.qsAutoUpdateView.autoUpdateField.show():(s.qsAutoUpdateView.autoUpdateField.hide(),n||l("#qs-auto-update-next-step-btn").addClass("disabled"))}},init:function(i,a,o,e,t,r){var p={router:"quickSetupModel",ap:"quickSetupApModel",repeater:"quickSetupRepeaterModel",client:"quickSetupClientModel",multissid:"quickSetupMultiModel"};this.control({"#qs-auto-update-next-step-btn":{ev_button_click:function(){var e=r.device.getCurrentMode(),t=o.quickSetupEditModel.autoUpdate.getValue(),s=o.quickSetupEditModel.autoUpdateTime.getValue();if(o[p[e]].autoUpdate.setValue(t),o[p[e]].autoUpdateTime.setValue(s),"router"!==e)return i.trigger("ev_qs_next");var n=r.moduleManager.get("quickSetupRouter");"on"==t||"off"==t&&n.noInternet||n.skipFlag?(n.disableStep("qsFwUpgrade"),n.upgradeState="noUpgrade"):n.enableStep("qsFwUpgrade"),a.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!0),n.submitAutoUpdateData({success:function(){a.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1),n.afterSubmitConnectType(),a.qsAutoUpdateView.qsAutoUpdateBackBtn.enable(),i.trigger("ev_qs_next")},fail:function(){a.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1)},error:function(){a.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1)}})}},"#qs-auto-update-before-step-btn":{ev_button_click:function(){i.trigger("ev_qs_back")}}}),this.listen({"models.quickSetupEditModel.autoUpdate":{ev_value_change:function(e,t){"on"==t?a.qsAutoUpdateView.autoUpdateField.show():a.qsAutoUpdateView.autoUpdateField.hide(),l("#qs-auto-update-next-step-btn").removeClass("disabled")}}})}},function(e,t,s,n,i,a){return{}})}(jQuery),$.su.storeManager.define("autoUpdateStore",{type:"store",fields:[{name:"value"},{name:"boxlabel"}],data:[{value:"on",boxlabel:$.su.CHAR.QUICK_SETUP.TURN_ON_AUTO},{value:"off",boxlabel:$.su.CHAR.QUICK_SETUP.NOT_NOW}]}),$.su.storeManager.define("autoUpdateTimeStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:function(){for(var e=[],t=function(e){for(var t,s=[],n="",i=0;i<24;i++)e?t=i:(t=i%12||12,n=12<=i?"PM":"AM"),s.push(("0"+t).slice(-2)+":00"+n);return s}($.su.serviceManager._map.time.getHour24()),s=" "+$.su.CHAR.NETWORK_INTERNET.NEXT_DAY_TIP,n=0;n<24;n++)e.push({name:t[n]+" - "+t[(n+2)%24]+(21<n?s:""),value:n});return e}()}),function(p){p.su.moduleManager.define("qsSetTimezone",{services:["device"],models:["quickSetupModel","quickSetupApModel","quickSetupRepeaterModel","quickSetupClientModel","quickSetupMultiModel","quickSetupEditModel","timeSettings","qsSummaryModel","regionModel"],stores:["timezoneStore","availableRegionStore","allRegionStore"],views:["qsSetTimezoneView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){t.initRegion()}},init:function(t,e,s,n,i,a){this.control({"#set-tz-confirm-btn":{ev_button_click:function(e){s.quickSetupEditModel.timeTimezone.validate()&&(t.setTimezone(),t.trigger("ev_qs_next"))}}}),this.listen({})}},function(s,n,i,a,e,o){var r={router:"quickSetupModel",ap:"quickSetupApModel",repeater:"quickSetupRepeaterModel",client:"quickSetupClientModel",multissid:"quickSetupMultiModel"};return{initRegion:function(){i.regionModel.load({success:function(e){var t=i.regionModel.getData();t.regionSelectEnable&&(i.quickSetupEditModel.regionCountry.setValue(t.country),i.quickSetupEditModel.regionCountry.show(),n.qsSetTimezoneView.timeZonePanel.setTitle(p.su.CHAR.QUICK_SETUP.SET_TIME_ZONE_AND_REGION),a.availableRegionStore.loadData(s.getAvailableRegions()))}})},getAvailableRegions:function(){for(var e=i.regionModel.getData(),t=(regionList=e.regionList,[]),s=0;s<regionList.length;s++){var n=regionList[s],n=a.allRegionStore.getModelByKey(n).getData();t.push(n)}return t},setTimezone:function(){var e=o.device.getCurrentMode(),t=i.quickSetupEditModel.timeTimezone.getValue();i[r[e]].timeTimezone.setValue(t),i.regionModel.regionSelectEnable.getValue()&&(t=i.quickSetupEditModel.regionCountry.getValue(),i[r[e]].regionCountry.setValue(t),i.qsSummaryModel.country.setValue(i.quickSetupEditModel.regionCountry.getText())),i.qsSummaryModel.timeZone.setValue(i.quickSetupEditModel.timeTimezone.getText())}}})}(jQuery),function(r){r.su.moduleManager.define("qsSummaryAp",{services:["device"],models:["quickSetupApModel","qsSummaryModel","regionModel"],views:["qsSummaryApView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){s.qsSummaryApView.summaryWireless5g2.hide(),s.qsSummaryApView.summaryWireless6g.hide(),o.device.getIsTriband()&&(n.quickSetupApModel.wireless5gEnable.setLabelField(r.su.CHAR.QUICK_SETUP.MODE_5G1),s.qsSummaryApView.summaryWireless5g2.show()),o.device.getConfig().supportWifi6E&&s.qsSummaryApView.summaryWireless6g.show(),n.regionModel.regionSelectEnable.getValue()&&n.qsSummaryModel.country.show(),t.showPassword()}},init:function(e,t,s,n,i,a){this.control({"#summary-finish-btn":{ev_button_click:function(){e.trigger("ev_qs_next")}}})}},function(e,s,n,t,i,a){return{showPassword:function(){var e=n.quickSetupApModel,t=s.qsSummaryApView;t.wireless2gEncryPassword.setValue(e.wireless2gPskKey.getValue()||r.su.CHAR.WIFI_SHARING.NO_PASSWORD),t.wireless5gEncryPassword.setValue(e.wireless5gPskKey.getValue()||r.su.CHAR.WIFI_SHARING.NO_PASSWORD),a.device.getIsTriband()&&t.wireless5g2EncryPassword.setValue(e.wireless5g2PskKey.getValue()||r.su.CHAR.WIFI_SHARING.NO_PASSWORD),a.device.getConfig().supportWifi6E&&t.wireless6gEncryPassword.setValue(e.wireless6gPskKey.getValue()||r.su.CHAR.WIFI_SHARING.NO_PASSWORD)}}})}(jQuery),jQuery.su.moduleManager.define("transitionAp",{services:["device"],models:["quickSetupApModel","quickSetupRepeaterModel","quickSetupClientModel","quickSetupMultiModel"],views:["transitionView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){t.start()}},init:function(e,t,s,n,i,a){}},function(t,s,n,e,i,a){var o={ap:"quickSetupApModel",repeater:"quickSetupRepeaterModel",client:"quickSetupClientModel",multissid:"quickSetupMultiModel"};return{start:function(){s.transitionView.creatingProgressbar.reset(),s.transitionView.creatingProgressbar.animate({percentageStart:0,percentageEnd:100,duration:2e4});var e=a.device.getCurrentMode();n[o[e]].submit({success:function(){s.transitionView.creatingProgressbar.setValue(100),setTimeout(function(){t.trigger("ev_qs_next")},1e3)},fail:function(){t.trigger("ev_qs_back")},error:function(){t.trigger("ev_qs_back")}})}}}),function(u){u.su.moduleManager.define("qsWirelessSettingAp",{services:["device"],deps:["main"],models:["quickSetupApModel"],views:["qsWirelessSettingApView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){t.smartEnable="on",n.quickSetupApModel.wirelessSmartEnable.setValue(t.smartEnable),t.handleSmartEnable(t.smartEnable),t.isTriband?s.qsWirelessSettingApView.qsWireless5g2.show():s.qsWirelessSettingApView.qsWireless5g2.hide(),t.supportWifi6E?(s.qsWirelessSettingApView.qsWireless6g.show(),n.quickSetupApModel.wirelessSmartEnable.setToolTip(u.su.CHAR.WIRELESS_SETTINGS.SMART_CONN_NOTE_6G)):s.qsWirelessSettingApView.qsWireless6g.hide(),o.device.getConfig().support160MEnable&&("FCC"==(n=o.device.getConfig().certification)?(s.qsWirelessSettingApView.qs5gBw160.show(),t.isTriband?s.qsWirelessSettingApView.qs5gBw160Note.hide():s.qsWirelessSettingApView.qs5gBw160Note.show()):"CE"==n&&(t.isTriband?(s.qsWirelessSettingApView.qs5g1Bw160.show(),s.qsWirelessSettingApView.qs5g2Bw160):(s.qsWirelessSettingApView.qs5gBw160Note.setText(u.su.CHAR.WIRELESS_SETTINGS.ENABLE_160_MHZ_NOTE_QS_CE_5G),s.qsWirelessSettingApView.qs5gBw160)).show())}},init:function(r,e,p,t,l,o){this.control({"#qs-wireless-before-step-btn":{ev_button_click:function(){r.trigger("ev_qs_back")}},"#qs-wireless-next-step-btn":{ev_button_click:function(){var e=["wireless2gSsid","wireless2gPskKey"];"off"===p.quickSetupApModel.wirelessSmartEnable.getValue()&&(e.push("wireless5gSsid","wireless5gPskKey"),r.isTriband&&e.push("wireless5g2Ssid","wireless5g2PskKey"),r.supportWifi6E&&e.push("wireless6gSsid","wireless6gPskKey"));for(var t=0,s=e.length;t<s;t++)if(!p.quickSetupApModel[e[t]].validate())return;r.syncQsWirelessData();var n,i,a="on"==p.quickSetupApModel.wireless2gEnable.getValue(),o="on"==p.quickSetupApModel.wireless5gEnable.getValue();r.isTriband?n="on"==p.quickSetupApModel.wireless5g2Enable.getValue():r.supportWifi6E&&(i="on"==p.quickSetupApModel.wireless6gEnable.getValue()),a||o||r.isTriband&&n||r.supportWifi6E&&i?a||o||r.isTriband&&n||!r.supportWifi6E||!i?r.goNext():l.main.confirm(u.su.CHAR.WIRELESS_SETTINGS.WLAN_ONLY_6G_NOTE,r.goNext,null,u.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY):l.main.confirm(u.su.CHAR.WIRELESS_SETTINGS.WLAN_ONT_ON_NOTE,r.goNext,null,u.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY)}}}),this.listen({"models.quickSetupApModel.wirelessSmartEnable":{ev_value_change:function(e,t){r.handleSmartEnable(t)}},"models.quickSetupApModel.wireless2gEnable":{ev_value_change:function(e,t){p.quickSetupApModel.wirelessSeparately.getValue()||(p.quickSetupApModel.wireless5gEnable.setValue(t),r.isTriband&&p.quickSetupApModel.wireless5g2Enable.setValue(t),r.supportWifi6E&&"on"!==p.quickSetupApModel.wirelessSmartEnable.getValue()&&p.quickSetupApModel.wireless6gEnable.setValue(t))}},"models.quickSetupApModel.wireless2gSsid":{ev_value_change:function(e,t){var s,n=p.quickSetupApModel.wirelessSeparately.getValue();""===t||n||(s=n="",o.device.getIsTriband()?(n="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",p.quickSetupApModel.wireless5gSsid.setValue(t.slice(0,32-n.length)+n),r.visualDisable5g2(),s="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",p.quickSetupApModel.wireless5g2Ssid.setValue(t.slice(0,32-s.length)+s)):p.quickSetupApModel.wireless5gSsid.setValue(t.slice(0,32-(n="_5G").length)+n),r.supportWifi6E&&"on"!==p.quickSetupApModel.wirelessSmartEnable.getValue()&&p.quickSetupApModel.wireless6gSsid.setValue(t.slice(0,29)+"_6G"))}},"models.quickSetupApModel.wireless2gEncryption":{ev_value_change:function(e,t){"psk_sae"==t?p.quickSetupApModel.wireless2gPskKey.setVtype("wpa3_password"):p.quickSetupApModel.wireless2gPskKey.setVtype("psk_password")}},"models.quickSetupApModel.wireless2gPskKey":{ev_value_change:function(e,t){var s=p.quickSetupApModel.wirelessSeparately.getValue();""===t||s||(p.quickSetupApModel.wireless5gPskKey.setValue(t),r.isTriband&&p.quickSetupApModel.wireless5g2PskKey.setValue(t),r.supportWifi6E&&"on"!==p.quickSetupApModel.wirelessSmartEnable.getValue()&&p.quickSetupApModel.wireless6gPskKey.setValue(t))}},"models.quickSetupApModel.wireless5gEncryption":{ev_value_change:function(e,t){"psk_sae"==t?p.quickSetupApModel.wireless5gPskKey.setVtype("wpa3_password"):p.quickSetupApModel.wireless5gPskKey.setVtype("psk_password")}},"models.quickSetupApModel.wireless5g2Encryption":{ev_value_change:function(e,t){"psk_sae"==t?p.quickSetupApModel.wireless5g2PskKey.setVtype("wpa3_password"):p.quickSetupApModel.wireless5g2PskKey.setVtype("psk_password")}},"models.quickSetupApModel.wirelessSeparately":{ev_value_change:function(e,t){var s,n,i,a;t?(r.visualEnable5g(),r.isTriband&&r.visualEnable5g2(),r.supportWifi6E&&"off"==p.quickSetupApModel.wirelessSmartEnable.getValue()&&r.visualEnable6g()):(r.visualDisable5g(),t=p.quickSetupApModel.wireless2gEnable.getValue(),s=p.quickSetupApModel.wireless2gSsid.getValue(),n=p.quickSetupApModel.wireless2gPskKey.getValue(),p.quickSetupApModel.wireless5gEnable.setValue(t),p.quickSetupApModel.wireless5gPskKey.setValue(n),a=i="",o.device.getIsTriband()?(i="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",p.quickSetupApModel.wireless5gSsid.setValue(s.slice(0,32-i.length)+i),r.visualDisable5g2(),p.quickSetupApModel.wireless5g2Enable.setValue(t),a="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",p.quickSetupApModel.wireless5g2Ssid.setValue(s.slice(0,32-a.length)+a),p.quickSetupApModel.wireless5g2PskKey.setValue(n)):p.quickSetupApModel.wireless5gSsid.setValue(s.slice(0,32-(i="_5G").length)+i),r.supportWifi6E&&"on"!==p.quickSetupApModel.wirelessSmartEnable.getValue()&&(r.visualDisable6g(),p.quickSetupApModel.wireless6gEnable.setValue(t),p.quickSetupApModel.wireless6gSsid.setValue(s.slice(0,29)+"_6G"),p.quickSetupApModel.wireless6gPskKey.setValue(n)))}}})}},function(a,o,r,e,t,p){a=this;return{isTriband:p.device.getIsTriband(),supportWifi6E:p.device.getConfig().supportWifi6E,handleSmartEnable:function(e){"on"==e?a.smartEnableOn():a.smartEnableOff()},smartEnableOn:function(){o.qsWirelessSettingApView.qsWireless5g.hide(),r.quickSetupApModel.wirelessSeparately.hide(),r.quickSetupApModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO),a.supportWifi6E&&(a.visualEnable6g(),a.isTriband?r.quickSetupApModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G1_5G2):r.quickSetupApModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G))},smartEnableOff:function(){o.qsWirelessSettingApView.qsWireless5g.show(),r.quickSetupApModel.wirelessSeparately.show(),r.quickSetupApModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_2G);var e,t=r.quickSetupApModel.wireless2gEnable.getValue(),s=r.quickSetupApModel.wireless2gSsid.getValue(),n=r.quickSetupApModel.wireless2gPskKey.getValue(),i=(r.quickSetupApModel.wireless5gEnable.setValue(t),r.quickSetupApModel.wireless5gPskKey.setValue(n),r.quickSetupApModel.wirelessSeparately.getValue()||a.visualDisable5g(),"");p.device.getIsTriband()?(i="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",r.quickSetupApModel.wireless5gSsid.setValue(s.slice(0,32-i.length)+i),e="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",r.quickSetupApModel.wireless5g2Ssid.setValue(s.slice(0,32-e.length)+e),r.quickSetupApModel.wireless5gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_5G1),o.qsWirelessSettingApView.qsWireless5g2.show(),r.quickSetupApModel.wireless5g2Enable.setValue(t),r.quickSetupApModel.wireless5g2PskKey.setValue(n),r.quickSetupApModel.wirelessSeparately.getValue()||a.visualDisable5g2()):(r.quickSetupApModel.wireless5gSsid.setValue(s.slice(0,32-(i="_5G").length)+i),o.qsWirelessSettingApView.qsWireless5g2.hide(),r.quickSetupApModel.wireless5gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_5G)),a.supportWifi6E?r.quickSetupApModel.wirelessSeparately.getValue()||(r.quickSetupApModel.wireless6gEnable.setValue(t),r.quickSetupApModel.wireless6gSsid.setValue(s.slice(0,29)+"_6G"),r.quickSetupApModel.wireless6gPskKey.setValue(n),a.visualDisable6g()):o.qsWirelessSettingApView.qsWireless6g.hide()},visualDisable5g:function(){o.qsWirelessSettingApView.qsWireless5g1.disable()},visualEnable5g:function(){o.qsWirelessSettingApView.qsWireless5g1.enable()},visualDisable5g2:function(){o.qsWirelessSettingApView.qsWireless5g2.disable()},visualEnable5g2:function(){o.qsWirelessSettingApView.qsWireless5g2.enable()},visualDisable6g:function(){o.qsWirelessSettingApView.qsWireless6g.disable()},visualEnable6g:function(){o.qsWirelessSettingApView.qsWireless6g.enable()},syncQsWirelessData:function(){var e=a.syncQsWireless2gData(),t=a.syncQsWireless5gData(),s=a.syncQsWireless5g2Data(),n=a.syncQsWireless6gData(),e=u.extend({},e,t,s,n);r.quickSetupApModel.replaceData(e)},syncQsWireless2gData:function(){var e=r.quickSetupApModel.getData().wireless2gEnable,t=a.syncPskConfig("2g"),e={wireless2gDisabledAll:"on"==e?"off":"on",wireless2gEncryption:t.encryption,wireless2gPskVersion:t.version,wireless2gPskCipher:t.cipher};return r.quickSetupApModel.replaceData(e),e},syncQsWireless5gData:function(){var e=r.quickSetupApModel.getData(),t=e.wirelessSmartEnable,s=e.wireless5gEnable,n={wireless5gRegionEnable:"on"};return"on"==t?(n.wireless5gEnable=e.wireless2gEnable,n.wireless5gDisabledAll=e.wireless2gDisabledAll,n.wireless5gSsid=e.wireless2gSsid,n.wireless5gPskKey=e.wireless2gPskKey,n.wireless5gEncryption=e.wireless2gEncryption,n.wireless5gPskVersion=e.wireless2gPskVersion,n.wireless5gPskCipher=e.wireless2gPskCipher):(t=a.syncPskConfig("5g"),n.wireless5gEncryption=t.encryption,n.wireless5gPskVersion=t.version,n.wireless5gPskCipher=t.cipher,n.wireless5gDisabledAll="on"==s?"off":"on"),n},syncQsWireless5g2Data:function(){var e,t,s,n;return a.isTriband?(n=(e=r.quickSetupApModel.getData()).wirelessSmartEnable,t=e.wireless5g2Enable,s={wireless5gRegionEnable:"on"},"on"==n?(s.wireless5g2Enable=e.wireless2gEnable,s.wireless5g2DisabledAll=e.wireless2gDisabledAll,s.wireless5g2Ssid=e.wireless2gSsid,s.wireless5g2PskKey=e.wireless2gPskKey,s.wireless5g2Encryption=e.wireless2gEncryption,s.wireless5g2PskVersion=e.wireless2gPskVersion,s.wireless5g2PskCipher=e.wireless2gPskCipher):(n=a.syncPskConfig("5g2"),s.wireless5g2Encryption=n.encryption,s.wireless5g2PskVersion=n.version,s.wireless5g2PskCipher=n.cipher,s.wireless5g2DisabledAll="on"==t?"off":"on"),s):{}},syncQsWireless6gData:function(){var e,t;return a.supportWifi6E?(e=r.quickSetupApModel.getData().wireless6gEnable,(t={wireless6gRegionEnable:"on"}).wireless6gDisabledAll="on"==e?"off":"on",t.wireless6gEncryption="psk_sae",t.wireless6gPskVersion="sae_only",t.wireless6gPskCipher="aes",t):{}},syncPskConfig:function(e){var t={},s=r.quickSetupApModel.getData(),n="wireless2gEncryption".replace("2g",e),i="wireless2gPskVersion".replace("2g",e),a="wireless2gPskCipher".replace("2g",e);switch(s[n]){case"psk":case"psk_sae":t.encryption=s[n],t.version=s[i],t.cipher=s[a];break;default:t.encryption="psk",t.version="rsn",t.cipher="aes"}return t},goNext:function(){a.trigger("ev_qs_next")}}})}(jQuery),jQuery.su.moduleManager.define("qsSummaryClient",{models:["hostNetworkEdit2gModel","hostNetworkEdit5gModel"],views:["qsSummaryClientView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){t.initPassword(),t.initContent()}},init:function(e,t,s,n,i,a){this.control({"#qs-client-finish-btn":{ev_button_click:function(){e.trigger("ev_qs_next")}}})}},function(e,t,s,n,i,a){return{initContent:function(){(s.hostNetworkEdit2gModel.skip.getValue()?t.qsSummaryClientView.hostNetwork5gField:t.qsSummaryClientView.hostNetwork2gField).show()},initPassword:function(){var e=s.hostNetworkEdit2gModel.password,t=s.hostNetworkEdit5gModel.password;e.getValue()||e.hide(),t.getValue()||t.hide()}}}),function(l){l.su.moduleManager.define("qsSummaryMulti",{stores:["quickSetupWirelessMulti2gStore","quickSetupWirelessMulti5gStore"],views:["qsSummaryMultiView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){var r=1,p=1;i.quickSetupWirelessMulti2gStore.each(function(e){var t;e.enable.setLabelField(l.su.CHAR.NETWORK_MAP.MULTI_WIRELESS_2GHZ.replace("%num%",r)),"on"==e.enable.getValue()?((t={}).ssid=e.ssid.getValue(),t.security=e.encryption.getValue(),t.password=e.psk_key.getValue(),e.qrcode.setValue(t),e.qrcode.show()):e.qrcode.hide(),r++}),i.quickSetupWirelessMulti5gStore.each(function(e){var t;e.enable.setLabelField(l.su.CHAR.NETWORK_MAP.MULTI_WIRELESS_5GHZ.replace("%num%",p)),"on"==e.enable.getValue()?((t={}).ssid=e.ssid.getValue(),t.security=e.encryption.getValue(),t.password=e.psk_key.getValue(),e.qrcode.setValue(t),e.qrcode.show()):e.qrcode.hide(),p++})}},init:function(e,t,s,n,i,a){this.control({"#summary-finish-btn":{ev_button_click:function(){e.trigger("ev_qs_next")}}})}},function(e,t,s,n,i,a){return{}})}(jQuery),function(p){p.su.moduleManager.define("qsWirelessSettingMulti2g",{stores:["quickSetupWirelessMulti2gStore"],models:["quickSetupMultiModel"],views:["qsWirelessSettingMulti2gView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){var r=1;i.quickSetupWirelessMulti2gStore.each(function(e){e.enable.setLabelField(p.su.CHAR.NETWORK_MAP.MULTI_WIRELESS_2GHZ.replace("%num%",r)),r++}),t.setMultiWirelessPasswordVtype()}},init:function(e,t,s,n,i,a){this.control({"#qs-multi-2g-wireless-next-step-btn":{ev_button_click:function(){var t=!0;n.quickSetupWirelessMulti2gStore.each(function(e){e.validate()||(t=!1)}),t&&e.trigger("ev_qs_next")}},"#qs-multi-2g-wireless-before-step-btn":{ev_button_click:function(){e.trigger("ev_qs_back")}}}),this.listen({})}},function(e,t,s,n,i,a){return{setMultiWirelessPasswordVtype:function(e){n.quickSetupWirelessMulti2gStore.each(function(e){switch(e.encryption.getValue()){case p.su.securityCode.psk_aes:case p.su.securityCode.psk_aes_tkip:e.psk_key.setVtype("psk_password");break;case p.su.securityCode.psk_sae_personal:case p.su.securityCode.psk_sae_personal_aes:e.psk_key.setVtype("wpa3_password");break;default:e.encryption.setValue("1"),e.psk_key.setVtype("psk_password")}})}}})}(jQuery),function(p){p.su.moduleManager.define("qsWirelessSettingMulti5g",{deps:["main"],stores:["quickSetupWirelessMulti5gStore","quickSetupWirelessMulti2gStore"],models:["quickSetupMultiModel"],views:["qsWirelessSettingMulti5gView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){var r=1;i.quickSetupWirelessMulti5gStore.each(function(e){e.enable.setLabelField(p.su.CHAR.NETWORK_MAP.MULTI_WIRELESS_5GHZ.replace("%num%",r)),r++}),t.setMultiWirelessPasswordVtype()}},init:function(e,t,s,n,i,a){this.control({"#qs-multi-5g-wireless-next-step-btn":{ev_button_click:function(){var t=!0;n.quickSetupWirelessMulti5gStore.each(function(e){e.validate()||(t=!1)}),t&&(e.ifTheLastWireless()?i.main.showError(p.su.CHAR.QUICK_SETUP.MULTI_WIRELESS_ALL_OFF_TIP):e.trigger("ev_qs_next"))}},"#qs-multi-5g-wireless-before-step-btn":{ev_button_click:function(){e.trigger("ev_qs_back")}}}),this.listen({})}},function(e,t,s,i,n,a){return{setMultiWirelessPasswordVtype:function(e){i.quickSetupWirelessMulti5gStore.each(function(e){switch(e.encryption.getValue()){case p.su.securityCode.psk_aes:case p.su.securityCode.psk_aes_tkip:e.psk_key.setVtype("psk_password");break;case p.su.securityCode.psk_sae_personal:case p.su.securityCode.psk_sae_personal_aes:e.psk_key.setVtype("wpa3_password");break;default:e.encryption.setValue("1"),e.psk_key.setVtype("psk_password")}})},ifTheLastWireless:function(){for(var e=i.quickSetupWirelessMulti2gStore.getData(),t=i.quickSetupWirelessMulti5gStore.getData(),s=0,n=0;n<e.length;n++)"on"==e[n].enable&&s++;for(n=0;n<t.length;n++)"on"==t[n].enable&&s++;return!s}}})}(jQuery),function(p){p.su.moduleManager.define("qsExtendedNetwork",{models:["extendedNetworkEditModel","hostNetworkEdit2gModel","hostNetworkEdit5gModel"],views:["qsExtendedNetworkView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){}},init:function(e,t,s,n,i,a){this.control({"#qs-extended-network-back-btn":{ev_button_click:function(){e.trigger("ev_qs_back")}},"#qs-extended-network-next-btn":{ev_button_click:function(){s.extendedNetworkEditModel.validate()&&e.trigger("ev_qs_next")}},".copy-button":{ev_button_click:e.copySsidHandler}})}},function(n,e,i,t,s,a){var o=["2g","5g"],r={"2g":"5g","5g":"2g"};return{getHostNetworkSsid:function(){return{"2g":i.hostNetworkEdit2gModel.ssid.getValue(),"5g":i.hostNetworkEdit5gModel.ssid.getValue()}},copySsidHandler:function(e){var t,e=p(e.currentTarget).attr("data-mode"),s=p.inArray(e,o);s<0||(s=(t=n.getHostNetworkSsid())[o[s]]||t[r[e]],i.extendedNetworkEditModel["ssid"+e].setValue(s))}}})}(jQuery),function(o){o.su.moduleManager.define("qsHostNetwork2g",{services:["ajax","device","moduleManager"],models:["hostNetworkEdit2gModel"],stores:["wdsScanStore","hostSecurityStore"],views:["qsHostNetwork2gView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){t.loadWdsScanStore(),t.initSkipBtn(),t.initPanelText()}},init:function(s,n,e,i,t,a){this.configViews({id:"qsHostNetwork2gView",items:[{id:"grid-scan",configs:{paging:{items:[{name:"6",value:6,selected:!0}]},columns:[{xtype:"checkcolumn",width:40},{text:o.su.CHAR.WIFI_SHARING.SSID,dataIndex:"ssid"},{text:o.su.CHAR.WIRELESS_SETTINGS.MAC,dataIndex:"bssid"},{text:o.su.CHAR.WIRELESS_SETTINGS.SIGNAL,dataIndex:"signal",cls:"center-td",width:80,renderer:s.formatSignalHTML},{text:o.su.CHAR.WIRELESS_SETTINGS.SECURITY,dataIndex:"encryption",xtype:"actioncolumn",cls:"center-td",width:60,items:[],renderer:s.formatSecurityHTML}]}},{id:"cannot-find-wifi-notes",title:" ",items:[{text:o.su.CHAR.WIRELESS_SETTINGS.CANNOT_FIND_WIFI_NOTE_1},{text:o.su.CHAR.WIRELESS_SETTINGS.CANNOT_FIND_WIFI_NOTE_2},{text:o.su.CHAR.WIRELESS_SETTINGS.CANNOT_FIND_WIFI_NOTE_3},{text:o.su.CHAR.WIRELESS_SETTINGS.CANNOT_FIND_WIFI_NOTE_4}]}]}),this.listen({"stores.wdsScanStore":{ev_loaded:s.disableUnsupportWifi},"models.hostNetworkEdit2gModel.encryption":{ev_value_change:function(e,t){s.onEncryptionChange(t)}}}),this.control({"#qs-host-network-2g-next-btn":{ev_button_click:function(){s.goNext()}},"#qs-host-network-2g-skip-btn":{ev_button_click:function(){s.goNext(!0)}},"#qs-host-network-2g-back-btn":{ev_button_click:s.goBack},"#qs-host-network-2g-reset-btn":{ev_button_click:s.showSelectField},"#qs-host-network-2g-other-btn":{ev_button_click:s.showCustomField},"#host-network-2g-msg":{ev_msg_ok:function(){s.goNext()}},"#grid-scan":{ev_grid_row_clicked:function(e,t){t=i.wdsScanStore.getModelByKey(t).getData();s.replaceWifiData(t),"none"==t.encryption?s.goNext():n.qsHostNetwork2gView.hostNetworkPwdMsg.show()},ev_grid_tbar_refresh:s.loadWdsScanStore},".cannot-find-btn":{ev_button_click:function(e){n.qsHostNetwork2gView.cannotFindWifiMsg.show()}}})}},function(s,e,r,n,t,i){return{currentMode:i.device.getCurrentMode(),isClientMode:function(){return"client"===s.currentMode},updateNextStep:function(e){var t;s.isClientMode()&&(t=i.moduleManager.get("quickSetupClient"),e?t.enableStep("qsHostNetwork5g"):t.disableStep("qsHostNetwork5g"))},goBack:function(){s.trigger("ev_qs_back")},goNext:function(e){(e||r.hostNetworkEdit2gModel.validate())&&(e?(r.hostNetworkEdit2gModel.reset(),r.hostNetworkEdit2gModel.skip.setValue(!0)):r.hostNetworkEdit2gModel.skip.setValue(!1),s.updateNextStep(e),s.trigger("ev_qs_next"))},initSkipBtn:function(){s.isClientMode()&&e.qsHostNetwork2gView.skipBtn.setText(o.su.CHAR.QUICK_SETUP.CONNECT_TO_5G_NETWORK)},initPanelText:function(){s.isClientMode()&&(e.qsHostNetwork2gView.qsHostNetwork2gPanel.setTitle(o.su.CHAR.QUICK_SETUP.SELECT_24G_HOST_NETWORK_CLIENT),e.qsHostNetwork2gView.qsHostNetwork2gOtherNetwork.setTitle(o.su.CHAR.QUICK_SETUP.OTHER_HOST_NETWORK_CLIENT))},loadWdsScanStore:function(){function t(){setTimeout(s.hideLoading,300)}s.showLoading(),i.ajax.request({proxy:"wlanScanProxy",success:function(e){n.wdsScanStore.loadData(e),t()},fail:t,error:t})},showLoading:function(){e.qsHostNetwork2gView.pageLoadingSd.show(),n.wdsScanStore.hide()},hideLoading:function(){e.qsHostNetwork2gView.pageLoadingSd.hide(),n.wdsScanStore.show()},onEncryptionChange:function(e,t,s){var n=r.hostNetworkEdit2gModel,i=n.password,a=n.pskVersion,o=n.pskCipher;switch(i.setValue(""),e){case"psk":i.show(),i.enable(),i.setVtype("psk_password"),i.setMaxLength(64),a.setValue(t||"rsn"),o.setValue(s||"aes");break;case"psk_sae":i.show(),i.enable(),i.setVtype("wpa3_password"),i.setMaxLength(63),a.setValue(t||"sae_transition"),o.setValue(s||"aes");break;default:i.hide(),i.disable(),a.setValue(""),o.setValue("")}},replaceWifiData:function(e){var t=r.hostNetworkEdit2gModel;t.ssid.setValue(e.ssid),t.encryption.setValue(e.encryption),s.onEncryptionChange(e.encryption,e.psk_version,e.psk_cipher)},disableUnsupportWifi:function(){var s=n.wdsScanStore,e=s.getData(),e=o.grep(e,function(e){return"unknown"==e.encryption});e.length&&o.each(e,function(e,t){s.getModelByKey(t.key).disableRow(!0)})},showCustomField:function(){o(".hw-select-field").hide(),o(".hw-custom-field").show(),r.hostNetworkEdit2gModel.reset()},showSelectField:function(){o(".hw-select-field").show(),o(".hw-custom-field").hide(),r.hostNetworkEdit2gModel.reset()},formatSignalHTML:function(e){return'<div class="signal-level-container widget-container"><span class="icon icon-signal-%signal%"></span></div>'.replace("%signal%",(e=e,(e=Math.floor(parseInt(e,10)/10))<1?1:5<e?5:e))},formatSecurityHTML:function(e){var t="",s="";switch(e){case"unknown":s="unknown-security",t=o.su.CHAR.WIRELESS_SETTINGS.UNSUPPORT_ENCRYPTION_NOTE;break;case"none":s="none-security";break;default:s="security"}return'<div class="security-container widget-container"><span class="icon icon-%security%" data-tip="%tip%" tip-max-width="200px"></span></div>'.replace("%security%",s).replace("%tip%",t)}}})}(jQuery),function(o){o.su.moduleManager.define("qsHostNetwork5g",{services:["ajax","device"],models:["hostNetworkEdit2gModel","hostNetworkEdit5gModel"],stores:["wdsScan5gStore","hostSecurityStore"],views:["qsHostNetwork5gView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){t.loadWdsScanStore(),t.initSkipStatus(),t.initPanelText()}},init:function(s,n,e,i,t,a){this.configViews({id:"qsHostNetwork5gView",items:[{id:"grid-5g-scan",configs:{paging:{items:[{name:"6",value:6,selected:!0}]},columns:[{xtype:"checkcolumn",width:40},{text:o.su.CHAR.WIFI_SHARING.SSID,dataIndex:"ssid"},{text:o.su.CHAR.WIRELESS_SETTINGS.MAC,dataIndex:"bssid"},{text:o.su.CHAR.WIRELESS_SETTINGS.SIGNAL,dataIndex:"signal",cls:"center-td",width:80,renderer:s.formatSignalHTML},{text:o.su.CHAR.WIRELESS_SETTINGS.SECURITY,dataIndex:"encryption",xtype:"actioncolumn",cls:"center-td",width:60,items:[],renderer:s.formatSecurityHTML}]}},{id:"cannot-find-wifi-5g-notes",title:" ",items:[{text:o.su.CHAR.WIRELESS_SETTINGS.CANNOT_FIND_WIFI_NOTE_1},{text:o.su.CHAR.WIRELESS_SETTINGS.CANNOT_FIND_WIFI_NOTE_2},{text:o.su.CHAR.WIRELESS_SETTINGS.CANNOT_FIND_WIFI_NOTE_3},{text:o.su.CHAR.WIRELESS_SETTINGS.CANNOT_FIND_WIFI_NOTE_4}]}]}),this.listen({"stores.wdsScan5gStore":{ev_loaded:s.disableUnsupportWifi},"models.hostNetworkEdit5gModel.encryption":{ev_value_change:function(e,t){s.onEncryptionChange(t)}},"models.hostNetworkEdit2gModel.skip":{ev_value_change:function(e,t){s.initSkipStatus(t)}}}),this.control({"#qs-host-network-5g-next-btn":{ev_button_click:function(){s.goNext()}},"#qs-host-network-5g-skip-btn":{ev_button_click:function(){s.goNext(!0)}},"#qs-host-network-5g-back-btn":{ev_button_click:s.goBack},"#qs-host-network-5g-reset-btn":{ev_button_click:s.showSelectField},"#qs-host-network-5g-other-btn":{ev_button_click:s.showCustomField},"#host-network-5g-msg":{ev_msg_ok:function(){s.goNext()}},"#grid-5g-scan":{ev_grid_row_clicked:function(e,t){t=i.wdsScan5gStore.getModelByKey(t).getData();s.replaceWifiData(t),"none"==t.encryption?s.goNext():n.qsHostNetwork5gView.hostNetworkPwdMsg.show()},ev_grid_tbar_refresh:s.loadWdsScanStore},".cannot-find-btn":{ev_button_click:function(e){n.qsHostNetwork5gView.cannotFindWifiMsg.show()}}})}},function(s,t,r,n,e,i){return{goBack:function(){s.trigger("ev_qs_back")},goNext:function(e){(e||r.hostNetworkEdit5gModel.validate())&&(e?(r.hostNetworkEdit5gModel.reset(),r.hostNetworkEdit5gModel.skip.setValue(!0)):r.hostNetworkEdit5gModel.skip.setValue(!1),s.trigger("ev_qs_next"))},initSkipStatus:function(e){"client"==i.device.getCurrentMode()?t.qsHostNetwork5gView.skipBtn.hide():(e=e||r.hostNetworkEdit2gModel.skip.getValue())?t.qsHostNetwork5gView.skipBtn.disable():t.qsHostNetwork5gView.skipBtn.enable()},initPanelText:function(){"client"==i.device.getCurrentMode()&&(t.qsHostNetwork5gView.qsHostNetwork5gPanel.setTitle(o.su.CHAR.QUICK_SETUP.SELECT_5G_HOST_NETWORK_CLIENT),t.qsHostNetwork5gView.qsHostNetwork5gOtherNetwork.setTitle(o.su.CHAR.QUICK_SETUP.OTHER_HOST_NETWORK_CLIENT))},loadWdsScanStore:function(){function t(){setTimeout(s.hideLoading,300)}s.showLoading(),i.ajax.request({proxy:"wlanScan5gProxy",success:function(e){n.wdsScan5gStore.loadData(e),t()},fail:t,error:t})},showLoading:function(){t.qsHostNetwork5gView.pageLoadingSd.show(),n.wdsScan5gStore.hide()},hideLoading:function(){t.qsHostNetwork5gView.pageLoadingSd.hide(),n.wdsScan5gStore.show()},onEncryptionChange:function(e,t,s){var n=r.hostNetworkEdit5gModel,i=n.password,a=n.pskVersion,o=n.pskCipher;switch(i.setValue(""),e){case"psk":i.show(),i.enable(),i.setVtype("psk_password"),i.setMaxLength(64),a.setValue(t||"rsn"),o.setValue(s||"aes");break;case"psk_sae":i.show(),i.enable(),i.setVtype("wpa3_password"),i.setMaxLength(63),a.setValue(t||"sae_transition"),o.setValue(s||"");break;default:i.hide(),i.disable(),a.setValue(""),o.setValue("")}},replaceWifiData:function(e){var t=r.hostNetworkEdit5gModel;t.ssid.setValue(e.ssid),t.encryption.setValue(e.encryption),s.onEncryptionChange(e.encryption,e.psk_version,e.psk_cipher)},disableUnsupportWifi:function(){var s=n.wdsScan5gStore,e=s.getData(),e=o.grep(e,function(e){return"unknown"==e.encryption});e.length&&o.each(e,function(e,t){s.getModelByKey(t.key).disableRow(!0)})},showCustomField:function(){o(".hw-5g-select-field").hide(),o(".hw-5g-custom-field").show(),r.hostNetworkEdit5gModel.reset()},showSelectField:function(){o(".hw-5g-select-field").show(),o(".hw-5g-custom-field").hide(),s.initSkipStatus(),r.hostNetworkEdit5gModel.reset()},formatSignalHTML:function(e){return'<div class="signal-level-container widget-container"><span class="icon icon-signal-%signal%"></span></div>'.replace("%signal%",(e=e,(e=Math.floor(parseInt(e,10)/10))<1?1:5<e?5:e))},formatSecurityHTML:function(e){var t="",s="";switch(e){case"unknown":s="unknown-security",t=o.su.CHAR.WIRELESS_SETTINGS.UNSUPPORT_ENCRYPTION_NOTE;break;case"none":s="none-security";break;default:s="security"}return'<div class="security-container widget-container"><span class="icon icon-%security%" data-tip="%tip%" tip-max-width="200px"></span></div>'.replace("%security%",s).replace("%tip%",t)}}})}(jQuery),function(i){i.su.moduleManager.define("qsSummaryRepeater",{models:["hostNetworkEdit2gModel","hostNetworkEdit5gModel","extendedNetworkEditModel"],views:["qsSummaryRepeaterView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){t.initPassword(),t.initHideSsid(),t.initMainNetwork(),t.setWifiSharing()}},init:function(e,t,s,n,i,a){this.control({"#qs-re-finish-btn":{ev_button_click:function(){e.trigger("ev_qs_next")}}})}},function(e,r,p,t,s,n){return{initMainNetwork:function(){var e=p.hostNetworkEdit2gModel,t=p.hostNetworkEdit5gModel;e.skip.getValue()?i("#qs-summary-host-5g-field").removeClass("block-separate"):(i("#qs-summary-host-5g-field").addClass("block-separate"),r.qsSummaryRepeaterView.hostNetwork2gField.show()),t.skip.getValue()||r.qsSummaryRepeaterView.hostNetwork5gField.show()},initPassword:function(){var e=p.extendedNetworkEditModel.password2g,t=p.extendedNetworkEditModel.password5g;e.getValue()||e.hide(),t.getValue()||t.hide()},initHideSsid:function(){var e=p.extendedNetworkEditModel.hideSsid2g,t=p.extendedNetworkEditModel.hideSsid5g;e.setValue(i.su.CHAR.TIMESETTING[e.getValue().toUpperCase()]),t.setValue(i.su.CHAR.TIMESETTING[t.getValue().toUpperCase()])},setWifiSharing:function(){e.setWifiSharingValue(p.extendedNetworkEditModel.getData(),"2g"),e.setWifiSharingValue(p.extendedNetworkEditModel.getData(),"5g")},setWifiSharingValue:function(e,t){var s={},n="wifisharing2g".replace("2g",t),i=p.hostNetworkEdit2gModel.encryption.getValue(),a=p.hostNetworkEdit5gModel.encryption.getValue(),o="",o="2g"==t?i||a:a||i,a="ssid2g".replace("2g",t),i="password2g".replace("2g",t);e[i]?(s.password=e[i],s.security=o):(s.password="",s.security="none"),s.ssid=e[a],r.qsSummaryRepeaterView[n].setValue(s)}}})}(jQuery),function(h){h.su.moduleManager.define("qsChooseInternetType",{services:["moduleManager","device","ajax"],deps:["quickSetupRouter","main"],models:["qsInternetConnTypeDetectModel","quickSetupModel","ipv4Status","qsSummaryModel","qsUSB3G4GModemModel","qsPreIspModel"],stores:["qsInternetConnTypeStore","qsUSB3G4GModemStore","gLocationS","gMobileIspS","qsPreIspCountryStore","qsPreIspCityStore","qsPreIspISPStore","qsPreIspConnectionStore","qsPreIspConnection2Store","qsPreIspVpnServerStore"],views:["qsChooseInternetTypeView"],listeners:{ev_on_launch:function(e,p,t,l,u,s,o){if(u.qsInternetConnTypeStore.load({data:{operation:"read"},success:function(){l.quickSetupModel.networkConntype.loadItems(u.qsInternetConnTypeStore.getData())}}),p.checkPortConn(),p.supportPreIsp){l.qsPreIspModel.reset(),t.qsChooseInternetTypeView.preIspField.show();for(var n=[],i=p.getObjectLength(ispAutoConfTable,"country"),a=0;a<i;a++){var r={};r.name=ispAutoConfTable["country"+a].country_name,r.value=ispAutoConfTable["country"+a].country_name,n.push(r)}u.qsPreIspCountryStore.loadData(n),setTimeout(function(){var e=l.quickSetupModel.getData();if(e.networkPreispCountryName){if(l.qsPreIspModel.networkPreispCountryName.setValue(e.networkPreispCountryName),e.networkPreispCityName&&l.qsPreIspModel.networkPreispCityName.setValue(e.networkPreispCityName),e.networkPreispIspName&&l.qsPreIspModel.networkPreispIspName.setValue(e.networkPreispIspName),e.networkConntype)try{for(var t=ispAutoConfTable["country"+p.preIspData.countryNum]["location"+p.preIspData.cityNum]["isp"+p.preIspData.ispNum],s=p.getObjectLength(t,"auto_config"),n=p.getRUConnectionType(e.networkConntype),i=0;i<s;i++)if(t["auto_config"+i].first_connection==n){var a=p.getConnectionType(n,1)+"__"+(config.vpn_ip_name||"");l.qsPreIspModel.networkPreispConntype.setValue(a);break}}catch(e){}}else"RU"==o.device.getConfig().country&&l.qsPreIspModel.networkPreispCountryName.setValue("Россия"),l.qsPreIspModel.networkPreispIspName.disable(),l.qsPreIspModel.networkPreispConntype.disable()},0)}else t.qsChooseInternetTypeView.autoDetectField.show(),l.quickSetupModel.networkConntype.show();o.device.getConfig().supportUSB3G4GModem?(t.qsChooseInternetTypeView.wanConfig.hide(),t.qsChooseInternetTypeView.usbModemConfig.hide(),o.ajax.request({proxy:"ispListProxy",data:{operation:"read"},success:function(e){var t,s=[];for(t in e){var n=t.slice(8);p.locationStack[n]={},p.locationStack[n]["regionCode"]=n,p.locationStack[n]["regionName"]=e[t]["location_name"];for(var i,a,o=0;o<s.length&&!(+n<+s[o].value);o++);for(i in s.splice(o,0,{name:h.su.CHAR.REGION[e[t]["location_name"].toUpperCase()],value:n}),p.locationStack[n]["ispList"]=[],e[t])"isp"==i.slice(0,3)&&(a=i.slice(3),p.locationStack[n]["ispList"].splice(a,0,{name:h.su.CHAR.MODEM_ISP[e[t][i]["isp_name"].toUpperCase()],value:i.slice(3)}),p.locationStack[n][i]=e[t][i])}u.gLocationS.loadData(s);var r=l.quickSetupModel.getData();l.qsUSB3G4GModemModel.loadData(r),"3g4g"==l.qsUSB3G4GModemModel.workingModeWan3g4gSwitch.getValue()&&(p.preIspData.allowNext=0,p.checkNextfunHandle())}})):(t.qsChooseInternetTypeView.usbModemConfig.disable(),t.qsChooseInternetTypeView.usbModemConfig.hide(),l.qsUSB3G4GModemModel.workingModeWan3g4gSwitch.setValue("cable"),l.qsUSB3G4GModemModel.workingModeWan3g4gSwitch.hide())},ev_before_destroy:function(e,t){clearInterval(t.modemInterval)}},init:function(k,S,q,f,s,n){var i={dslite:h.su.CHAR.NETWORK_INTERNET.DSLITE_WARNING,v6plus:h.su.CHAR.NETWORK_INTERNET.V6_PLUS_WARNING,ocn:h.su.CHAR.NETWORK_INTERNET.OCN_WARNING};this.control({"#qs-choose-internet-type-next-btn":{ev_button_click:function(){var e,t=q.qsUSB3G4GModemModel.workingModeWan3g4gSwitch.getValue();q.quickSetupModel.replaceData({workingModeWan3g4gSwitch:q.qsUSB3G4GModemModel.getData().workingModeWan3g4gSwitch}),"3g4g"==t?q.qsUSB3G4GModemModel.validate()&&(t=q.qsUSB3G4GModemModel.getData(),q.quickSetupModel.replaceData({usbmodemLocindex:t.usbmodemLocindex,usbmodemIspindex:t.usbmodemIspindex,usbmodemSetisp:t.usbmodemSetisp,usbmodemDialNum:t.usbmodemDialNum,usbmodemMobileApn:t.usbmodemMobileApn,usbmodemUsername:t.usbmodemUsername,usbmodemPassword:t.usbmodemPassword,usbmodemDialNumHidden:t.usbmodemDialNumHidden,usbmodemMobileApnHidden:t.usbmodemMobileApnHidden,usbmodemUsernameHidden:t.usbmodemUsernameHidden,usbmodemPasswordHidden:t.usbmodemPasswordHidden}),s.quickSetupRouter.disableStep("qsInternetEdit"),k.trigger("ev_qs_next")):(n.device.getConfig().supportPreIsp&&(t=q.qsPreIspModel.getData(),q.quickSetupModel.replaceData({networkPreispCountryName:t.networkPreispCountryName,networkPreispCityName:t.networkPreispCityName,networkPreispIspName:t.networkPreispIspName})),t=function(){q.qsSummaryModel.connectionType.setValue(q.quickSetupModel.networkConntype.getSelectedText()),k.goNext()},(e=i[q.quickSetupModel.networkConntype.getValue()])?s.main.confirm(k.getUnavialModuleHtml(e),t,null,h.su.CHAR.OPERATION.OK):t())}},"#qs-choose-internet-type-prev-btn":{ev_button_click:function(){k.goBack()}},"#qs-choose-internet-auto-detect-btn":{ev_button_click:function(){k.startDetectConnectType()}},"#qs-disconnect-retry-btn":{ev_button_click:function(){S.qsChooseInternetTypeView.retryButton.loading(!0),s.quickSetupRouter.checkPhysicalConn().then(function(){k.supportPreIsp?(k.setPreIspField(),k.nextButtonSet()):q.ipv4Status.load({success:function(e){q.quickSetupModel.networkConntype.setValue(e.conntype)}}),S.qsChooseInternetTypeView.selectConnectTypePanel.show(),S.qsChooseInternetTypeView.internetDisconnectPanel.hide()}).always(function(){S.qsChooseInternetTypeView.retryButton.loading(!1)})}},"#qs-disconnect-skip-btn":{ev_button_click:function(){s.quickSetupRouter.skipFlag=!0,q.qsSummaryModel.connectionType.setValue(q.quickSetupModel.networkConntype.getSelectedText()),s.quickSetupRouter.disableStep(["qsInternetEdit","qsInternetConnection"]),k.trigger("ev_qs_next")}},"#qs_g_location":{ev_view_change:function(e){clearInterval(k.modemInterval)}},"#qs_g_mobile_isp":{ev_view_change:function(e){clearInterval(k.modemInterval)}}}),this.listen({"models.qsUSB3G4GModemModel.workingModeWan3g4gSwitch":{ev_value_change:function(e,t,s){S.qsChooseInternetTypeView.wanConfig.hide(),S.qsChooseInternetTypeView.usbModemConfig.hide(),"3g4g"==t?(S.qsChooseInternetTypeView.usbModemConfig.show(),k.disableWanConn(),clearInterval(k.modemInterval),k.fncInterval(),k.modemInterval=setInterval(k.fncInterval,5e3)):(S.qsChooseInternetTypeView.wanConfig.show(),k.enableWanConn(),k.setPreIspField(),clearInterval(k.modemInterval)),k.nextButtonSet()}},"models.quickSetupModel.networkConntype":{ev_value_change:k.nextButtonSet},"views.qsChooseInternetTypeView.preIspManual":{ev_value_change:function(e,t,s){("on"==t?(S.qsChooseInternetTypeView.preIspConfigField.hide(),q.quickSetupModel.networkConntype):(q.quickSetupModel.networkConntype.hide(),S.qsChooseInternetTypeView.preIspConfigField)).show(),k.nextButtonSet()}},"models.qsPreIspModel.networkPreispCountryName":{ev_value_change:function(e,t,s){for(var n=k.getObjectLength(ispAutoConfTable,"country"),i=0;i<n;i++)ispAutoConfTable["country"+i].country_name==t&&(k.preIspData.countryNum=i);for(var a=[],o=ispAutoConfTable["country"+k.preIspData.countryNum],r=k.getObjectLength(o,"location"),p=0;p<r&&null!=o["location"+p];p++){var l={};l.name=o["location"+p].city_region,l.value=o["location"+p].city_region,a.push(l)}f.qsPreIspCityStore.loadData(a),q.qsPreIspModel.networkPreispCityName.enable(),q.qsPreIspModel.networkPreispCityName.setValue(null),q.qsPreIspModel.networkPreispIspName.setValue(null),q.qsPreIspModel.networkPreispConntype.setValue(null),q.qsPreIspModel.networkPreispIspName.disable(),q.qsPreIspModel.networkPreispConntype.disable(),k.disableSecondConnection(),q.quickSetupModel.networkConntype.setValue(""),k.preIspData.allowNext=0,k.checkNextfunHandle()}},"models.qsPreIspModel.networkPreispCityName":{ev_value_change:function(e,t,s){for(var n=k.getObjectLength(ispAutoConfTable["country"+k.preIspData.countryNum],"location"),i=ispAutoConfTable["country"+k.preIspData.countryNum],a=0;a<n&&null!=i["location"+a];a++)i["location"+a].city_region==t&&(k.preIspData.cityNum=a);for(var o=[],r=i["location"+k.preIspData.cityNum],p=k.getObjectLength(r,"isp"),l=0;l<p&&null!=r["isp"+l];l++){var u={};u.name=r["isp"+l].isp_name,u.value=r["isp"+l].isp_name,o.push(u)}f.qsPreIspISPStore.loadData(o),q.qsPreIspModel.networkPreispIspName.enable(),q.qsPreIspModel.networkPreispIspName.setValue(null),q.qsPreIspModel.networkPreispConntype.setValue(null),q.qsPreIspModel.networkPreispConntype.disable(),k.disableSecondConnection(),q.quickSetupModel.networkConntype.setValue(""),k.preIspData.allowNext=0,k.checkNextfunHandle()}},"models.qsPreIspModel.networkPreispIspName":{ev_value_change:function(e,t,s){for(var n=0,i=0,a=ispAutoConfTable["country"+k.preIspData.countryNum]["location"+k.preIspData.cityNum],o=k.getObjectLength(a,"isp"),r=0;r<o&&null!=a["isp"+r];r++)if(a["isp"+r].isp_name==t){var p=a["isp"+r];k.preIspData.ispNum=r,p.hasOwnProperty("flag")&&(n=p.flag);break}for(var l=[],u=a["isp"+k.preIspData.ispNum],d=k.getObjectLength(u,"auto_config"),c=0;c<d&&null!=u["auto_config"+c];c++){var g=u["auto_config"+c];0!=n&&(g.hasOwnProperty("handle_level")?(g.handle_level,i++):i=0),1<i||(g=u["auto_config"+c],(p={}).name=g.first_connection,p.value=k.getConnectionType(p.name,1)+"__"+(g.vpn_ip_name||""),l.push(p))}f.qsPreIspConnectionStore.loadData(l),q.qsPreIspModel.networkPreispConntype.enable(),q.qsPreIspModel.networkPreispConntype.setValue(null),k.disableSecondConnection(),q.quickSetupModel.networkConntype.setValue(""),k.preIspData.allowNext=0,k.checkNextfunHandle()}},"models.qsPreIspModel.networkPreispConntype":{ev_value_change:function(e,t,s){if(t){var n=t.split("__")[0],i=t.split("__")[1],a=0,o=0,r=[],p=[];q.quickSetupModel.networkConntype.setValue(n),k.disableSecondConnection();for(var n=k.getRUConnectionType(n),l=ispAutoConfTable["country"+k.preIspData.countryNum]["location"+k.preIspData.cityNum]["isp"+k.preIspData.ispNum],u=k.getObjectLength(l,"auto_config"),d=0;d<u&&null!=l["auto_config"+d];d++)if(l["auto_config"+d].first_connection==n){var c=l["auto_config"+d],g=c.second_connection,_=c.mac_clone;if(!c.hasOwnProperty("handle_level"))break;var a=c.handle_level,m={},w={};null==c.second_connection||""==c.second_connection?(m.name=h.su.CHAR.QUICK_SETUP.NO_SECOND_CONNECTION,m.value="none"):(m.name=c.second_connection,m.value=k.getConnectionType(c.second_connection,2)),2==a?o++:o=0,o<2&&r.push(m),2==a&&(w.name=i,w.value=i,p.push(w))}0<a&&(f.qsPreIspConnection2Store.loadData(r),S.qsChooseInternetTypeView.networkPreispConntype2.setValue(""),S.qsChooseInternetTypeView.networkPreispConntype2.show(),S.qsChooseInternetTypeView.networkPreispConntype2.enable()),1<a&&(f.qsPreIspConnection2Store.loadData(p),S.qsChooseInternetTypeView.networkPreispConnVpnServer.setValue(""),S.qsChooseInternetTypeView.networkPreispConnVpnServer.show(),S.qsChooseInternetTypeView.networkPreispConnVpnServer.enable()),k.preIspData.gHandleLevel=a,0==k.preIspData.gHandleLevel&&(k.doSetSecconAndVpn(n,i,g),k.preIspData.allowNext=2,k.checkNextfunHandle(),k.doSetMacClone(_))}}},"views.qsChooseInternetTypeView.networkPreispConntype2":{ev_value_change:function(e,t,s){var n,i,a,o;t&&(n=q.qsPreIspModel.networkPreispConntype.getValue(),t=t,1==k.preIspData.gHandleLevel?(i=q.qsPreIspModel.networkPreispCountryName.getValue(),a=q.qsPreIspModel.networkPreispCityName.getValue(),o=q.qsPreIspModel.networkPreispIspName.getValue(),k.setSecondConnectionType(n,t,""),i=k.getMacClone(i,a,o,n,t,""),k.doSetMacClone(i),k.preIspData.allowNext=2,k.checkNextfunHandle()):S.qsChooseInternetTypeView.networkPreispConnVpnServer.enable())}},"views.qsChooseInternetTypeView.networkPreispConnVpnServer":{ev_value_change:function(e,t,s){var n,i,a,o,r;t&&(n=q.qsPreIspModel.networkPreispConntype.getValue(),i=S.qsChooseInternetTypeView.networkPreispConntype2.getValue(),t=t,a=q.qsPreIspModel.networkPreispCountryName.getValue(),o=q.qsPreIspModel.networkPreispCityName.getValue(),r=q.qsPreIspModel.networkPreispIspName.getValue(),k.setSecondConnectionType(n,i,t),lMacClone=k.getMacClone(a,o,r,n,i,t),k.doSetMacClone(lMacClone),k.preIspData.allowNext=2,k.checkNextfunHandle())}},"models.qsUSB3G4GModemModel.usbmodemSetisp":{ev_value_change:function(e,t,s){"auto"!=t?(S.qsChooseInternetTypeView.usbmodemSetispConfig.show(),q.qsUSB3G4GModemModel.usbmodemDialNum.enable(),q.qsUSB3G4GModemModel.usbmodemMobileApn.enable(),q.qsUSB3G4GModemModel.usbmodemUsername.enable(),q.qsUSB3G4GModemModel.usbmodemPassword.enable(),q.qsUSB3G4GModemModel.usbmodemLocindex.disable(),q.qsUSB3G4GModemModel.usbmodemIspindex.disable()):(S.qsChooseInternetTypeView.usbmodemSetispConfig.hide(),q.qsUSB3G4GModemModel.usbmodemDialNum.disable(),q.qsUSB3G4GModemModel.usbmodemMobileApn.disable(),q.qsUSB3G4GModemModel.usbmodemUsername.disable(),q.qsUSB3G4GModemModel.usbmodemPassword.disable(),q.qsUSB3G4GModemModel.usbmodemLocindex.enable(),q.qsUSB3G4GModemModel.usbmodemIspindex.enable()),k.nextButtonSet()}},"models.qsUSB3G4GModemModel.usbmodemLocindex":{ev_value_change:function(e,t,s){var n;null!=t&&(f.gMobileIspS.loadData(k.locationStack[t].ispList),1==k.firstLoad?(n=q.qsUSB3G4GModemModel.usbmodemIspindex.getValue(),q.qsUSB3G4GModemModel.usbmodemIspindex.setValue(n),k.firstLoad=!1):0!=k.locationStack[t].ispList.length&&q.qsUSB3G4GModemModel.usbmodemIspindex.setValue("0"),k.nextButtonSet())}},"models.qsUSB3G4GModemModel.usbmodemIspindex":{ev_value_change:function(e,t,s){var n;null!=t&&(n=q.qsUSB3G4GModemModel.usbmodemLocindex.getValue(),q.qsUSB3G4GModemModel.usbmodemDialNum.setValue(k.locationStack[n]["isp"+t].dial_num),q.qsUSB3G4GModemModel.usbmodemMobileApn.setValue(k.locationStack[n]["isp"+t].apn),q.qsUSB3G4GModemModel.usbmodemUsername.setValue(k.locationStack[n]["isp"+t].username),q.qsUSB3G4GModemModel.usbmodemPassword.setValue(k.locationStack[n]["isp"+t].password),q.qsUSB3G4GModemModel.usbmodemDialNumHidden.setValue(k.locationStack[n]["isp"+t].dial_num),q.qsUSB3G4GModemModel.usbmodemMobileApnHidden.setValue(k.locationStack[n]["isp"+t].apn),q.qsUSB3G4GModemModel.usbmodemUsernameHidden.setValue(k.locationStack[n]["isp"+t].username),q.qsUSB3G4GModemModel.usbmodemPasswordHidden.setValue(k.locationStack[n]["isp"+t].password),k.nextButtonSet())}}})}},function(y,i,a,e,s,o){y=this;return{internetType:null,detectInterval:null,firstDetectFlag:!1,gIspHidden:"",firstShowPin:!0,modemStatus:"",modemInterval:null,locationStack:{},firstLoad:!0,preIspData:{countryNum:0,cityNum:0,ispNum:0,allowNext:0,gHandleLevel:0},supportPreIsp:o.device.getConfig().supportPreIsp,supportWanLanPort:!!o.device.getConfig().supportWanLanPort,getUnavialModuleHtml:function(e){for(var t=o.moduleManager.get("navigatorController").getV6DsliteHiddenName(),s=0,n=t.length,i="";s<n;s++)i+="<p>"+t[s]+"</p>";return e+i},goNext:function(){var e=a.quickSetupModel.networkConntype.getValue(),t=o.moduleManager.get("qsInternetEdit");a.quickSetupModel.networkConntype.setValue(e),t&&this.internetType!==e&&t.showInternetType(e),this.internetType=e,s.quickSetupRouter.skipFlag=!1,s.quickSetupRouter.enableStep(["qsInternetEdit","qsInternetConnection"]),y.trigger("ev_qs_next")},goBack:function(){y.trigger("ev_qs_back")},checkPortConn:function(){s.quickSetupRouter.getPhysicalConnStatus()?(o.device.getConfig().supportPreIsp?(y.setPreIspField(),y.nextButtonSet()):a.ipv4Status.load({success:function(e){a.quickSetupModel.networkConntype.setValue(e.conntype)}}),i.qsChooseInternetTypeView.selectConnectTypePanel.show(),i.qsChooseInternetTypeView.internetDisconnectPanel.hide()):y.supportWanLanPort||(i.qsChooseInternetTypeView.selectConnectTypePanel.hide(),i.qsChooseInternetTypeView.internetDisconnectPanel.show())},startDetectConnectType:function(){var t,s,n=0;clearInterval(y.detectInterval),i.qsChooseInternetTypeView.autoDetectBtn.disable(),i.qsChooseInternetTypeView.autoDetectProcessbar.hide(),a.qsInternetConnTypeDetectModel.getProxy().detect({success:function(e){t=e.time,s=e.time/1e3,i.qsChooseInternetTypeView.autoDetectResult.hide(),i.qsChooseInternetTypeView.autoDetectProcessbar.show(),i.qsChooseInternetTypeView.autoDetectProcessbar.animate({duration:t,percentageStart:0,percentageEnd:100}),y.detectInterval=setInterval(function(){y.continueDetectConnectType({success:function(e){if("unplugged"===e.conntype)clearInterval(y.detectInterval),i.qsChooseInternetTypeView.autoDetectProcessbar.reset(),i.qsChooseInternetTypeView.autoDetectProcessbar.hide(),i.qsChooseInternetTypeView.autoDetectResult.setText(h.su.CHAR.BASIC_INTERNET.UNPLUGGED),i.qsChooseInternetTypeView.autoDetectResult.show();else if("none"===e.conntype)i.qsChooseInternetTypeView.autoDetectResult.setText(h.su.CHAR.QUICK_SETUP.NONE),s<=n&&(clearInterval(y.detectInterval),i.qsChooseInternetTypeView.autoDetectProcessbar.reset(),i.qsChooseInternetTypeView.autoDetectProcessbar.hide(),i.qsChooseInternetTypeView.autoDetectResult.show());else{clearInterval(y.detectInterval),i.qsChooseInternetTypeView.autoDetectProcessbar.reset(),i.qsChooseInternetTypeView.autoDetectProcessbar.hide();var t="";switch(e.conntype){case"dhcp":t=h.su.CHAR.QUICK_SETUP.DYNAMIC_IP;break;case"static":t=h.su.CHAR.QUICK_SETUP.STATIC_IP;break;case"pppoe":t=h.su.CHAR.QUICK_SETUP.PPPOE;break;case"l2tp":t=h.su.CHAR.QUICK_SETUP.L2TP;break;case"pptp":t=h.su.CHAR.QUICK_SETUP.PPTP;break;case"dslite":t=h.su.CHAR.QUICK_SETUP.DSLITE;break;case"v6plus":t=h.su.CHAR.QUICK_SETUP.V6_PLUS;break;case"ocn":t=h.su.CHAR.QUICK_SETUP.OCN;break;default:t=h.su.CHAR.QUICK_SETUP.NONE}i.qsChooseInternetTypeView.autoDetectResult.setText(t),i.qsChooseInternetTypeView.autoDetectResult.show(),a.quickSetupModel.networkConntype.setValue(e.conntype)}},fail:function(){s<=++n&&(clearInterval(y.detectInterval),i.qsChooseInternetTypeView.autoDetectProcessbar.reset(),i.qsChooseInternetTypeView.autoDetectProcessbar.hide(),i.qsChooseInternetTypeView.autoDetectBtn.enable())},error:function(){s<=++n&&(clearInterval(y.detectInterval),i.qsChooseInternetTypeView.autoDetectProcessbar.reset(),i.qsChooseInternetTypeView.autoDetectProcessbar.hide(),i.qsChooseInternetTypeView.autoDetectBtn.enable())}}),i.qsChooseInternetTypeView.autoDetectBtn.enable()},1e3)},fail:function(){i.qsChooseInternetTypeView.autoDetectBtn.enable()},error:function(){i.qsChooseInternetTypeView.autoDetectBtn.enable()}})},continueDetectConnectType:function(e){var t,s,n;e&&(t=e.success,s=e.fail,n=e.error),a.qsInternetConnTypeDetectModel.getProxy().read({success:function(e){t&&t(e)},fail:function(e){s&&s(e)},error:function(e){n&&n(e)}})},fncInterval:function(){o.ajax.request({proxy:"modemRefreshProxy",data:{operation:"read"},success:function(e){y.gIspHidden=e.ispindex,y.refreshModemStatus(e),y.refreshIsp(e),y.refreshSelect(e),y.nextButtonSet()}})},refreshModemStatus:function(e){var t="";switch(e.modemstatus){case"0":t=h.su.CHAR.QUICK_SETUP.G3_G4_UNPLUGGED_NOTE,y.firstShowPin=!0;break;case"1":t=h.su.CHAR.QUICK_SETUP.G3_G4_IDENTIFYING;break;case"2":t=0==e.pinlock||4==e.pinlock?h.su.CHAR.QUICK_SETUP.G3_G4_IDENTIFY_SUCCESS:h.su.CHAR.QUICK_SETUP.G3_G4_UNKNOWN_SIM_NOTE;break;default:t=h.su.CHAR.QUICK_SETUP.G3_G4_UNKNOWN_MODE}y.modemStatus=t,i.qsChooseInternetTypeView.qsmodemstatus.setHTML(t)},refreshIsp:function(e){0==e.ispstatus?(a.qsUSB3G4GModemModel.usbmodemLocindex.setValue(null),a.qsUSB3G4GModemModel.usbmodemIspindex.setValue(null)):1==e.ispstatus&&(a.qsUSB3G4GModemModel.usbmodemLocindex.setValue(e.locindex),a.qsUSB3G4GModemModel.usbmodemIspindex.setValue(e.ispindex))},refreshSelect:function(e){2!=e.modemstatus||0!=e.pinlock&&4!=e.pinlock?(i.qsChooseInternetTypeView.nextButton.disable(),a.qsUSB3G4GModemModel.usbmodemDialNum.disable(),a.qsUSB3G4GModemModel.usbmodemMobileApn.disable(),a.qsUSB3G4GModemModel.usbmodemUsername.disable(),a.qsUSB3G4GModemModel.usbmodemPassword.disable(),a.qsUSB3G4GModemModel.usbmodemLocindex.disable(),a.qsUSB3G4GModemModel.usbmodemIspindex.disable()):(a.qsUSB3G4GModemModel.usbmodemSetisp.enable(),"manual"==a.qsUSB3G4GModemModel.usbmodemSetisp.getValue()?(i.qsChooseInternetTypeView.usbmodemSetispConfig.show(),a.qsUSB3G4GModemModel.usbmodemDialNum.enable(),a.qsUSB3G4GModemModel.usbmodemMobileApn.enable(),a.qsUSB3G4GModemModel.usbmodemUsername.enable(),a.qsUSB3G4GModemModel.usbmodemPassword.enable(),a.qsUSB3G4GModemModel.usbmodemLocindex.disable(),a.qsUSB3G4GModemModel.usbmodemIspindex.disable()):(i.qsChooseInternetTypeView.usbmodemSetispConfig.hide(),a.qsUSB3G4GModemModel.usbmodemLocindex.enable(),a.qsUSB3G4GModemModel.usbmodemIspindex.enable()))},nextButtonSet:function(){("3g4g"==a.qsUSB3G4GModemModel.workingModeWan3g4gSwitch.getValue()?y.validateModem():y.validateCable())?i.qsChooseInternetTypeView.nextButton.enable():i.qsChooseInternetTypeView.nextButton.disable()},validateModem:function(){var e,t;return y.modemStatus===h.su.CHAR.QUICK_SETUP.G3_G4_IDENTIFY_SUCCESS&&(e=a.qsUSB3G4GModemModel.usbmodemLocindex.getValue(),t=a.qsUSB3G4GModemModel.usbmodemIspindex.getValue(),"manual"==a.qsUSB3G4GModemModel.usbmodemSetisp.getValue()||null!=e&&null!=t)},validateCable:function(){var e=i.qsChooseInternetTypeView.preIspManual.getValue(),t=a.quickSetupModel.networkConntype.getValue();return!!s.quickSetupRouter.getConnectionStatus().wanConnected&&(y.supportPreIsp&&"on"!=e?0!==y.preIspData.allowNext:!!t)},enableWanConn:function(){a.quickSetupModel.toggleFields(/^ispSpecial/,!0),a.quickSetupModel.toggleFields(/^network/,!0)},disableWanConn:function(){a.quickSetupModel.toggleFields(/^ispSpecial/,!1),a.quickSetupModel.toggleFields(/^network/,!1)},setPreIspField:function(){s.quickSetupRouter.getConnectionStatus().wanConnected?i.qsChooseInternetTypeView.preIspField.enable():i.qsChooseInternetTypeView.preIspField.disable()},getObjectLength:function(e,t){var s=0,n=new RegExp("^"+t+"\\d+$");return h.each(e,function(e){n.test(e)&&s++}),s},checkNextfunHandle:function(){0==y.preIspData.allowNext?i.qsChooseInternetTypeView.nextButton.disable():i.qsChooseInternetTypeView.nextButton.enable()},getConnectionType:function(e,t){var s="";switch(e){case"Статический IP-адрес":s="static";break;case"Динамический IP-адрес":s=1==t?"dhcp":"dynamic";break;case"PPPoE":s="pppoe";break;case"L2TP":s="l2tp";break;case"PPTP":s="pptp";break;default:s="dynamic"}return s},getRUConnectionType:function(e){var t="";switch(e){case"static":t="Статический IP-адрес";break;case"dynamic":case"dhcp":t="Динамический IP-адрес";break;case"pppoe":t="PPPoE";break;case"l2tp":t="L2TP";break;case"pptp":t="PPTP";break;default:t="PPPoE"}return t},doSetSecconAndVpn:function(e,t,s){var n="";switch(e){case"Статический IP-адрес":n="static";break;case"Динамический IP-адрес":n="dhcp";break;case"PPPoE":n="pppoe",null==s||""==s?a.quickSetupModel.networkPppoeSndConn.setValue("none"):"Статический IP-адрес"==s?a.quickSetupModel.networkPppoeSndConn.setValue("static"):"Динамический IP-адрес"==s&&a.quickSetupModel.networkPppoeSndConn.setValue("dynamic");break;case"L2TP":n="l2tp","Статический IP-адрес"==s?(a.quickSetupModel.networkL2tpSndConn.setValue("static"),a.quickSetupModel.networkL2tpStaticServer.setValue(t),y.setDomain("static",t)):"Динамический IP-адрес"==s&&(a.quickSetupModel.networkL2tpSndConn.setValue("dynamic"),a.quickSetupModel.networkL2tpDynServer.setValue(t),y.setDomain("dynamic",t));break;case"PPTP":n="pptp","Статический IP-адрес"==s?(a.quickSetupModel.networkPptpSndConn.setValue("static"),a.quickSetupModel.networkPptpStaticServer.setValue(t),y.setDomain("static",t)):"Динамический IP-адрес"==s&&(a.quickSetupModel.networkPptpSndConn.setValue("dynamic"),a.quickSetupModel.networkPptpDynServer.setValue(t),y.setDomain("dynamic",t))}return a.quickSetupModel.networkConntype.setValue(n),n},doSetMacClone:function(e){"YES"==e?a.quickSetupModel.networkDhcpMacCloneType.setValue("computer"):a.quickSetupModel.networkDhcpMacCloneType.setValue("default")},disableSecondConnection:function(){i.qsChooseInternetTypeView.networkPreispConntype2.setValue(null),i.qsChooseInternetTypeView.networkPreispConntype2.hide(),i.qsChooseInternetTypeView.networkPreispConntype2.disable(),i.qsChooseInternetTypeView.networkPreispConnVpnServer.setValue(null),i.qsChooseInternetTypeView.networkPreispConnVpnServer.hide(),i.qsChooseInternetTypeView.networkPreispConnVpnServer.disable()},setSecondConnectionType:function(e,t,s){switch(e){case"pppoe":null==t||""==t||"none"==t?a.quickSetupModel.networkPppoeSndConn.setValue("none"):"static"==t?a.quickSetupModel.networkPppoeSndConn.setValue("static"):"dynamic"==t&&a.quickSetupModel.networkPppoeSndConn.setValue("dynamic");break;case"l2tp":"static"==t?(a.quickSetupModel.networkL2tpSndConn.setValue("static"),a.quickSetupModel.networkL2tpStaticServer.setValue(s)):"dynamic"==t&&(a.quickSetupModel.networkL2tpSndConn.setValue("dynamic"),a.quickSetupModel.networkL2tpDynServer.setValue(s));break;case"pptp":"static"==t?(a.quickSetupModel.networkPptpSndConn.setValue("static"),a.quickSetupModel.networkPptpStaticServer.setValue(s)):"dynamic"==t&&(a.quickSetupModel.networkPptpSndConn.setValue("dynamic"),a.quickSetupModel.networkPptpDynServer.setValue(s))}},getMacClone:function(e,t,s,n,i,a){for(var o,r,p,l,u=y.getObjectLength(ispAutoConfTable,"country"),d=0;d<u;d++)ispAutoConfTable["country"+d].country_name==e&&(o=d);for(var c=ispAutoConfTable["country"+o],g=y.getObjectLength(c,"location"),d=0;d<g&&null!=c["location"+d];d++)if(c["location"+d].city_region==t){r=d;break}for(var _=c["location"+r],m=y.getObjectLength(_,"isp"),d=0;d<m&&null!=_["isp"+d];d++)if(_["isp"+d].isp_name==s){p=d;break}for(var w,k,S,q=_["isp"+p],f=y.getObjectLength(q,"auto_config"),d=0;d<f&&null!=(S=q["auto_config"+d]);d++)if(w=y.getConnectionType(S.first_connection,1),k=""==S.second_connection?"none":y.getConnectionType(S.second_connection,2),S=S.vpn_ip_name,w==n&&k==i&&S==a){l=d;break}return q["auto_config"+l].mac_clone},_sndConn:null,_domainVal:null,setDomain:function(e,t){y._sndConn=e,y._domainVal=t},getDomain:function(){return{snd:y._sndConn,vpn:y._domainVal}}}})}(jQuery),function(){$.su.modelManager.define("qsInternetConnTypeDetectModel",{type:"model",fields:[{name:"time"},{name:"conntype"}],proxy:"qsInternetConnTypeDetectProxy"}),$.su.define("qsInternetConnTypeDetectProxy",{extend:"IPFProxy",url:$.su.url("/admin/network?form=wan_autodetect"),api:{detect:{writeFilter:function(e){return $.extend({operation:"detect"},e)}},read:{writeFilter:function(e){return $.extend({operation:"read"},e)}}}});var a={dhcp:{boxlabel:$.su.CHAR.QUICK_SETUP.DYNAMIC_IP,value:"dhcp",content:"<p>"+$.su.CHAR.QUICK_SETUP.DYNAMIC_INTRO+"</p>"},static:{boxlabel:$.su.CHAR.QUICK_SETUP.STATIC_IP,value:"static",content:"<p>"+$.su.CHAR.QUICK_SETUP.STATIC_INTRO+"</p>"},pppoe:{boxlabel:$.su.CHAR.QUICK_SETUP.PPPOE,value:"pppoe",content:"<p>"+$.su.CHAR.QUICK_SETUP.PPPOE_INTRO+"</p>"},l2tp:{boxlabel:$.su.CHAR.QUICK_SETUP.L2TP,value:"l2tp",content:"<p>"+$.su.CHAR.QUICK_SETUP.L2TP_INTRO+"</p>"},pptp:{boxlabel:$.su.CHAR.QUICK_SETUP.PPTP,value:"pptp",content:"<p>"+$.su.CHAR.QUICK_SETUP.PPTP_INTRO+"</p>"},dslite:{boxlabel:$.su.CHAR.NETWORK_INTERNET.DSLITE,value:"dslite",content:"<p>"+$.su.CHAR.NETWORK_INTERNET.DSLITE_INTRO+"</p>"},v6plus:{boxlabel:$.su.CHAR.NETWORK_INTERNET.V6_PLUS,value:"v6plus",content:"<p>"+$.su.CHAR.NETWORK_INTERNET.V6_PLUS_INTRO+"</p>"},ocn:{boxlabel:$.su.CHAR.NETWORK_INTERNET.OCN,value:"ocn",content:"<p>"+$.su.CHAR.NETWORK_INTERNET.OCN_INTRO+"</p>"}};$.su.storeManager.define("qsInternetConnTypeStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"content"},{name:"checked"}],data:[],convert:function(e){for(var t,s=[],n=e.length,i=0;i<n;i++)(t=a[e[i].value])&&s.push(t);return s},proxy:{url:$.su.url("/admin/network?form=wan_ipv4_protos")}}),$.su.storeManager.define("qsPreIspCountryStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.storeManager.define("qsPreIspCityStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.storeManager.define("qsPreIspISPStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.storeManager.define("qsPreIspConnectionStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.storeManager.define("qsPreIspConnection2Store",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.storeManager.define("qsPreIspVpnServerStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.modelManager.define("qsPreIspModel",{type:"model",fields:[{name:"networkPreispCountryName"},{name:"networkPreispCityName"},{name:"networkPreispIspName"},{name:"networkPreispConntype"}]}),$.su.storeManager.define("qsUSB3G4GModemStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[{name:$.su.CHAR.QUICK_SETUP.G3_G4_CONNECTION_METHOD_CABLE,value:"cable",boxlabel:$.su.CHAR.QUICK_SETUP.G3_G4_CONNECTION_METHOD_CABLE},{name:$.su.CHAR.QUICK_SETUP.G3_G4_CONNECTION_METHOD_3G4G,value:"3g4g",boxlabel:$.su.CHAR.QUICK_SETUP.G3_G4_CONNECTION_METHOD_3G4G}]}),$.su.modelManager.define("qsUSB3G4GModemModel",{type:"model",fields:[{name:"workingModeWan3g4gSwitch"},{name:"usbmodemLocindex",allowBlank:!1},{name:"usbmodemIspindex",allowBlank:!1},{name:"usbmodemSetisp"},{name:"usbmodemDialNum",maxLength:63,vtype:"sim_dialnum"},{name:"usbmodemMobileApn",maxLength:63},{name:"usbmodemUsername",maxLength:255},{name:"usbmodemPassword",maxLength:255},{name:"usbmodemDialNumHidden"},{name:"usbmodemMobileApnHidden"},{name:"usbmodemUsernameHidden"},{name:"usbmodemPasswordHidden"}]}),$.su.define("modemRefreshProxy",{extend:"IPFProxy",url:$.su.url("/admin/usbmodem?form=modemset")}),$.su.define("ispListProxy",{extend:"IPFProxy",url:$.su.url("/admin/usbmodem?form=isplist")})}(),function(r){r.su.moduleManager.define("qsCloudAndTether",{services:["moduleLoader","moduleManager","ajax","device"],models:["quickSetupModel"],deps:["main"],views:["qsCloudAndTetherView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){s.qsCloudAndTetherView.wifisharing5g2.hide();n=n.quickSetupModel.getData();t.goToTpLogin(),null!==n.wireless2gSsid&&this.syncWifiSharingData(n),t.supportWifi6E||s.qsCloudAndTetherView.wifisharing6g.hide(),"on"==n.wirelessSmartEnable&&(s.qsCloudAndTetherView.wifisharing5g.hide(),s.qsCloudAndTetherView.wifisharing5g2.hide(),r(".wifisharing-6g").removeClass("second-line")),o.ajax.request({proxy:"firmwareProxy",method:"write",data:{upgraded:!1}}),a.main.upgraded=!1}},init:function(e,t,s,n,i,a){this.control({"#qs-quit-button":{ev_button_click:e.goNext}}),this.listen({"models.quickSetupModel":{ev_loaded:function(){var e=s.quickSetupModel.getData();this.syncWifiSharingData(e)}}})}},function(t,u,e,s,n,i){t=this;return{supportWifi6E:i.device.getConfig().supportWifi6E,goNext:function(){t.trigger("ev_qs_next")},goToTpLogin:function(){t.loadCloudModule(function(){u.qsCloudAndTetherView.qsCloudBtnAndQrcode.show()})},loadCloudModule:function(t){i.moduleLoader.load({module:"qsCloudAndTether"},{module:"cloudService"},u.qsCloudAndTetherView.tpLoginLoader,function(){t&&t();var e=i.moduleManager.get("cloudService");e.setMode("qs"),e.init()})},reloadCloudModule:function(){i.moduleLoader.unLoad(u.qsCloudAndTetherView.tpLoginLoader),t.loadCloudModule()},showLoading:function(){n.main.showMask(),u.qsCloudAndTetherView.pageLoadingSd.show()},hideLoading:function(){n.main.hideMask(),u.qsCloudAndTetherView.pageLoadingSd.hide()},syncWifiSharingData:function(e){t.setWifiSharingValue(e,"2g"),t.setWifiSharingValue(e,"5g")},setWifiSharingValue:function(e,t){var s={},n="wifisharing2g".replace("2g",t),i="wireless2gSsid".replace("2g",t),a="wireless2gPskKey".replace("2g",t),o="wireless2gWpaKey".replace("2g",t),r="wireless2gWepKey1".replace("2g",t),p="wireless2gEncryption".replace("2g",t),l="wireless2gPskVersion".replace("2g",t);switch(s.ssid=e[i],e[p]){case"psk":s.password=e[a],s.security="psk";break;case"psk_sae":s.pskVersion=e[l],s.password=e[a],s.security="psk_sae";break;case"wpa":s.password=e[o],s.security="wpa";break;case"wep":s.password=e[r],s.security="wep";break;default:s.password="",s.security="none"}u.qsCloudAndTetherView[n].setValue(s)},showCloudEle:function(){u.qsCloudAndTetherView.qsSkipBtn.show(),u.qsCloudAndTetherView.qrcodeField.show()},hideCloudEle:function(){u.qsCloudAndTetherView.qsSkipBtn.hide(),u.qsCloudAndTetherView.qrcodeField.hide()}}})}(jQuery),function(o){o.su.moduleManager.define("qsDualNatDetect",{stores:["routerModeStore"],models:["routerModeModel"],views:["qsDualNatDetectView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){n.routerModeModel.reset(),s.qsDualNatDetectView.qsNatIssueNextBtn.disable()}},init:function(e,n,t,s,i,a){this.control({"#issue-detected-next-btn":{ev_button_click:function(){switch(n.qsDualNatDetectView.issueDetecedPanel.hide(),o(".issue-detected-btn-field").hide(),o(".fix-issue-btn-field").show(),t.routerModeModel.mode.getValue()){case"independent":n.qsDualNatDetectView.fixIssuePanel.hide(),n.qsDualNatDetectView.recommendPanel.show();break;case"combined":n.qsDualNatDetectView.recommendPanel.hide(),n.qsDualNatDetectView.fixIssuePanel.show()}}},"#issue-detected-none":{ev_button_click:e.goNext},"#qs-fix-issue-next-step-btn":{ev_button_click:e.goNext},"#qs-fix-issue-back-step-btn":{ev_button_click:function(){n.qsDualNatDetectView.fixIssuePanel.hide(),n.qsDualNatDetectView.recommendPanel.hide(),n.qsDualNatDetectView.issueDetecedPanel.show(),o(".fix-issue-btn-field").hide(),o(".issue-detected-btn-field").show()}}}),this.listen({"models.routerModeModel.mode":{ev_value_change:function(e,t,s){s||n.qsDualNatDetectView.qsNatIssueNextBtn.enable()}}})}},function(e,t,s,n,i,a){return{goNext:function(){e.trigger("ev_qs_next")}}})}(jQuery),$.su.modelManager.define("routerModeModel",{type:"model",fields:[{name:"mode"}]}),$.su.storeManager.define("routerModeStore",{type:"store",fields:[{name:"value"},{name:"boxlabel"},{name:"content"}],data:[{value:"independent",boxlabel:$.su.CHAR.QUICK_SETUP.INDEPENDENT_ROUTER,content:".dual-nat-independent"},{value:"combined",boxlabel:$.su.CHAR.QUICK_SETUP.COMBINED_ROUTER,content:".dual-nat-combined"}]}),function(o){o.su.moduleManager.define("qsExtenderGuidance",{services:["ajax"],views:["qsExtenderGuidanceView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){o.ajax.request({proxy:"checkEasyMeshProxy",method:"read",success:function(e){t.checkEasyMeshTime=1e3*e.duration,t.checkEasyMeshInterval=1e3*e.period}})}},init:function(e,t,s,n,i,a){this.control({"#add-extenders-next-btn":{ev_button_click:function(){t.qsExtenderGuidanceView.addExtendersPanel.hide(),e.startSyncEasyMesh()}},".try-again-btn":{ev_button_click:function(){t.qsExtenderGuidanceView.addExtendersFailPanel.hide(),e.startSyncEasyMesh()}},".qs-skip-btn":{ev_button_click:function(){t.qsExtenderGuidanceView.addExtendersFailPanel.hide(),t.qsExtenderGuidanceView.mountExtendersPanel.show()}},"#relocate-extender-next-btn":{ev_button_click:function(){t.qsExtenderGuidanceView.relocateExtenderPanel.hide(),t.qsExtenderGuidanceView.mountExtendersPanel.show()}},"#mount-extenders-next-btn":{ev_button_click:e.goNext},"#led-status":{click:function(){t.qsExtenderGuidanceView.ledStatusMsg.show()}},"#interference-wifi-appliances":{click:function(){t.qsExtenderGuidanceView.interferenceWifiAppliancesMsg.show()}}})}},function(s,t,e,n,i,a){return{checkEasyMeshTime:9e4,checkEasyMeshInterval:1e3,startSyncEasyMesh:function(){t.qsExtenderGuidanceView.syncing.show(),t.qsExtenderGuidanceView.syncingProgressbar.reset();var e=s.startCheckEasyMesh();o.when(e).done(function(){t.qsExtenderGuidanceView.syncingProgressbar.setValue(100),t.qsExtenderGuidanceView.syncing.hide(),t.qsExtenderGuidanceView.relocateExtenderPanel.show()}).fail(function(){t.qsExtenderGuidanceView.syncing.hide(),t.qsExtenderGuidanceView.addExtendersFailPanel.show()}),t.qsExtenderGuidanceView.syncingProgressbar.animate({percentageStart:0,percentageEnd:100,duration:s.checkEasyMeshTime,callback:function(){e.reject(),e&&e.reject()}})},startCheckEasyMesh:function(){var t=o.Deferred();return function e(){a.ajax.request({proxy:"easyMeshStatusProxy",method:"read",success:function(){t.resolve()},fail:function(){"pending"===t.state()&&setTimeout(e,s.checkEasyMeshInterval)},error:function(){"pending"===t.state()&&setTimeout(e,s.checkEasyMeshInterval)}})}(),t},goNext:function(){s.trigger("ev_qs_next")}}})}(jQuery),function(o){o.su.moduleManager.define("qsFwUpgrade",{deps:["quickSetupRouter"],services:["ajax","moduleLoader","moduleManager"],views:["qsFwUpgradeView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){this.showUpgradeInfo()}},init:function(e,t,s,n,i,a){this.control({".upgrade-btn":{ev_button_click:function(){e.startUpgrade()}},".qs-skip-btn":{ev_button_click:function(){sessionStorage.setItem("upgradeToken",localStorage.getItem("token")),i.quickSetupRouter.upgradeState="noUpgrade",e.goNext()}}})}},function(e,s,t,n,i,a){return{showUpgradeInfo:function(){var e=i.quickSetupRouter.upgradeDetail;s.qsFwUpgradeView.qsFwUpgradeTitle.show(),s.qsFwUpgradeView.upgradeNote1.setText(e),s.qsFwUpgradeView.upgradeNote3.setText(e),a.ajax.request({proxy:"upgradeReadProxy",method:"read",success:function(e){var t;3==e.type?(t=o.su.CHAR.NETWORK_MAP.ROUTER,a.ajax.request({proxy:"qsGetDeviceInfoProxy",method:"read",ajax:{async:!1},success:function(e){t=e.model}}),s.qsFwUpgradeView.upgradeMsg3Notice.setText(o.su.CHAR.UPGRADE.NOTICE_IMPORTANT.replace("%model%",t)),s.qsFwUpgradeView.upgradeMsg3.show()):0!=e.type&&1!=e.type&&2!=e.type&&""!==e.type||s.qsFwUpgradeView.upgradeMsg1.show()},fail:i.quickSetupRouter.skipUpgrade,error:i.quickSetupRouter.skipUpgrade})},startUpgrade:function(){s.qsFwUpgradeView.upgradeMsg1.hide(),s.qsFwUpgradeView.upgradeMsg3.hide(),a.moduleLoader.load({module:"qsFwUpgrade"},{module:"firmware",view:"firmwareQsView"},s.qsFwUpgradeView.qsFirmwareUpgradeLoader,function(){var e=a.moduleManager.get("firmware");e.setMode("qs"),e.startOnlineUpgrade()})},goNext:function(){e.trigger("ev_qs_next")}}})}(jQuery),function(o){o.su.moduleManager.define("qsInternetConnection",{services:["ajax"],models:["quickSetupModel"],deps:["quickSetupRouter","main"],views:["qsInternetConnectionView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){s.qsInternetConnectionView.creating.show(),this.startCreateInternetConn()}},init:function(e,t,s,n,i,a){this.configViews({id:"qsInternetConnectionView",items:[{id:"internet-conn-note","notes-title":o.su.CHAR.QUICK_SETUP.TRY_FOLLOW,items:[{text:o.su.CHAR.QUICK_SETUP.TRY_1},{text:o.su.CHAR.QUICK_SETUP.TRY_2},{text:o.su.CHAR.QUICK_SETUP.TRY_3}]}]}),this.control({"#internet-create":{ev_button_click:function(){e.startCreateInternetConn(),t.qsInternetConnectionView.featureSwiper.rerender()}},"#internet-create-go-back":{ev_button_click:function(){e.trigger("ev_qs_goto",["qsChooseInternetType"])}},"#internet-create-skip":{ev_button_click:function(){e.trigger("ev_qs_next")}}})}},function(s,n,e,t,i,a){s=this;return{checkInternetTime:9e4,startCreateInternetConn:function(){var e,t;n.qsInternetConnectionView.creating.show(),n.qsInternetConnectionView.mainContent.hide(),n.qsInternetConnectionView.creatingProgressbar.reset(),s.createInternetConn({success:function(){e=s.startCheckRouter(),o.when(e).then(function(){return t=s.startCheckInternet()}).done(function(){n.qsInternetConnectionView.creatingProgressbar.setValue(100),i.quickSetupRouter.noInternet=!1,i.quickSetupRouter.exitMsgNum=2,setTimeout(function(){s.startCheckCloud(function(){s.trigger("ev_qs_next")})},1e3)}).fail(function(){i.quickSetupRouter.noInternet=!0,s.showWarningPage()})},fail:function(){i.quickSetupRouter.noInternet=!0,n.qsInternetConnectionView.creatingProgressbar.stop(),s.showWarningPage()},error:function(){e=s.startCheckRouter(),o.when(e).then(function(){return t=s.startCheckInternet()}).done(function(){n.qsInternetConnectionView.creatingProgressbar.setValue(100),i.quickSetupRouter.noInternet=!1,i.quickSetupRouter.exitMsgNum=2,setTimeout(function(){s.startCheckCloud(function(){s.trigger("ev_qs_next")})},1e3)}).fail(function(){i.quickSetupRouter.noInternet=!0,s.showWarningPage()})}}),n.qsInternetConnectionView.creatingProgressbar.animate({percentageStart:0,percentageEnd:100,duration:s.checkInternetTime,callback:function(){e.reject(),t&&t.reject()}})},startCheckCloud:function(e){var t=o.Deferred();s.checkCloud({success:function(e){i.quickSetupRouter.cloudBindFlag=e.isbind,t.resolve()},fail:function(){i.quickSetupRouter.cloudBindFlag=!1,t.resolve()},error:function(){i.quickSetupRouter.cloudBindFlag=!1,t.resolve()}}),o.when(t).done(function(){e()})},showWarningPage:function(){n.qsInternetConnectionView.creating.hide(),n.qsInternetConnectionView.mainContent.show(),i.main.hideMask()},createInternetConn:function(e){var t,s;e&&(t=e.success,s=e.fail,errorCallback=e.error),i.quickSetupRouter.submitQuickSetupData({success:function(e){i.quickSetupRouter.afterSubmitConnectType(),setTimeout(function(){t&&t(e)},3e4)},fail:function(){setTimeout(function(){s&&s()},3e4)},error:function(){setTimeout(function(){errorCallback&&errorCallback()},3e4)}})},startCheckRouter:function(){var t=o.Deferred();return function e(){a.ajax.request({proxy:"checkRouterProxy",success:function(){t.resolve()},fail:function(){"pending"===t.state()&&setTimeout(e,1e3)},error:function(){"pending"===t.state()&&setTimeout(e,1e3)}})}(),t},startCheckInternet:function(){var s=o.Deferred();return function t(){a.ajax.request({proxy:"checkInternetProxy",success:function(e){s.resolve()},fail:function(e){"pending"===s.state()&&setTimeout(t,1e3)},error:function(e){"pending"===s.state()&&setTimeout(t,1e3)}})}(),s},checkCloud:function(e){var t,s,n;e&&(t=e.success,s=e.fail,n=e.error),a.ajax.request({proxy:"cloudBindStatusProxy",method:"read",success:function(e){t&&t(e)},fail:function(e){s&&s(e)},error:function(e){n&&n(e)}})}}})}(jQuery),function(o){o.su.moduleManager.define("qsInternetEdit",{services:["moduleLoader","moduleManager"],deps:["internet","iptvVlanAdv"],models:["quickSetupModel"],views:["qsInternetEditView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){t.loadIPTVModule(),o.moduleLoader.load({module:"qsInternetEdit"},{module:"internet",view:"internetViewQs"},s.qsInternetEditView.internetLoader,function(){var e=o.moduleManager.get("internet"),e=(e.setMode(e.MODE.QUICK_SETUP),o.moduleManager.get("qsChooseInternetType").internetType);t.showInternetType(e)})}},init:function(s,e,t,n,i,a){this.control({"#qs-internet-edit-before-step-btn":{ev_button_click:function(){s.trigger("ev_qs_back")}},"#qs-internet-edit-next-step-btn":{ev_button_click:function(){var e=i.internet.syncQsData(),t=i.iptvVlanAdv.syncQsData();!1!==e&&t&&o.when(e).done(s.goNext)}}})}},function(e,t,n,s,i,a){return{goNext:function(){e.trigger("ev_qs_next")},showInternetType:function(e){a.moduleManager.get("internet").responseInternetTypeValueChange(e)},loadIPTVModule:function(){a.moduleLoader.load({module:"qsChooseInternetType"},{module:"iptvVlanAdv",view:"iptvVlanView"},t.qsInternetEditView.iptvLoader,function(){var e,t=a.moduleManager.get("iptvVlanAdv"),s=(t.setMode(t.MODE.QUICK_SETUP),n.quickSetupModel.ispSpecialEnable.getValue());t.startup(e="off"===s?"none":e)})}}})}(jQuery),function(r){r.su.moduleManager.define("qsSelectInternetPort",{views:["qsSelectInternetPortView"],models:["quickSetupModel","qsSummaryModel"],deps:["quickSetupRouter"],services:["device","moduleManager"],stores:["portTypeStore","portTypeWithIllStore"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){r("#qs_internet_port").hide(),r("#qs_internet_port_with_ill_wrapper").hide(),(o.device.getConfig().supportGamingUIGX90?r("#qs_internet_port_with_ill_wrapper"):r("#qs_internet_port")).show(),t.handleComboTooltip()}},init:function(e,t,s,n,i,a){this.listen(),this.control({"#qs-port-before-step-btn":{ev_button_click:e.goBack},"#qs-port-next-step-btn":{ev_button_click:function(){t.qsSelectInternetPortView.qsPortNextBtn.loading(!0),i.quickSetupRouter.enableStep(["qsChooseInternetType","qsInternetEdit","qsInternetConnection"]),e.checkWanLanConn().always(function(){t.qsSelectInternetPortView.qsPortNextBtn.loading(!1)})}},"#qs-port-disconnect-retry-btn":{ev_button_click:function(){t.qsSelectInternetPortView.retryPortButton.loading(!0),e.checkWanLanConn().always(function(){t.qsSelectInternetPortView.retryPortButton.loading(!1)})}},"#qs-port-disconnect-back-btn":{ev_button_click:e.goBack},"#qs-port-disconnect-skip-btn":{ev_button_click:function(){i.quickSetupRouter.skipFlag=!0,s.qsSummaryModel.connectionType.setValue(s.quickSetupModel.networkConntype.getSelectedText()),i.quickSetupRouter.disableStep(["qsChooseInternetType","qsInternetEdit","qsInternetConnection"]),e.goNext()}}})}},function(e,t,s,n,i,a){return{handleComboTooltip:function(){var e=r.su.serviceManager.get("device").getWanLanPorts();/wanlancombo/g.test(JSON.stringify(e))?(t.qsSelectInternetPortView.comboToolTip.show(),t.qsSelectInternetPortView.comboPortTip.show()):(t.qsSelectInternetPortView.comboToolTip.hide(),t.qsSelectInternetPortView.comboPortTip.hide())},goBack:function(){t.qsSelectInternetPortView.internetPortPanel.show(),t.qsSelectInternetPortView.internetDisconnectPanel.hide(),e.trigger("ev_qs_back")},goNext:function(){e.trigger("ev_qs_next")},checkWanLanConn:function(){return i.quickSetupRouter.checkPhysicalConn().then(function(){t.qsSelectInternetPortView.internetPortPanel.show(),t.qsSelectInternetPortView.internetDisconnectPanel.hide(),e.setInternetStepContent(),e.goNext()}).fail(function(){t.qsSelectInternetPortView.internetPortPanel.hide(),t.qsSelectInternetPortView.internetDisconnectPanel.show()})},setInternetStepContent:function(){var e=a.moduleManager.get("qsChooseInternetType");e&&e.checkPortConn()}}})}(jQuery),function(y){y.su.moduleManager.define("qsSummary",{services:["ajax","device"],models:["quickSetupModel","qsSummaryModel","iptvVlan","regionModel"],stores:["lanPortStore"],deps:["quickSetupRouter"],views:["qsSummaryView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){var r=n.quickSetupModel.getData(),p=!!o.device.getConfig().support160MEnable&&"on"==n.quickSetupModel.enable5g1Bw160.getValue(),l=r.wireType||"wired",u=a.quickSetupRouter.noInternet,d=a.quickSetupRouter.upgradeState,a=a.quickSetupRouter.skipFlag,c=y.su.CHAR.QUICK_SETUP.TITLE1,g=y.su.CHAR.QUICK_SETUP.TITLE2,_=y.su.CHAR.QUICK_SETUP.DESCRIPT1,m=y.su.CHAR.QUICK_SETUP.DESCRIPT2,w=p?y.su.CHAR.QUICK_SETUP.DESCRIPT3_160MHZ:y.su.CHAR.QUICK_SETUP.DESCRIPT3,k=y.su.CHAR.QUICK_SETUP.DESCRIPT4,S=p?y.su.CHAR.QUICK_SETUP.DESCRIPT5_160MHZ:y.su.CHAR.QUICK_SETUP.DESCRIPT5,q=s.qsSummaryView.summaryPanel,f=s.qsSummaryView.qsSummaryDescription;if(s.qsSummaryView.qsSummaryWanCableNote.hide(),s.qsSummaryView.qsSummaryDualNatNote.hide(),p&&s.qsSummaryView.qsSummary160MHZDescription.show(),o.device.getConfig().supportWanCableDetect&&o.ajax.request({proxy:"qsWanCableDetectProxy",success:function(e){"mismatch"==e.match_status&&s.qsSummaryView.qsSummaryWanCableNote.show()}}),o.device.getConfig().supportDualNatDetect&&o.ajax.request({proxy:"qsDualNatDetectProxy",success:function(e){"1"==e.wan_dual_nat&&(t.dualNatDetected=!0,s.qsSummaryView.qsSummaryDualNatNote.show())}}),o.device.getIsTriband()?(s.qsSummaryView.qsWireless5g2Cont.show(),n.quickSetupModel.wireless5gEnable.setLabelField(y.su.CHAR.WIRELESS_SETTINGS.MODE_5G1)):s.qsSummaryView.qsWireless5g2Cont.hide(),o.device.getConfig().supportWifi6E?s.qsSummaryView.qsWireless6gCont.show():s.qsSummaryView.qsWireless6gCont.hide(),a||u)n.qsSummaryModel.connectionType.hide(),"wired"===l?(q.setTitle(g),f.setText(k)):(q.setTitle(g),f.setText(S));else switch(n.qsSummaryModel.connectionType.show(),d){case"noUpgrade":"wired"===l?(q.setTitle(c),f.setText(m)):(q.setTitle(c),f.setText(w));break;case"upgradeFailed":"wired"===l?(q.setTitle(g),f.setText(m)):(q.setTitle(g),f.setText(w));break;case"upgradeSucceed":q.setTitle(c),f.setText(_)}n.regionModel.regionSelectEnable.getValue()&&n.qsSummaryModel.country.show(),t.setQsSummary(),t.toggleIptvView(r),this.showPassword()}},init:function(e,t,s,n,i,a){this.control({"#summary-next-btn":{ev_button_click:function(){t.qsSummaryView.qsSummaryNextBtn.loading(),y.when(e.checkRouterConnection()).done(function(){t.qsSummaryView.qsSummaryNextBtn.loading(!1),e.dualNatDetected||i.quickSetupRouter.disableStep("qsDualNatDetect"),(i.quickSetupRouter.cloudBindFlag||i.quickSetupRouter.skipFlag||i.quickSetupRouter.noInternet)&&i.quickSetupRouter.disableStep("qsCloudAndTether"),e.trigger("ev_qs_next")}).fail(function(){t.qsSummaryView.summaryPanel.hideTitle(),t.qsSummaryView.qsSummaryDescription.setText(y.su.CHAR.QUICK_SETUP.DESCRIPT6),t.qsSummaryView.qsSummaryNextBtn.loading(!1)})}}})}},function(e,s,o,r,t,p){var l={Internet:y.su.CHAR.NETWORK_IPTV.INTERNET,IPTV:y.su.CHAR.NETWORK_IPTV.IPTV,"IP-Phone":y.su.CHAR.NETWORK_IPTV.VOLP,Bridge:y.su.CHAR.NETWORK_IPTV.BRIDGE};return{dualNatDetected:!1,toggleIptvView:function(e){"off"===e.ispSpecialEnable||t.quickSetupRouter.skipFlag?s.qsSummaryView.iptvFieldset.hide():s.qsSummaryView.iptvFieldset.show()},setQsSummary:function(){var e=o.iptvVlan.portSettings.getValue();if(e&&e.length)for(var t=r.lanPortStore.getSize(),s=0;s<t;s++){var n=r.lanPortStore.getModelByIndex(s),i=n.getData(),a=p.device.getPortName(i.name);n.type.setLabelField(a),n.type.setValue(l[i.type])}},showPassword:function(){var e=o.quickSetupModel,t=s.qsSummaryView;t.wireless2gEncryPassword.setValue(e.wireless2gPskKey.getValue()||y.su.CHAR.WIFI_SHARING.NO_PASSWORD),t.wireless5gEncryPassword.setValue(e.wireless5gPskKey.getValue()||y.su.CHAR.WIFI_SHARING.NO_PASSWORD),p.device.getIsTriband()&&t.wireless5g2EncryPassword.setValue(e.wireless5g2PskKey.getValue()||y.su.CHAR.WIFI_SHARING.NO_PASSWORD),p.device.getConfig().supportWifi6E&&t.wireless6gEncryPassword.setValue(e.wireless6gPskKey.getValue()||y.su.CHAR.WIFI_SHARING.NO_PASSWORD)},checkRouterConnection:function(){var e=y.Deferred();return p.ajax.request({proxy:"checkRouterProxy",success:function(){e.resolve()},fail:function(){e.resolve()},error:function(){e.reject()}}),e.promise()}}})}(jQuery),jQuery.su.moduleManager.define("qsUXPlan",{models:["uxPlanModel"],views:["qsUXPlanView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){n.uxPlanModel.load()},ev_before_destroy:function(e,t,s,n,i,a,o){s.qsUXPlanView.qsUXPNextBtn.loading(!1)}},init:function(t,s,n,e,i,a){this.control({"#uxp-next-btn":{ev_button_click:function(e){s.qsUXPlanView.qsUXPNextBtn.loading(!0),n.uxPlanModel.isDirty()?n.uxPlanModel.submit({success:t.goNext,fail:t.goNext,error:t.goNext}):t.goNext()}}})}},function(e,t,s,n,i,a){return{goNext:function(){e.trigger("ev_qs_next")}}}),function(u){u.su.moduleManager.define("qsWirelessSetting",{deps:["quickSetupRouter","main"],services:["device"],models:["quickSetupModel"],views:["qsWirelessSettingView"],listeners:{ev_on_launch:function(e,t,s,n,i,a,o){t.smartEnable="on",n.quickSetupModel.wirelessSmartEnable.setValue(t.smartEnable),t.handleSmartEnable(t.smartEnable),t.supportWifi6E?(s.qsWirelessSettingView.qsWireless6g.show(),n.quickSetupModel.wirelessSmartEnable.setToolTip(u.su.CHAR.WIRELESS_SETTINGS.SMART_CONN_NOTE_6G)):s.qsWirelessSettingView.qsWireless6g.hide(),o.device.getConfig().support160MEnable&&("FCC"==(n=o.device.getConfig().certification)?(s.qsWirelessSettingView.qs5gBw160.show(),t.isTriband?s.qsWirelessSettingView.qs5gBw160Note.hide():s.qsWirelessSettingView.qs5gBw160Note.show()):"CE"==n&&(t.isTriband?(s.qsWirelessSettingView.qs5g1Bw160.show(),s.qsWirelessSettingView.qs5g2Bw160):(s.qsWirelessSettingView.qs5gBw160Note.setText(u.su.CHAR.WIRELESS_SETTINGS.ENABLE_160_MHZ_NOTE_QS_CE_5G),s.qsWirelessSettingView.qs5gBw160)).show())}},init:function(r,e,p,t,l,o){this.control({"#qs-wireless-before-step-btn":{ev_button_click:function(){r.trigger("ev_qs_back")}},"#qs-wireless-next-step-btn":{ev_button_click:function(){var e=["wireless2gSsid","wireless2gPskKey"];"off"===p.quickSetupModel.wirelessSmartEnable.getValue()&&(e.push("wireless5gSsid","wireless5gPskKey"),r.isTriband&&e.push("wireless5g2Ssid","wireless5g2PskKey")),r.supportWifi6E&&e.push("wireless6gSsid","wireless6gPskKey");for(var t,s,n,i,a=0,o=e.length;a<o;a++)if(!p.quickSetupModel[e[a]].validate())return;r.syncQsWirelessData(),l.quickSetupRouter.skipFlag?r.goNext():(t="on"==p.quickSetupModel.wireless2gEnable.getValue(),s="on"==p.quickSetupModel.wireless5gEnable.getValue(),r.isTriband?n="on"==p.quickSetupModel.wireless5g2Enable.getValue():r.supportWifi6E&&(i="on"==p.quickSetupModel.wireless6gEnable.getValue()),t||s||r.isTriband&&n||r.supportWifi6E&&i?t||s||r.isTriband&&n||!r.supportWifi6E||!i?r.goNext():l.main.confirm(u.su.CHAR.WIRELESS_SETTINGS.WLAN_ONLY_6G_NOTE,r.goNext,null,u.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY):l.main.confirm(u.su.CHAR.WIRELESS_SETTINGS.WLAN_ONT_ON_NOTE,r.goNext,null,u.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY))}}}),this.listen({"models.quickSetupModel.wirelessSmartEnable":{ev_value_change:function(e,t){r.handleSmartEnable(t)}},"models.quickSetupModel.wireless2gEnable":{ev_value_change:function(e,t){p.quickSetupModel.wirelessSeparately.getValue()||(p.quickSetupModel.wireless5gEnable.setValue(t),r.isTriband&&p.quickSetupModel.wireless5g2Enable.setValue(t),r.supportWifi6E&&"on"!==p.quickSetupModel.wirelessSmartEnable.getValue()&&p.quickSetupModel.wireless6gEnable.setValue(t))}},"models.quickSetupModel.wireless2gSsid":{ev_value_change:function(e,t){var s,n=p.quickSetupModel.wirelessSeparately.getValue();""===t||n||(s=n="",r.isTriband?(n="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",p.quickSetupModel.wireless5gSsid.setValue(t.slice(0,32-n.length)+n),r.visualDisable5g2(),s="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",p.quickSetupModel.wireless5g2Ssid.setValue(t.slice(0,32-s.length)+s)):p.quickSetupModel.wireless5gSsid.setValue(t.slice(0,32-(n="_5G").length)+n),r.supportWifi6E&&"on"!==p.quickSetupModel.wirelessSmartEnable.getValue()&&p.quickSetupModel.wireless6gSsid.setValue(t.slice(0,29)+"_6G"))}},"models.quickSetupModel.wireless2gEncryption":{ev_value_change:function(e,t){"psk_sae"==t?p.quickSetupModel.wireless2gPskKey.setVtype("wpa3_password"):p.quickSetupModel.wireless2gPskKey.setVtype("psk_password")}},"models.quickSetupModel.wireless2gPskKey":{ev_value_change:function(e,t){var s=p.quickSetupModel.wirelessSeparately.getValue();""===t||s||(p.quickSetupModel.wireless5gPskKey.setValue(t),r.isTriband&&p.quickSetupModel.wireless5g2PskKey.setValue(t),r.supportWifi6E&&"on"!==p.quickSetupModel.wirelessSmartEnable.getValue()&&p.quickSetupModel.wireless6gPskKey.setValue(t))}},"models.quickSetupModel.wireless5gEncryption":{ev_value_change:function(e,t){"psk_sae"==t?p.quickSetupModel.wireless5gPskKey.setVtype("wpa3_password"):p.quickSetupModel.wireless5gPskKey.setVtype("psk_password")}},"models.quickSetupModel.wireless5g2Encryption":{ev_value_change:function(e,t){"psk_sae"==t?p.quickSetupModel.wireless5g2PskKey.setVtype("wpa3_password"):p.quickSetupModel.wireless5g2PskKey.setVtype("psk_password")}},"models.quickSetupModel.wirelessSeparately":{ev_value_change:function(e,t){var s,n,i,a;t?(r.visualEnable5g(),r.isTriband&&r.visualEnable5g2(),r.supportWifi6E&&"off"==p.quickSetupModel.wirelessSmartEnable.getValue()&&r.visualEnable6g()):(r.visualDisable5g(),t=p.quickSetupModel.wireless2gEnable.getValue(),s=p.quickSetupModel.wireless2gSsid.getValue(),n=p.quickSetupModel.wireless2gPskKey.getValue(),p.quickSetupModel.wireless5gEnable.setValue(t),p.quickSetupModel.wireless5gPskKey.setValue(n),a=i="",o.device.getIsTriband()?(i="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",p.quickSetupModel.wireless5gSsid.setValue(s.slice(0,32-i.length)+i),r.visualDisable5g2(),p.quickSetupModel.wireless5g2Enable.setValue(t),a="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",p.quickSetupModel.wireless5g2Ssid.setValue(s.slice(0,32-a.length)+a),p.quickSetupModel.wireless5g2PskKey.setValue(n)):p.quickSetupModel.wireless5gSsid.setValue(s.slice(0,32-(i="_5G").length)+i),r.supportWifi6E&&(r.visualDisable6g(),p.quickSetupModel.wireless6gEnable.setValue(t),p.quickSetupModel.wireless6gPskKey.setValue(n)))}}})}},function(a,o,r,e,t,s){a=this;return{isTriband:s.device.getIsTriband(),supportWifi6E:s.device.getConfig().supportWifi6E,goNext:function(){a.trigger("ev_qs_next")},has5g1:function(){return!0},has5g2:function(){return!0},has6g:function(){return!0},handleSmartEnable:function(e){"on"==e?a.smartEnableOn():a.smartEnableOff()},smartEnableOn:function(){o.qsWirelessSettingView.qsWireless5g.hide(),r.quickSetupModel.wirelessSeparately.hide(),r.quickSetupModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO),a.supportWifi6E&&(a.visualEnable6g(),a.isTriband?r.quickSetupModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G1_5G2):r.quickSetupModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G))},smartEnableOff:function(){r.quickSetupModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_2G),o.qsWirelessSettingView.qsWireless5g.show(),r.quickSetupModel.wirelessSeparately.show();var e,t=r.quickSetupModel.wireless2gEnable.getValue(),s=r.quickSetupModel.wireless2gSsid.getValue(),n=r.quickSetupModel.wireless2gPskKey.getValue(),i=(r.quickSetupModel.wireless5gEnable.setValue(t),r.quickSetupModel.wireless5gPskKey.setValue(n),r.quickSetupModel.wirelessSeparately.getValue()||a.visualDisable5g(),"");a.isTriband?(i="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",r.quickSetupModel.wireless5gSsid.setValue(s.slice(0,32-i.length)+i),e="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",r.quickSetupModel.wireless5g2Ssid.setValue(s.slice(0,32-e.length)+e),r.quickSetupModel.wireless5gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_5G1),o.qsWirelessSettingView.qsWireless5g2.show(),r.quickSetupModel.wireless5g2Enable.setValue(t),r.quickSetupModel.wireless5g2PskKey.setValue(n),r.quickSetupModel.wirelessSeparately.getValue()||a.visualDisable5g2()):(r.quickSetupModel.wireless5gSsid.setValue(s.slice(0,32-(i="_5G").length)+i),o.qsWirelessSettingView.qsWireless5g2.hide(),r.quickSetupModel.wireless5gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_5G)),a.supportWifi6E?r.quickSetupModel.wirelessSeparately.getValue()||(r.quickSetupModel.wireless6gEnable.setValue(t),r.quickSetupModel.wireless6gSsid.setValue(s.slice(0,29)+"_6G"),r.quickSetupModel.wireless6gPskKey.setValue(n),a.visualDisable6g()):o.qsWirelessSettingView.qsWireless6g.hide()},visualDisable5g:function(){o.qsWirelessSettingView.qsWireless5g1.disable()},visualEnable5g:function(){o.qsWirelessSettingView.qsWireless5g1.enable()},visualDisable5g2:function(){o.qsWirelessSettingView.qsWireless5g2.disable()},visualEnable5g2:function(){o.qsWirelessSettingView.qsWireless5g2.enable()},visualDisable6g:function(){o.qsWirelessSettingView.qsWireless6g.disable()},visualEnable6g:function(){o.qsWirelessSettingView.qsWireless6g.enable()},syncQsWirelessData:function(){var e=a.syncQsWireless2gData(),t=a.syncQsWireless5gData(),s=a.syncQsWireless5g2Data(),n=a.syncQsWireless6gData(),e=u.extend({},e,t,s,n);r.quickSetupModel.replaceData(e)},syncQsWireless2gData:function(){var e=r.quickSetupModel.getData().wireless2gEnable,t=a.syncPskConfig("2g"),e={wireless2gDisabledAll:"on"==e?"off":"on",wireless2gEncryption:t.encryption,wireless2gPskVersion:t.version,wireless2gPskCipher:t.cipher};return r.quickSetupModel.replaceData(e),e},syncQsWireless5gData:function(){var e=r.quickSetupModel.getData(),t=e.wirelessSmartEnable,s=e.wireless5gEnable,n={wireless5gRegionEnable:"on"};return"on"==t?(n.wireless5gEnable=e.wireless2gEnable,n.wireless5gDisabledAll=e.wireless2gDisabledAll,n.wireless5gSsid=e.wireless2gSsid,n.wireless5gPskKey=e.wireless2gPskKey,n.wireless5gEncryption=e.wireless2gEncryption,n.wireless5gPskVersion=e.wireless2gPskVersion,n.wireless5gPskCipher=e.wireless2gPskCipher):(t=a.syncPskConfig("5g"),n.wireless5gEncryption=t.encryption,n.wireless5gPskVersion=t.version,n.wireless5gPskCipher=t.cipher,n.wireless5gDisabledAll="on"==s?"off":"on"),n},syncQsWireless5g2Data:function(){var e,t,s,n;return a.isTriband?(n=(e=r.quickSetupModel.getData()).wirelessSmartEnable,t=e.wireless5g2Enable,s={wireless5gRegionEnable:"on"},"on"==n?(s.wireless5g2Enable=e.wireless2gEnable,s.wireless5g2DisabledAll=e.wireless2gDisabledAll,s.wireless5g2Ssid=e.wireless2gSsid,s.wireless5g2PskKey=e.wireless2gPskKey,s.wireless5g2Encryption=e.wireless2gEncryption,s.wireless5g2PskVersion=e.wireless2gPskVersion,s.wireless5g2PskCipher=e.wireless2gPskCipher):(n=a.syncPskConfig("5g2"),s.wireless5g2Encryption=n.encryption,s.wireless5g2PskVersion=n.version,s.wireless5g2PskCipher=n.cipher,s.wireless5g2DisabledAll="on"==t?"off":"on"),s):{}},syncQsWireless6gData:function(){var e,t;return a.supportWifi6E?(e=r.quickSetupModel.getData().wireless6gEnable,(t={wireless6gRegionEnable:"on"}).wireless6gDisabledAll="on"==e?"off":"on",t.wireless6gEncryption="psk_sae",t.wireless6gPskVersion="sae_only",t.wireless6gPskCipher="aes",t):{}},syncPskConfig:function(e){var t={},s=r.quickSetupModel.getData(),n="wireless2gEncryption".replace("2g",e),i="wireless2gPskVersion".replace("2g",e),a="wireless2gPskCipher".replace("2g",e);switch(s[n]){case"psk":case"psk_sae":t.encryption=s[n],t.version=s[i],t.cipher=s[a];break;default:t.encryption="psk",t.version="rsn",t.cipher="aes"}return t}}})}(jQuery);