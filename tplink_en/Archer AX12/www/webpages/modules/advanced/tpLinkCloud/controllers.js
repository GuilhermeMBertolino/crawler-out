!function(d){d.su.moduleManager.define("tpLinkCloud",{services:["moduleLoader","ajax","moduleManager"],views:["tpLinkCloudView"],listeners:{ev_on_launch:function(e,n,t,i,o,u,d){n.init()}},init:function(e,n,t,i,o,u){}},function(n,t,e,i,o,u){return{init:function(){t.tpLinkCloudView.tpLinkCloudNoteField.hide(),t.tpLinkCloudView.tpLinkCloudLoader.hide();var e=n.checkInternet();d.when(e).then(function(){n.setPanelInstruction(!0),u.moduleLoader.load({module:"tpLinkCloud"},{module:"cloudService"},t.tpLinkCloudView.tpLinkCloudLoader,function(){var e=u.moduleManager.get("cloudService");e.setMode("adv"),e.init()}),t.tpLinkCloudView.tpLinkCloudLoader.show()}).fail(function(){n.setPanelInstruction(),t.tpLinkCloudView.tpLinkCloudNoteField.show()})},checkInternet:function(){var e=d.Deferred();return u.ajax.request({proxy:"checkInternetProxy",success:function(){e.resolve()},fail:function(){e.reject()},error:function(){e.reject()}}),e},setPanelInstruction:function(e){e?(e=d.su.userInfo.token?d.su.CHAR.TP_LINK_CLOUD.EDIT_ACCOUNT_INSTRUCTION:d.su.CHAR.TP_LINK_CLOUD.INSTRUCTION,t.tpLinkCloudView.tpLinkCloudMainPanel.setInstruction(e)):t.tpLinkCloudView.tpLinkCloudMainPanel.setInstruction("")}}})}(jQuery);