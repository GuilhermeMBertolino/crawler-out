<style type="text/css">
#quicksetup-wrapper {
    background-color: #ffffff;
    padding-bottom: 42px;
    width: 1000px;
    margin: 0 auto;
    box-sizing: border-box;
    min-height: 100%;
}

#base-inner {
    width: 1000px;
    margin-left: 0;
}

#quicksetup {
    text-align: center;
    background: #fff;
    /* url("../img/mark_copy.gif");*/
    box-sizing: border-box;
    padding: 20px 0 50px;
}

div.quicksetup-wrap {
    width: 100%;
}

div.process-flow-step {
    height: 24px;
    width: 24px;
    display: inline-block;
}
 
div.process-flow-step span.icon {
    height: 24px;
    width: 24px;
    background: url(../img/icons.png) no-repeat -366px -68px;
    display: inline-block;
    position: relative;
    color: #B3B3B3;
}

div.process-flow-step.current span.icon {
    background-position: -340px -68px;
}

div.process-flow-step.processed span.icon {
    background-position: -158px -68px;
}

div.process-flow-step.end.current span.icon {
    background-position: -2px -68px;
}

div.process-flow-bar {
    height: 3px;
    /*width: 167px;*/
    width: 128px;
    margin-left: -12px;
    margin-right: -8px;
    margin-bottom: 2px;
    background-color: #C9CACB;
    display: inline-block;
    text-align: left;
}
#process-flow-container.short div.process-flow-bar {
    width: 115px;
}
div.process-flow-bar span.bar-inner {
    height: 100%;
    width: 0;
    display: inline-block;
}

div.process-flow-bar.processed span.bar-inner {
    background-color: #4acbd6;
}

div.process-flow-step span.text {
    font-size: 12px;
    position: absolute;
    white-space: nowrap;
    width: 160px;
    text-align: center;
    margin-left: -80px;
    color: #B2B2B2;
}

div.process-flow-step.current span.text,
div.process-flow-step.processed span.text {
    color: #4acbd6;
}

div.content-box {
    width: 100%;
}

div.quicksetup-process-content {
    text-align: left;
    margin-top: 70px;
    min-width: 500px;
}

div.process-flow-step span.text.up {
    margin-top: -20px;
}

div.process-flow-step span.text.down {
    margin-top: 32px;
}

div.quicksetup-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #8c8c8c;
    opacity: 0.3;
    z-index: 998;
    display: none;
}

div.quicksetup-loading {
    position: absolute;
    width: 100px;
    height: 100px;
    background: url(../img/waiting.gif) no-repeat;
    border-radius: 5px;
    z-index: 1000;
    display: none;
}

span.region-note {
    color: #c11c66;
}

div.quicksetup-newUserMsgBox {
    width: 520px;
    height: 296px;
    position: absolute;
    background-color: #fff;
    border-radius: 5px;
    text-align: center;
    z-index: 999;
    display: none;
}

div.quicksetup-userBoxClosetag {
    background: url(../img/icons.png) no-repeat -302px -22px;
    width: 18px;
    height: 18px;
    cursor: pointer;
    margin: 10px 10px;
    float: right;
    display: block;
}

div.quicksetup-userBoxClosetag:hover {
    opacity: 0.8;
}

p.newUserTip {
    color: #4acbd6;
    font-size: 18px;
    font-weight: 400;
}

div.quicksetup-userContainer {
    text-align: left;
    padding-top: 30px;
    padding-left: 90px;
}

div.quicksetup-userConfirm {
    width: 401px;
    height: 35px;
    text-align: right;
    padding-top: 25px;
}

div.quicksetup-userConfirm span.quicksetup-cfmBtn {
    width: 90px;
    height: 35px;
    line-height: 35px;
    font-size: 12px;
    text-align: center;
    margin-right: 30px;
    border-radius: 3px;
    cursor: pointer;
    color: #fff;
    background-color: #4acbd6;
    display: inline-block;
}

div.quicksetup-autoDetectBox {
    width: 120px;
    height: 109px;
    border-radius: 5px;
    position: absolute;
    background-color: #fff;
    z-index: 999;
    display: none;
}

div.quicksetup-button-container {
    margin-top: 30px;
    margin-right: 144px;
}

div.quicksetup-button-container span.quicksetup-button {
    width: 90px;
    height: 35px;
    line-height: 35px;
    font-size: 12px;
    text-align: center;
    border-radius: 3px;
    cursor: pointer;
    color: #fff;
    background-color: #4acbd6;
    display: inline-block;
}

#quicksetup-icon-diag-seccessed {
    width: 53px;
    height: 53px;
    background: url('../img/icons.png') no-repeat scroll -272px -345px transparent;
    display: inline-block;
}
#quicksetup-icon-diag-failed {
    width: 53px;
    height: 53px;
    background: url('../img/icons.png') no-repeat scroll -338px -409px transparent;
    display: inline-block;
}

div.diag-loading {
    position: absolute;
    z-index: 999;
    display: none;
    text-align: center;
    width: 560px;
    height: 91px;
}

span.diag-loading-icon {
    width: 41px;
    height: 41px;
    border-radius: 5px;
    background: url('../img/waiting.gif') no-repeat;
    display: block;
    margin-left: 245px;
}

div.quicksetup-container {
    margin: 0 auto;
}

div.pure-control-group.group-spec {
    height: 24px;
    line-height: 24px;
}

div.pure-control-group.group-spec > input.tp-input-text {
    padding: 0;
}
div.quicksetup-noSim {
	width: 980px;
	margin: 0 auto;
	text-align: center;
    min-height: 800px;
	background: #fff;
	display:none;
}
div.quicksetup-simLock {
	width: 980px;
	margin: 0 auto;
	text-align: center;
    min-height: 800px;
	background: #fff;
	display:none;
}
div.quicksetup-pinLock {
	width: 980px;
	margin: 0 auto;
	text-align: center;
    min-height: 800px;
	background: #fff;
	display:none;
}
div.quicksetup-simBlock {
	width: 980px;
	margin: 0 auto;
	text-align: center;
    min-height: 800px;
	background: #fff;
	display:none;
}
div.quicksetup-icon-sim {
	margin-top: 144px;
	margin-left: 456px;
    width: 70px;
    height: 100px;
    background: url(../img/icons-04.png) no-repeat -302px -08px;
}
</style>
<script type="text/javascript" language="javascript">
var currIndex = 0;
var oldUsrCfg = "";
var green = '#4acbd6';
var greenHover = '#23c4c4';
var flowSteps;
if(INCLUDE_USB_3G_DONGLE)
{	
	if($.sysMode == "USB_3G" || $.sysMode == "ETH")
		flowSteps=[
		{
			text: n_str["quicksetup"].c_regionTZ,
			file: "qsRegion.htm",
			__enable: !INCLUDE_GERMANY_SPEC
		}, {
			text: n_str["quicksetup"].t_sysMode,
			file: "qsSysMode.htm",
			__enable: true
		}, {
			text: n_str["quicksetup"].t_wlSet,
			file: "qsWl.htm",
			__enable: true
		}, {
			text: n_str["quicksetup"].t_summary,
			file: "qsSum.htm",
			__enable: true
		}, {
			text: n_str["quicksetup"].t_connTest,
			file: "qsDiag.htm",
			__enable: true
		}, {
			text: n_str["quicksetup"].t_voipSetup,
			file: "qsVoIP.htm",
			__enable: INCLUDE_VOIP
		}, {
			text: n_str["quicksetup"].t_cloudSetup,
			file: "qsCloud.htm",
			__enable: INCLUDE_CLOUD_ACCOUNT
		}
		];
	else if($.sysMode == "WISP")
		flowSteps=[
		{
			text: n_str["quicksetup"].c_regionTZ,
			file: "qsRegion.htm",
			__enable: !INCLUDE_GERMANY_SPEC
		},
		{
			text: n_str["quicksetup"].t_inetSetup,
			file: "qsWlClient.htm",
			__enable: true
		},/* {
			text: n_str["quicksetup"].t_sysMode,
			file: "qsSysMode.htm",
			__enable: true
		}, */{
			text: n_str["quicksetup"].t_wlSet,
			file: "qsWl.htm",
			__enable: true
		}, {
			text: n_str["quicksetup"].t_summary,
			file: "qsSum.htm",
			__enable: true
		}, {
			text: n_str["quicksetup"].t_connTest,
			file: "qsDiag.htm",
			__enable: false
		}, {
			text: n_str["quicksetup"].t_voipSetup,
			file: "qsVoIP.htm",
			__enable: INCLUDE_VOIP
		}, {
			text: n_str["quicksetup"].t_cloudSetup,
			file: "qsCloud.htm",
			__enable: INCLUDE_CLOUD_ACCOUNT
		}
		];
	else if($.sysMode == "AP" && $.apModeType == '0') /*ap*/
		flowSteps=[
		{
			text: n_str["quicksetup"].c_regionTZ,
			file: "qsRegion.htm",
			__enable: !INCLUDE_GERMANY_SPEC
		},{
			text: n_str["quicksetup"].t_sysMode,
			file: "qsApMode.htm",
			__enable: true
		},	/*{
			text: n_str["quicksetup"].t_hostNetwork,
			file: "qsWlClient.htm",
			__enable: true
		},	*/{
			text: n_str["quicksetup"].t_wlSet,
			file: "qsWl.htm",
			__enable: true
		}, {
			text: n_str["quicksetup"].t_summary,
			file: "qsSum.htm",
			__enable: true
		}, {
			text: n_str["quicksetup"].t_connTest,
			file: "qsDiag.htm",
			__enable: false
		}, {
			text: n_str["quicksetup"].t_voipSetup,
			file: "qsVoIP.htm",
			__enable: INCLUDE_VOIP
		}, {
			text: n_str["quicksetup"].t_cloudSetup,
			file: "qsCloud.htm",
			__enable: INCLUDE_CLOUD_ACCOUNT
		}
		];
	else if($.sysMode == "AP" && $.apModeType == '3') /*re*/
		flowSteps=[
		{
			text: n_str["quicksetup"].c_regionTZ,
			file: "qsRegion.htm",
			__enable: !INCLUDE_GERMANY_SPEC
		}, {
			text: n_str["quicksetup"].t_sysMode,
			file: "qsApMode.htm",
			__enable: true
		},
		{
			text: n_str["quicksetup"].t_wlSet,
			file: "qsWlClient.htm",
			__enable: true
		},	/*{
			text: n_str["quicksetup"].t_wlSet,
			file: "qsWl.htm",
			__enable: true
		}, */{
			text: n_str["quicksetup"].t_summary,
			file: "qsSum.htm",
			__enable: true
		}, {
			text: n_str["quicksetup"].t_connTest,
			file: "qsDiag.htm",
			__enable: false
		}, {
			text: n_str["quicksetup"].t_voipSetup,
			file: "qsVoIP.htm",
			__enable: INCLUDE_VOIP
		}, {
			text: n_str["quicksetup"].t_cloudSetup,
			file: "qsCloud.htm",
			__enable: INCLUDE_CLOUD_ACCOUNT
		}
		];
		
}else if(INCLUDE_LTEWAN){
	flowSteps=[
	{	text: n_str["quicksetup"].t_lteSet,
		file: "qsLte.htm",
 		__enable: true
	}, {
		text: n_str["quicksetup"].t_wlSet,
		file: "qsWl.htm",
		__enable: true
	}, {
		text: n_str["quicksetup"].t_connTest,
		file: "qsDiag.htm",
		__enable: true
	}, {
		text: n_str["quicksetup"].t_summary,
		file: "qsEnd.htm",
		__enable: true
	}, {
		text: n_str["quicksetup"].t_voipSetup,
		file: "qsVoIP.htm",
		__enable: INCLUDE_VOIP
	}, {
		text: n_str["quicksetup"].t_cloudSetup,
		file: "qsCloud.htm",
		__enable: INCLUDE_CLOUD_ACCOUNT
	}
	];
}else
{
	flowSteps = [
	{
		text: n_str["quicksetup"].c_regionTZ,
		file: "qsRegion.htm",
		__enable: !INCLUDE_GERMANY_SPEC
	}, {
		text: n_str["quicksetup"].t_selIsp,
		file: "qsIsp.htm",
		__enable: true
	}, {
		text: n_str["quicksetup"].t_inetSetup,
		file: "qsDsl.htm",
		__enable: true
	}, {
		text: n_str["quicksetup"].t_wlSet,
		file: "qsWl.htm",
		__enable: true
	}, {
		text: n_str["quicksetup"].t_connTest,
		file: "qsDiag.htm",
		__enable: true
	}, {
		text: n_str["quicksetup"].t_summary,
		file: "qsEnd.htm",
		__enable: true
	}, {
		text: n_str["quicksetup"].t_voipSetup,
		file: "qsVoIP.htm",
		__enable: INCLUDE_VOIP
	}, {
		text: n_str["quicksetup"].t_cloudSetup,
		file: "qsCloud.htm",
		__enable: INCLUDE_CLOUD_ACCOUNT
	}
	];
}


if (INCLUDE_CLOUD && INCLUDE_VOIP && !INCLUDE_GERMANY_SPEC) {
    //process-flow is too long
    $('#process-flow-container').addClass('short');
}


/**
 * 生成步骤条
 */
function genFlowContainer() {
    var flowStepHtml = "";
    var upDown = "down";
    var flowContainer = $("#process-flow-container");
    var qsConWidth = $("#quicksetup").width();
    var qsWrap = $("#quicksetup-wrap");
    if (flowSteps.length == 0)
        return;
    qsWrap.css("margin-left", (qsConWidth - qsWrap.width()) / 2 + "px");
    for (var i = 0; i < flowSteps.length; i++) {
        if (flowSteps[i].__enable == true) {
            if ((i & 1) == 0)
                upDown = "down";
            else
                upDown = "up";
            flowStepHtml += "<div class='process-flow-step'><span class='icon'><span class='text " + upDown + "'>" + flowSteps[i].text + "</span></span></div>";
            if (i < flowSteps.length - 1)
                flowStepHtml += "<div class='process-flow-bar'><span class='bar-inner'></span></div>";
        }
    }
    flowContainer.append(flowStepHtml);
    flowContainer.children(':last.process-flow-bar').remove();  
    flowContainer.css("padding-left", (qsWrap.width() - flowContainer.width()) / 2 + "px");
    $("div.process-flow-step").first().addClass("current");
    $("div.process-flow-step").last().addClass("end");

}

/**
 * 在快速设置中加载子页面 
 */
function loadSubPage(path) {
    var id = "quicksetup-process-content";
    $.loadPage(
        id,
        path,
        function() {
            $("#" + id).css("display", "none");
            $.unlock();
        },
        function() {
            $("#" + id).fadeIn(200);
            var subCon = $("#quicksetup-process-content").children().first();
            var conWidth = $("#quicksetup-wrap").width();
            subCon.css("width", "700px");
            subCon.css("margin-left", "0px");
            subCon.css("margin-left", "190px");
            $("span.quicksetup-button").hover(
                function() {
                            $(this).css("background-color", greenHover);
                },
                function() {
                            $(this).css("background-color", green);
                }
            );
        }
    );
}

/**
 * 点击完成按钮，在其它子页面被行内调用 
 */
function doFinish() {
    $("#qs").removeClass("click");
    $("#basic").addClass("click");
    $("#menu").load("./frame/menu.htm");
}

/**
 * 点击退出按钮，在其它子页面被行内调用 
 */
function doExit() {
    $("#qs").removeClass("click");
    $("#basic").addClass("click");
    $("#menu").load("./frame/menu.htm");
}

/**
 * 显示快速设置专属遮罩 
 */
function qsShowOverlay() {
    var overLay = $(".quicksetup-overlay").length == 0 ? $("<div class=\"quicksetup-overlay\"></div>").appendTo($("body")) : $(".quicksetup-overlay");
    overLay.fadeIn(200, function() {
        $(this).css("display", "block");
        $.opacity(overLay[0], 0.3);
    });
}
/**
 * 隐藏快速设置专属遮罩 
 */
function qsHideOverlay() {
    var overLay = $(".quicksetup-overlay").length == 0 ? $("<div class=\"quicksetup-overlay\"></div>").appendTo($("body")) : $(".quicksetup-overlay");
    overLay.fadeOut(200, function() {
        $(this).css("display", "none");
    });
}
/**
 * 显示快速设置专属菊花 
 */
function qsAddLoading() {
    qsShowOverlay();
    $.setCentralPosition($(".quicksetup-loading"));
    $(".quicksetup-loading").css("display", "block");
}
/**
 * 隐藏快速设置专属菊花  
 */
function qsRemoveLoading() {
    $(".quicksetup-loading").css("display", "none");
    qsHideOverlay();
}

$.qf = {
    /**
     * 步骤走向下一格，加载下一个页面 
     */
    next: function() {
        var currentStep = $("div.process-flow-step.current");
        var nextBar = currentStep.next("div.process-flow-bar");
        var nextBarInner = nextBar.children("span.bar-inner");
        var nextStep = nextBar.next("div.process-flow-step");

        flowSteps[currIndex].__v = true;
		currIndex++;
        
        while (currIndex < flowSteps.length) {
            if (flowSteps[currIndex].__enable == true)
                break;
            currIndex++;
        }
        if (currIndex >= flowSteps.length) {
            $.alert("No more next page, sth wrong?");
            return;
        }
        currentStep.removeClass("current").addClass("processed");
        nextBarInner.width(0);
        nextBar.addClass("processed");
        nextBarInner.animate({
            width: "+100%"
        }, 200, function() {
            nextBarInner.css("width", "100%");
            nextStep.addClass("current");
            loadSubPage(flowSteps[currIndex].file);
        });
    },
    /**
     * 步骤走向上一格，加载上一个页面 
     */
    prev: function() {
        var currentStep = $("div.process-flow-step.current");
        var prevBar = currentStep.prev("div.process-flow-bar");
        var prevBarInner = prevBar.children("span.bar-inner");
        var prevStep = prevBar.prev("div.process-flow-step");

        flowSteps[currIndex].__v = true;
        currIndex--;
        while (currIndex >= 0) {
            if (flowSteps[currIndex].__enable == true)
                break;
            currIndex--;
        }
        if (currIndex < 0) {
            $.alert("No previous page, sth wrong?");
            return;
        }
        currentStep.removeClass("current processed");
        prevBarInner.css("width", "100%");
        prevBar.addClass("processed");
        prevBarInner.animate({
            width: "-=100%"
        }, 200, function() {
            prevBar.removeClass("processed");
            prevStep.removeClass("processed").addClass("current");
            currentStep.removeClass("current processed");
            loadSubPage(flowSteps[currIndex].file);
        });
    },
    reload: function() {
        loadSubPage(flowSteps[currIndex].file);
    },
    load: function(file) {
        var count = 0;
        var countPF = 0;
        while (count < flowSteps.length) {
            if (flowSteps[count].file == file) {
                if (flowSteps[count].__enable) {
                    break;
                } else {
                    return;
                }
            }
            if (flowSteps[count].__enable) {
                countPF++;
            }
            count++;
        }

        //not found
        if (count >= flowSteps.length) {
            return;
        }
        currIndex = count;
        var currentStep = $("div.process-flow-step.current").removeClass('current');
        currentStep.prevAll('div.process-flow-bar').removeClass('processed').find('span.bar-inner').css('width', '0');
        currentStep.prevAll('div.process-flow-step').removeClass('processed');
        var container = $('#process-flow-container');
        container.find('div.process-flow-bar:lt(' + countPF + ')').addClass('processed').find('span.bar-inner').css('width', '100%');
        container.find('div.process-flow-step:lt(' + countPF + ')').addClass('processed');
        container.find('div.process-flow-step:eq(' + countPF + ')').addClass('current');

        loadSubPage(flowSteps[currIndex].file);

    },
    exit: function() {
        $("#basic").click();
    }
};

//==================================================
//数据处理的公共函数  
//==================================================
function Base64Encoding(input) {
    var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
    var output = "";
    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
    var i = 0;
    input = utf8_encode(input);
    while (i < input.length) {
        chr1 = input.charCodeAt(i++);
        chr2 = input.charCodeAt(i++);
        chr3 = input.charCodeAt(i++);
        enc1 = chr1 >> 2;
        enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
        enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
        enc4 = chr3 & 63;

        if (isNaN(chr2)) {
            enc3 = enc4 = 64;
        } else if (isNaN(chr3)) {
            enc4 = 64;
        }
        output = output + keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);
    }
    return output;
}

function utf8_encode(string) {
    string = string.replace(/\r\n/g, "\n");
    var utftext = "";

    for (var n = 0; n < string.length; n++) {
        var c = string.charCodeAt(n);
        if (c < 128) {
            utftext += String.fromCharCode(c);
        } else if ((c > 127) && (c < 2048)) {
            utftext += String.fromCharCode((c >> 6) | 192);
            utftext += String.fromCharCode((c & 63) | 128);
        } else {
            utftext += String.fromCharCode((c >> 12) | 224);
            utftext += String.fromCharCode(((c >> 6) & 63) | 128);
            utftext += String.fromCharCode((c & 63) | 128);
        }
    }
    return utftext;
}

function showNoSimInfo() {
	//console.log("showNoSimInfo");
    $("div.quicksetup-container").addClass("nd");//fadeOut(200);
	$("div.quicksetup-noSim").fadeIn(200, function() {
		$(this).css("display", "block");
	});
}

function showSimLockInfo() {
    $("div.quicksetup-container").addClass("nd");//fadeOut(200);
	$("div.quicksetup-simLock").fadeIn(200, function() {
		$(this).css("display", "block");
	});
}

function showPinLockInfo() {
    $("div.quicksetup-container").addClass("nd");//fadeOut(200);
	$("div.quicksetup-pinLock").fadeIn(200, function() {
		$(this).css("display", "block");
	});
}

function showBlockInfo() {
    $("div.quicksetup-container").addClass("nd");//fadeOut(200);
	$("div.quicksetup-simBlock").fadeIn(200, function() {
		$(this).css("display", "block");
	});
}

function showErrorInfo() {
    $("div.quicksetup-container").addClass("nd");//fadeOut(200);
	$("div.quicksetup-error").fadeIn(200, function() {
		$(this).css("display", "block");
	});
}

function getSimStatus() {
    var pStk;
    var lteLinkCfg;
    var lteLinkCfgList = $.act(ACT_GL, WAN_LTE_LINK_CFG, null, null, ["simStatus"]);
    var wanTypes = $.act(ACT_GL, WAN_COMMON_INTF_CFG, null, null, ["WANAccessType"]);
    var flag = 0;

    if (!$.exe()) {
        $.each(wanTypes, function() {
            if (this.WANAccessType == "LTE")
                pStk = this.__stack;
        });
        $.each(lteLinkCfgList, function() {
            if (pStk == $.stkPop(this.__stack, 1)) {
                lteLinkCfg = this;
                flag = 1;
                return false;
            }
        });
		if(0 == flag)
			return -1;

		return lteLinkCfg.simStatus;
	}
	return -1;
}

$('span#t_jumpToPinMngBtn').click(function() {
   //$.jumpToPage("advanceLte.htm", "PINManagement.htm", "advanced");
   $.goToOtherPage('PINManagement.htm', 'advanced');
});

</script>
<div id="quicksetup-container" class="quicksetup-container">
    <div id="quicksetup-wrap" class="quicksetup-wrap">
        <div id="process-flow-container" class="part-separate"></div>
        <div id="quicksetup-process-content" class="quicksetup-process-content"></div>
    </div>
</div>
<div class="quicksetup-loading"></div>

<div class="quicksetup-newUserMsgBox">
    <div class="quicksetup-userBoxClosetag"></div>
    <div class="quicksetup-userContainer">
        <p class="newUserTip" id="t_newUserTip">Set up a new username and password</p>
        <form id="usrPwdForm" class="pure-form pure-form-aligned">
            <div>
                <label class='label-title' id="t_newUsrName">New Username:</label>
                <input type="text" id="usr" />
            </div>
            <div>
                <label class='label-title' id="t_newPwd">New Password:</label>
                <input type="password" id="newPwd" />
            </div>
            <div class="secLevel nd" id="qsLoginPwd" style="padding-left: 196px;">
                <span class="level1">Low</span>
                <span class="level2">Middle</span>
                <span class="level3">High</span>
            </div>
            <div>
                <label class='label-title' id="t_cfmPwd">Confirm New Password:</label>
                <input type="password" id="cfmPwd" />
            </div>
        </form>
        <div class="quicksetup-userConfirm">
            <span class="quicksetup-cfmBtn T_confirm">Confirm</span>
        </div>
    </div>
</div>

<div id="quicksetup-noSim" class="quicksetup-noSim nd">
	<div id="quicksetup-icon-sim" class="quicksetup-icon-sim"></div>
	<p><b>No SIM Card</b></p>
	<p><b>Please insert your SIM card.</b></p>
</div>
<div id="quicksetup-simLock" class="quicksetup-simLock nd">
	<div id="quicksetup-icon-sim" class="quicksetup-icon-sim"></div>
	<p><b>SIM Card locked</b></p>
	<p><b><span>Go to </span>
	<span class="inline" id="t_jumpToPinMngBtn" style="color:#10ABE1;border-bottom:#10ABE1 solid 1px;cursor:pointer;vertical-align:baseline">Advanced > Network > PIN Management</span>
	<span> to enter the PIN and unlock the SIM card.</span></b></p>
</div>
<div id="quicksetup-pinLock" class="quicksetup-pinLock nd">
	<div id="quicksetup-icon-sim" class="quicksetup-icon-sim"></div>
	<p><b>PIN locked</b></p>
	<p><b><span>Go to </span>
	<span class="inline" id="t_jumpToPinMngBtn" style="color:#10ABE1;border-bottom:#10ABE1 solid 1px;cursor:pointer;vertical-align:baseline">Advanced > Network > PIN Management</span>
	<span> to enter the PUK and unlock PIN.</span></b></p>
</div>
<div id="quicksetup-simBlock" class="quicksetup-simBlock nd">
	<div id="quicksetup-icon-sim" class="quicksetup-icon-sim"></div>
	<p><b>SIM card locked permanently</b></p>
	<p><b>Use another SIM card or contact your carrier.</b></p>
</div>
<script language="javascript" type="text/javascript">
(function() {
    genFlowContainer();
    $.qd = {};

    $.tpInit(function() {
        if (INCLUDE_WAN_MODE) {
            realSysMode = $.act(ACT_GET, SYS_MODE, null, null);
        }

 
        $.qd.wlanList = $.act(ACT_GL, LAN_WLAN, null, null, ["Enable", "SSID", "X_TP_Band", "X_TP_PreSharedKey", "beaconType", "WPAAuthenticationMode", "IEEE11iAuthenticationMode", "RegulatoryDomain", "Standard"]);

//        oldUsrCfg = $.act(ACT_GET, USER_CFG, null, null, ["AdminPwd"]);

        var timeObj = $.act(ACT_GET, TIME, null, null, ["LocalTimeZone"]);

        var localRegion = $.act(ACT_GET, LOCAL, null, null, ["Country"]);

        if (INCLUDE_GERMANY_SPEC) {

            if ($.isFD == 1) {
                $.act(ACT_SET, IGD_DEV_INFO, null, null, ["X_TP_IsFD=3"]);
                $.isFD = 3;
            }
        }

        if ($.exe())
            return;
        if (INCLUDE_WAN_MODE) {

            if (INCLUDE_ADSLWAN && realSysMode.mode != "DSL" || (INCLUDE_LTEWAN && realSysMode.mode != "LTE")) {
                var funcGoSysMode = function() {
                    $.goToOtherPage('sysMode.htm', 'advanced');
                };
                var funcCancle = function() {
                    $("#basic").click();
                };
                $.confirm(n_str["quicksetup"].t_sysModeNote, funcGoSysMode, funcCancle, 'Go');
            }
            if (realSysMode.mode == "DSL")
                $.qd.realMode = "DSL";
            else if (realSysMode.mode == "USB_3G")
                $.qd.realMode = "USB_3G";
            else if (realSysMode.mode == "LTE")
                $.qd.realMode = "LTE";
            else
                $.qd.realMode = "ETH";

            $.qd.sysMode = $.qd.realMode;
        }

        $.qd.dmRegion = localRegion.country + " ";
        $.qd.timezone = timeObj.localTimeZone;

        if (INCLUDE_GERMANY_SPEC) {
            var found = false;
            for (var i = 0; i < regionCodeInfo.length; i++) {
                if (regionCodeInfo[i][1] == $.qd.dmRegion) {
                    $.qd.country = regionCodeInfo[i][4];
                    found = true;
                    break;
                }
            }
            if (!found)
                $.qd.country = "Germany";
            $.qf.load(flowSteps[1].file);
        } else if (INCLUDE_CHGINIT_PWD) {
              if (INCLUDE_LTEWAN){
		var simStatus = getSimStatus();
		if(3 == simStatus || 5 == simStatus)
                    loadSubPage(flowSteps[0].file); 
		else if(4 == simStatus)
		    showSimLockInfo();
		else if(6 == simStatus)
		    showPinLockInfo();
		else if(7 == simStatus)
		    showBlockInfo();
		else
		    showNoSimInfo();
	      }else
	      {
	      	if (INCLUDE_USB_3G_DONGLE && $.isFD == 2)
				$.qf.load(flowSteps[4].file);
			else
              loadSubPage(flowSteps[0].file);
	      }
        } 
        $.qd.internetDiag = 0;
    });
})();
</script>
