(function(a){a.su.Widget("paging",{defaults:{numPerPage:8},create:function(g,c){var e=this;e.each(function(j,m){var h=a(m);a.extend(m,g,c);var k='<div class="container widget-container paging-container disabled">';k+='<div class="paging-wrap">';k+='<a href="javascript:void(0);" class="paging-btn pageing-btn-prev" data-index="prev">';k+='<span class="icon"></span>';k+='<span class="text">'+a.su.CHAR.OPERATION.PREV+"</span>";k+="</a>";k+='<div class="num-buttons-container">';k+="</div>";k+='<a href="javascript:void(0);" class="paging-btn pageing-btn-next" data-index="next">';k+='<span class="icon"></span>';k+='<span class="text">'+a.su.CHAR.OPERATION.NEXT+"</span>";k+="</a>";k+="</div>";k+="</div>";var l=a(k);l.append(h.addClass("hidden"));m.isPaging=true});var f=e.get(0),d=f.grid;d.on("ev_load ev_insert ev_remove",function(j){var i=e.get(0),h=i.currentPage;e.paging("updateBtns");e.paging("goToPage",h)});var b=e.closest("div.paging-container");b.delegate("a.paging-btn-num","click",function(j){j.stopPropagation();j.preventDefault();var h=a(this),i=parseInt(h.attr("data-index"),10);if(h.hasClass("disabled")){return}e.paging("goToPage",i)}).delegate("a.pageing-btn-prev","click",function(i){i.stopPropagation();i.preventDefault();var h=a(this);if(h.hasClass("disabled")){return}else{h.addClass("disabled");e.paging("goPrev")}}).delegate("a.pageing-btn-next","click",function(i){i.stopPropagation();i.preventDefault();var h=a(this);if(a(this).hasClass("disabled")){return}else{h.addClass("disabled");e.paging("goNext")}});return e},updateBtns:function(j){var j=j||this,d=j.closest("div.paging-container"),l=d.find("div.num-buttons-container"),e=j.get(0),k=e.numPerPage,g=e.currentPage,c=e.grid,m=c.get(0).rows,i=m.length;var f=Math.ceil(i/k);e.totalPage=f;if(f==0||f==1){d.addClass("disabled")}else{d.removeClass("disabled");var b="";for(var h=0;h<f;h++){b+='<a href="javascript:void(0);" class="paging-btn paging-btn-num pageing-btn-'+h+'" data-index="'+h+'">';b+='<span class="icon"></span>';b+='<span class="text">'+(h+1)+"</span>";b+="</a>";b+='<span class="dots">...</span>'}l.empty().append(a(b))}return j},goToPage:function(t,s){var t=t||this,o=t.closest("div.paging-container"),n=t.get(0),b=n.grid,m=b.get(0).rows,p=isNaN(s[1])?0:s[1],h=n.numPerPage,i=n.totalPage;if(p>=i){p=0}var e=o.find("a.paging-btn.pageing-btn-prev"),f=o.find("a.paging-btn.pageing-btn-next"),r=o.find("a.paging-btn-num"),l=o.find("span.dots");r.removeClass("current");l.removeClass("more");r.filter("[data-index="+p+"]").addClass("current");if(i>7){var d=0+p-2,c=0+p+3-(i-1),g=0,q=0;if(d>0){if(c>0){g=0+p-2-c;q=0+i}else{g=0+p-2;q=0+p+3}}else{if(c>0){g=0;q=0+i}else{g=0;q=0+p+3-d}}r.addClass("hidden");for(var k=g;k<q;k++){r.eq(k).removeClass("hidden")}if(d>1){r.eq(g).prev("span.dots").addClass("more")}if(c<0){r.eq(q).next("span.dots").addClass("more")}r.filter(":first").removeClass("hidden");r.filter(":last").removeClass("hidden")}var g=h*p,q=g+h;b.find("tr.grid-content-tr").css("display","none");b.find("tr.grid-content-tr.empty").css("display","table-row");for(var k=g;k<q;k++){var j=m[k];if(j){j.fadeIn(150,function(){a(this).css("display","table-row")})}}setTimeout(function(){if(p==0){e.addClass("disabled");f.removeClass("disabled")}else{if(p>=(i-1)){e.removeClass("disabled");f.addClass("disabled")}else{e.removeClass("disabled");f.removeClass("disabled")}}},180);n.currentPage=p;return t},goPrev:function(c){var c=c||this,d=c.get(0),b=d.currentPage;b--;if(b<0){return c}else{c.paging("goToPage",b)}return c},goNext:function(d){var d=d||this,e=d.get(0),c=e.currentPage,b=e.totalPage;c++;if(c>=b){return d}else{d.paging("goToPage",c)}return d}})})(jQuery);