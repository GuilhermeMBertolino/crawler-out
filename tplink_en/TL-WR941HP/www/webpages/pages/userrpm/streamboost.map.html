<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Internet</title>
<script src="./js/libs/jquery.flot.js"></script>
<style type="text/css">
	div.container.widget-container.text-container.offset{
		position: absolute;
		top:200px;
		left:540px;
	}
</style>
</head>
<body>
<div class="func-container">
	 <div id="network_map" class="">
	 	<div id="" class="sb-network-map">
	 		<div class="line-speed"></div>
	 		<div class="line-vertical"></div>
	 		<div class="line-content"></div>
	 		<div class="line-box-left"></div>
	 		<div class="line-box-right"></div>
		 	<div id="network_internet" class="sb-map-internet">
		 		<span></span>
		 		<span id="router_internet_text" class="text"></span>
		 	</div>
		 	<div id="network_internet_up" class="sb-map-internet-up">
		 		<span class="speed-up-icon"></span>
		 		<span id="internet_up_num"></span>
		 	</div>
		 	<div id="network_internet_down" class="sb-map-internet-down">
		 		<span class="speed-down-icon"></span>
		 		<span id="internet_down_num"></span>
		 	</div>
		 	<div id="network_router" class="sb-map-router">
		 		<span id="wireless_text" class="wireless"></span>
		 		<span id="router_router_text" class="text"></span>
		 	</div>
		 	<div id="network_windows" class="sb-map-windows">
		 		<span id="router_windows_num" class="num"></span>
		 		<span id="router_windows_text" class="text"></span>		 		
		 	</div>
		 	<div id="network_android" class="sb-map-android">
		 		<span id="router_android_num" class="num"></span>
		 		<span id="router_android_text" class="text"></span>	
		 	</div>
		 	<div id="network_ios" class="sb-map-ios">
		 		<span id="router_ios_num" class="num"></span>
		 		<span id="router_ios_text" class="text"></span>	
		 	</div>
		 	<div id="network_unix" class="sb-map-unix">
		 		<span id="router_unix_num" class="num"></span>
		 		<span id="router_unix_text" class="text"></span>	
		 	</div>
		 	<div id="network_linux" class="sb-map-linux">
		 		<span id="router_linux_num" class="num"></span>
		 		<span id="router_linux_text" class="text"></span>	
		 	</div>
		 	<div id="network_otheros" class="sb-map-otheros">
		 		<span id="router_others_num" class="num"></span>
		 		<span id="router_others_text" class="text"></span>	
		 	</div>
		 </div>
		 <div id="" class="">
		 	<div id="windows_grid" class="detail-grid hidden"></div>
		 	<div id="android_grid" class="detail-grid hidden"></div>
		 	<div id="ios_grid" class="detail-grid hidden"></div>
		 	<div id="unix_grid" class="detail-grid hidden"></div>
		 	<div id="linux_grid" class="detail-grid hidden"></div>
		 	<div id="otheros_grid" class="detail-grid hidden"></div>
		 </div>
	 </div>
	 <div id="router_panel" class="hidden">
	 	<div id="router_return_icon" class="router-return-icon"></div>
	 	<div id="router_flows_devices">
	 		<div id="routerGrid" class="sb-router-grid"></div>
	 	</div>
	 	<div id="router_flows_chart">
	 		<div id="router_chart_up" style="width: 670px; height: 200px;"></div>
	 		<div id="router_chart_down" style="width: 670px; height: 200px;"></div>
	 	</div>
	 </div>
	 <div id="device_panel" class="hidden">
	 	<div id="device_return_icon" class="device-return-icon"></div>
	 	<div id="device_flows">
	 		<div id="deviceGrid" class="sb-device-grid"></div>
	 	</div>
	 	<div id="device_flows_chart">
	 		<div id="device_chart_up" style="width: 670px; height: 200px;"></div>
	 		<div id="device_chart_down" style="width: 670px; height: 200px;"></div>
	 	</div>
	 </div>
	 <div id="network_map_help"></div>
</div>
<script type="text/javascript">var flowsData;var nodesData;var down_bytes_prev=[];var up_bytes_prev=[];var loop_index=0;var windowsData=[];var androidData=[];var iosData=[];var unixData=[];var linuxData=[];var otherosData=[];var routerStackUp=[];var routerStackDown=[];var upLimitNum=0;var downLimitNum=0;var windowsType=["Windows RT","Windows","windows Phone","Nokia Lumia","Windows Phone"];var androidType=["HTC Android Device","Google TV","NVIDIA SHIELD","Android","WD TV"];var iosType=["Apple TV","iPad","iPhone","iPod Touch"];var unixType=[];var linuxType=["Linux"];var otherosType=[];var preRouterData=[];var preEpoch=-1;var curEpoch=0;var epochError=0;var routerData=[];var deviceBpsUp={};var deviceBpsDown={};var deviceLoopName=0;var deviceRelation={};var deviceStore=new $.su.Store({proxy:null,preventErrorDefault:true,fields:[{name:"name"},{name:"upBps"},{name:"upPercent"},{name:"downBps"},{name:"downPercent"},{name:"policy"}],autoLoad:false});var routerStore=new $.su.Store({proxy:null,preventErrorDefault:true,fields:[{name:"name"},{name:"type"},{name:"upBytes"},{name:"upPercent"},{name:"downBytes"},{name:"downPercent"}],autoLoad:false});function removeSlt(){$("div#network_windows").removeClass("item-slt");$("div#network_android").removeClass("item-slt");$("div#network_ios").removeClass("item-slt");$("div#network_unix").removeClass("item-slt");$("div#network_linux").removeClass("item-slt");$("div#network_otheros").removeClass("item-slt")}var url_bwconfig=$.su.ozkerurl("/api/bw_config");var bwProxy=new $.su.Proxy({url:url_bwconfig,preventErrorDefault:true,reader:{url:url_bwconfig,root:"data",type:"GET"}});var url_global=$.su.ozkerurl("/api/global");var globalProxy=new $.su.Proxy({url:url_global,preventErrorDefault:true,reader:{url:url_global,root:"data",type:"GET"}});var url_flows=$.su.ozkerurl("/api/flows");var flowsProxy=new $.su.Proxy({url:url_flows,preventErrorDefault:true,reader:{url:url_flows,root:"data",type:"GET"}});var url_nodes=$.su.ozkerurl("/api/nodes");var nodesProxy=new $.su.Proxy({url:url_nodes,preventErrorDefault:true,reader:{url:url_nodes,root:"data",type:"GET"}});function getMax(d){var c=0;var b=0;for(var a=0;a<d.length;a++){if(d[a][1]>c){c=d[a][1]}}if(c<=10){b=15}else{if(10<c<=20){b=30}else{if(20<c<=40){b=60}else{if(40<c<=60){b=90}else{if(60<c<=100){b=110}else{if(c>100){b=150}}}}}}return b}function postData(c,a){windowsData=[];androidData=[];iosData=[];unixData=[];linuxData=[];otherosData=[];var b=0;var d=0;nodesProxy.read({},function(f,e,g){nodesData=f.nodes;flowsProxy.read({},function(i,h,j){flowsData=i.flows;globalProxy.read({},function(D,v,p){curEpoch=D.epoch;for(var w=0;w<nodesData.length;w++){nodesData[w].Pipeline.name?1:(nodesData[w].Pipeline.name=nodesData[w].Pipeline.ip_addr);if($.inArray(nodesData[w].Pipeline.type,windowsType)!=-1){windowsData.push(nodesData[w].Pipeline)}else{if($.inArray(nodesData[w].Pipeline.type,androidType)!=-1){androidData.push(nodesData[w].Pipeline)}else{if($.inArray(nodesData[w].Pipeline.type,iosType)!=-1){iosData.push(nodesData[w].Pipeline)}else{if($.inArray(nodesData[w].Pipeline.type,unixType)!=-1){unixData.push(nodesData[w].Pipeline)}else{if($.inArray(nodesData[w].Pipeline.type,linuxType)!=-1){linuxData.push(nodesData[w].Pipeline)}else{otherosData.push(nodesData[w])}}}}}for(var u=0;u<flowsData.length;u++){if(loop_index==0){routerData[nodesData[w].Pipeline.mac_addr]==undefined?routerData[nodesData[w].Pipeline.mac_addr]=[]:1;b=0;d=0;down_bytes_prev[flowsData[u].uid]=flowsData[u].down_bytes/1024;up_bytes_prev[flowsData[u].uid]=flowsData[u].up_bytes/1024}else{if(loop_index!=0&&flowsData[u].epoch==preEpoch){b=0;d=0;if(flowsData[u].mac.toString()==nodesData[w].Pipeline.mac_addr.toString()){routerData[nodesData[w].Pipeline.mac_addr]==undefined?routerData[nodesData[w].Pipeline.mac_addr]=[]:1;routerData[nodesData[w].Pipeline.mac_addr].push({uid:flowsData[u].uid,name:flowsData[u].name,type:nodesData[w].Pipeline.type,upBps:0,downBps:0,device:nodesData[w].Pipeline.name,policy:-1})}if(epochError==0){epochError=loop_index}}else{if(loop_index!=0&&flowsData[u].epoch!=preEpoch){if(flowsData[u].mac.toString()==nodesData[w].Pipeline.mac_addr.toString()){down_bytes_prev[flowsData[u].uid]==undefined?down_bytes_prev[flowsData[u].uid]=0:1;up_bytes_prev[flowsData[u].uid]==undefined?up_bytes_prev[flowsData[u].uid]=0:1;b+=(flowsData[u].down_bytes/1024-down_bytes_prev[flowsData[u].uid])/(flowsData[u].epoch-preEpoch);d+=(flowsData[u].up_bytes/1024-up_bytes_prev[flowsData[u].uid])/(flowsData[u].epoch-preEpoch);routerData[nodesData[w].Pipeline.mac_addr]==undefined?routerData[nodesData[w].Pipeline.mac_addr]=[]:1;var A=(flowsData[u].up_bytes/1024-up_bytes_prev[flowsData[u].uid])/(flowsData[u].epoch-preEpoch);var E=(flowsData[u].down_bytes/1024-down_bytes_prev[flowsData[u].uid])/(flowsData[u].epoch-preEpoch);routerData[nodesData[w].Pipeline.mac_addr].push({uid:flowsData[u].uid,name:flowsData[u].name,type:nodesData[w].Pipeline.type,upBps:A,downBps:E,device:nodesData[w].Pipeline.name,policy:flowsData[u].policies.up_profile_active>flowsData[u].policies.down_profile_active?flowsData[u].policies.up_profile_active:flowsData[u].policies.down_profile_active});down_bytes_prev[flowsData[u].uid]=flowsData[u].down_bytes/1024;up_bytes_prev[flowsData[u].uid]=flowsData[u].up_bytes/1024}}}}}}$("#internet_up_num").html(Math.round(b)+" kbps");$("#internet_down_num").html(Math.round(d)+" kbps");if(flowsData[0]&&flowsData[0].epoch!=preEpoch){for(var z in routerData){preRouterData[z]=routerData[z]}}var y=[];for(var z in routerData){if(deviceLoopName!=0&&z==deviceLoopName){var o=[];for(var w=0;w<routerData[deviceLoopName].length;w++){var s=routerData[deviceLoopName][w].upBps>1024?(Math.round(routerData[deviceLoopName][w].upBps/1024)+" Mbps"):(Math.round(routerData[deviceLoopName][w].upBps)+" Kbps");var q=routerData[deviceLoopName][w].downBps>1024?(Math.round(routerData[deviceLoopName][w].downBps/1024)+" Mbps"):(Math.round(routerData[deviceLoopName][w].downBps)+" Kbps");o.push({name:routerData[deviceLoopName][w].name,upBps:s,upPercent:routerData[deviceLoopName][w].upBps/upLimitNum,downBps:q,downPercent:routerData[deviceLoopName][w].downBps/downLimitNum,policy:routerData[deviceLoopName][w].policy})}loop_index==0?1:deviceStore.loadData(deviceStore.dataFormat(o))}var x=0;var B=0;for(var w=0;w<routerData[z].length;w++){x+=routerData[z][w].upBps;B+=routerData[z][w].downBps}deviceBpsUp[z]==undefined?deviceBpsUp[z]=[]:1;loop_index==0?1:deviceBpsUp[z].push(Math.round(x));deviceBpsDown[z]==undefined?deviceBpsDown[z]=[]:1;loop_index==0?1:deviceBpsDown[z].push(Math.round(B));if(loop_index!=0&&routerData[z].length!=0){y.push({name:routerData[z][0].device,type:routerData[z][0].type,upPercent:x/c,upBytes:Math.round(x)>1024?(Math.round(x/1024)+" Mbps"):(Math.round(x)+" Kbps"),downPercent:B/a,downBytes:Math.round(B)>1024?(Math.round(B/1024)+" Mbps"):(Math.round(B)+" Kbps")})}routerData[z]=[]}routerStore.loadData(y);for(var u in deviceBpsUp){deviceBpsUp[u].length>61?(deviceBpsUp[u]=deviceBpsUp[u].slice(deviceBpsUp[u].length-61)):1;deviceBpsDown[u].length>61?(deviceBpsDown[u]=deviceBpsDown[u].slice(deviceBpsDown[u].length-61)):1;if(epochError!=0&&preEpoch!=flowsData[0].epoch){for(var w=1;w<=loop_index-epochError;w++){if(deviceBpsUp[u].length>=w){deviceBpsUp[u][deviceBpsUp[u].length-w-1]=deviceBpsUp[u][deviceBpsUp[u].length-1];deviceBpsDown[u][deviceBpsDown[u].length-w-1]=deviceBpsDown[u][deviceBpsDown[u].length-1]}}}if(deviceLoopName!=0&&u==deviceLoopName){var l=[];var C=[];for(var w=0;w<deviceBpsUp[u].length;w++){l.push([60-w,deviceBpsUp[u][deviceBpsUp[u].length-w-1]/1024]);C.push([60-w,deviceBpsDown[u][deviceBpsDown[u].length-w-1]/1024])}$.plot($("#device_chart_up"),[l],{shadowSize:5,highlightColor:"red",legend:{noColumns:1,position:"sw",margin:10,backgroundColor:"#CEDF99",backgroundOpacity:0.5},xaxis:{max:60,min:0,tickColor:"#ccc",tickSize:10,reserveSpace:true,labelWidth:10},yaxis:{tickSize:3,max:getMax(l),min:0},grid:{aboveData:true,color:"#4D8CBC",borderColor:"#6A9F7F",labelMargin:5,minBorderMargin:null,axisMargin:5},crosshair:{mode:"x"}});$.plot($("#device_chart_down"),[C],{shadowSize:5,highlightColor:"red",legend:{noColumns:1,position:"sw",margin:10,backgroundColor:"#CEDF99",backgroundOpacity:0.5},xaxis:{max:60,min:0,tickColor:"#ccc",tickSize:10,reserveSpace:true,labelWidth:10},yaxis:{tickSize:3,max:getMax(C),min:0},grid:{aboveData:true,color:"#4D8CBC",borderColor:"#6A9F7F",labelMargin:5,minBorderMargin:null,axisMargin:5},crosshair:{mode:"x"}})}}routerStackUp.push(Math.round(d));routerStackDown.push(Math.round(b));routerStackUp.length>61?(routerStackUp=routerStackUp.slice(routerStackUp.length-61)):1;routerStackDown.length>61?(routerStackDown=routerStackDown.slice(routerStackDown.length-61)):1;if(flowsData[0]&&epochError!=0&&preEpoch!=flowsData[0].epoch){for(var w=1;w<=loop_index-epochError;w++){if(routerStackUp.length>=w){routerStackUp[routerStackUp.length-w-1]=d;routerStackDown[routerStackDown.length-w-1]=b}}epochError=0}var t=[];var k=[];for(var r=0;r<routerStackUp.length;r++){t.push([60-r,routerStackUp[routerStackUp.length-r-1]/1024]);k.push([60-r,routerStackDown[routerStackDown.length-r-1]/1024])}$.plot($("#router_chart_up"),[t],{shadowSize:5,highlightColor:"red",legend:{noColumns:1,position:"sw",margin:10,backgroundColor:"#CEDF99",backgroundOpacity:0.5},xaxis:{max:60,min:0,tickColor:"#ccc",tickSize:10,reserveSpace:true,labelWidth:10},yaxis:{tickSize:3,max:getMax(t),min:0,},grid:{aboveData:true,color:"#4D8CBC",borderColor:"#6A9F7F",labelMargin:5,minBorderMargin:null,axisMargin:5},crosshair:{mode:"x"}});$.plot($("#router_chart_down"),[k],{shadowSize:5,highlightColor:"red",legend:{noColumns:1,position:"sw",margin:10,backgroundColor:"#CEDF99",backgroundOpacity:0.5},xaxis:{max:60,min:0,tickColor:"#ccc",tickSize:10,reserveSpace:true,labelWidth:10},yaxis:{tickSize:3,max:getMax(k),min:0},grid:{aboveData:true,color:"#4D8CBC",borderColor:"#6A9F7F",labelMargin:5,minBorderMargin:null,axisMargin:5},crosshair:{mode:"x"}});preEpoch=flowsData[0]?flowsData[0].epoch:preEpoch;loop_index++;windowsData.length>0?($("span#router_windows_num").show(),$("span#router_windows_num").html(windowsData.length)):$("span#router_windows_num").hide();androidData.length>0?($("span#router_android_num").show(),$("span#router_android_num").html(androidData.length)):$("span#router_android_num").hide();iosData.length>0?($("span#router_ios_num").show(),$("span#router_ios_num").html(iosData.length)):$("span#router_ios_num").hide();unixData.length>0?($("span#router_unix_num").show(),$("span#router_unix_num").html(unixData.length)):$("span#router_unix_num").hide();linuxData.length>0?($("span#router_linux_num").show(),$("span#router_linux_num").html(linuxData.length)):$("span#router_linux_num").hide();otherosData.length>0?($("span#router_others_num").show(),$("span#router_others_num").html(otherosData.length)):$("span#router_others_num").hide()})})});bwProxy.aaa=setTimeout(function(){postData(c,a)},2000)}function jsonpDevicesCallback(a){deviceRelation=a.devices;postData(upLimitNum,downLimitNum)}$(document).ready(function(g){$("span#router_internet_text").html($.su.CHAR.STREAMBOOST.INTERNET);$("span#router_router_text").html($.su.CHAR.STREAMBOOST.ROUTER);$("span#router_windows_text").html($.su.CHAR.STREAMBOOST.WINDOWS);$("span#router_android_text").html($.su.CHAR.STREAMBOOST.ANDROID);$("span#router_ios_text").html($.su.CHAR.STREAMBOOST.MAC_IOS);$("span#router_unix_text").html($.su.CHAR.STREAMBOOST.UNIX);$("span#router_linux_text").html($.su.CHAR.STREAMBOOST.LINUX);$("span#router_others_text").html($.su.CHAR.STREAMBOOST.OTHERS);$("#network_router").click(function(){$("#network_map").hide();$("#router_panel").show()});$("#router_return_icon").click(function(){$("#network_map").show();$("#router_panel").hide()});$("#device_return_icon").click(function(){$("#network_map").show();$("#device_panel").hide()});$("div#router_panel").panel({title:$.su.CHAR.STREAMBOOST.ROUTER,collapsible:false});$("div#routerGrid").grid({store:routerStore,minLines:0,columns:[{xtype:"actioncolumn",text:$.su.CHAR.STREAMBOOST.DEVICE,width:200,items:[{xtype:"html",dataIndex:"type",renderer:function(e){return'<img class="router-icons" src="/images/default.png"/><img class="router-icons hidden" src="http://static.ac1900v1.tplink.streamboost.yeti.bigfootnetworks.com/luci-app-streamboost-assets/v2.0/images/'+deviceRelation[e]+'" onload="javascript:$(this).prev().hide();$(this).show()"/>'}},{xtype:"html",dataIndex:"name",renderer:function(h,e){return'<div class="router-name">'+h+"</div>"}}]},{text:$.su.CHAR.STREAMBOOST.RATE,xtype:"actioncolumn",items:[{xtype:"progressbar",showPercentage:false,width:300,cls:"inlineBlock pro300",dataIndex:"upPercent"},{xtype:"textbox",dataIndex:"upBytes",fieldLabel:null,inputCls:"m",readOnly:true,cls:"inlineBlock h20",properties:[{property:"readOnly"}]},{xtype:"progressbar",showPercentage:false,width:300,cls:"inlineBlock pro300 colorBlue",dataIndex:"downPercent"},{xtype:"textbox",dataIndex:"downBytes",fieldLabel:null,inputCls:"m",readOnly:true,cls:"inlineBlock h20 colorBlue",properties:[{property:"readOnly"}]}]}]});var b=$.plot($("#router_chart_up"),[{label:"xaxis",points:{show:true},lines:{show:true},data:[]}],{shadowSize:5,highlightColor:"red",legend:{noColumns:1,position:"sw",margin:10,backgroundColor:"#CEDF99",backgroundOpacity:0.5},xaxis:{max:60,min:0,tickColor:"#ccc",tickSize:10,reserveSpace:true,labelWidth:10},yaxis:{tickSize:3,max:15,min:0,},grid:{aboveData:true,color:"#4D8CBC",borderColor:"#6A9F7F",labelMargin:5,minBorderMargin:null,axisMargin:5},crosshair:{mode:"x"}});var f=$.plot($("#router_chart_down"),[{label:"xaxis",points:{show:true},lines:{show:true},data:[]}],{shadowSize:5,highlightColor:"red",legend:{noColumns:1,position:"sw",margin:10,backgroundColor:"#CEDF99",backgroundOpacity:0.5},xaxis:{max:60,min:0,tickColor:"#ccc",tickSize:10,reserveSpace:true,labelWidth:10},yaxis:{tickSize:3,max:15,min:0},grid:{aboveData:true,color:"#4D8CBC",borderColor:"#6A9F7F",labelMargin:5,minBorderMargin:null,axisMargin:5},crosshair:{mode:"x"}});$("div#device_panel").panel({title:$.su.CHAR.STREAMBOOST.DEVICES,collapsible:false});$("div#deviceGrid").grid({store:deviceStore,minLines:0,columns:[{text:$.su.CHAR.STREAMBOOST.APPLICATION,xtype:"actioncolumn",width:200,items:[{xtype:"html",dataIndex:"name",renderer:function(e){return'<img src="/images/default.png" class="device-icons"/><img class="device-icons hidden" src="http://static.ac1900v1.tplink.streamboost.yeti.bigfootnetworks.com/luci-app-streamboost-assets/v2.0/images/'+e+'.png"  onload="javascript:$(this).prev().hide();$(this).show()"/><div class="router-name">'+e+"</div>"}}]},{text:$.su.CHAR.STREAMBOOST.RATE,xtype:"actioncolumn",items:[{xtype:"progressbar",showPercentage:false,width:300,cls:"inlineBlock pro300",dataIndex:"upPercent"},{xtype:"textbox",dataIndex:"upBps",fieldLabel:null,inputCls:"m",readOnly:true,cls:"inlineBlock h20",properties:[{property:"readOnly"}]},{xtype:"progressbar",showPercentage:false,width:300,cls:"inlineBlock pro300 colorBlue",dataIndex:"downPercent"},{xtype:"textbox",dataIndex:"downBps",fieldLabel:null,inputCls:"m",readOnly:true,cls:"inlineBlock h20 colorBlue",properties:[{property:"readOnly"}]},{xtype:"html",dataIndex:"policy",renderer:function(e){switch(e){case 0:return'<div class="policy-optimal"></div>';case 1:return'<div class="policy-nominal"></div>';case 2:return'<div class="policy-best"></div>'}}}]}]});var d=$.plot($("#device_chart_up"),[{label:"xaxis",points:{show:true},lines:{show:true},data:[]}],{shadowSize:5,highlightColor:"red",legend:{noColumns:1,position:"sw",margin:10,backgroundColor:"#CEDF99",backgroundOpacity:0.5},xaxis:{max:60,min:0,tickColor:"#ccc",tickSize:10,reserveSpace:true,labelWidth:10},yaxis:{tickSize:3,max:15,min:0},grid:{aboveData:true,color:"#4D8CBC",borderColor:"#6A9F7F",labelMargin:5,minBorderMargin:null,axisMargin:5},crosshair:{mode:"x"}});var c=$.plot($("#device_chart_down"),[{label:"xaxis",points:{show:true},lines:{show:true},data:[]}],{shadowSize:5,highlightColor:"red",legend:{noColumns:1,position:"sw",margin:10,backgroundColor:"#CEDF99",backgroundOpacity:0.5},xaxis:{max:60,min:0,tickColor:"#ccc",tickSize:10,reserveSpace:true,labelWidth:10},yaxis:{tickSize:3,max:15,min:0},grid:{aboveData:true,color:"#4D8CBC",borderColor:"#6A9F7F",labelMargin:5,minBorderMargin:null,axisMargin:5},crosshair:{mode:"x"}});$("div.func-container").page({title:$.su.CHAR.STREAMBOOST.TITLE,help:""});$("div#network_map").panel({title:$.su.CHAR.STREAMBOOST.TITLE,collapsible:false});$("div#network_windows").click(function(){removeSlt();$(this).addClass("item-slt");$("div.detail-grid").hide();$("div#windows_grid").show();$("div#windows_grid").grid("getStore").loadData($("div#windows_grid").grid("getStore").dataFormat(windowsData))});$("div#network_android").click(function(){removeSlt();$(this).addClass("item-slt");$("div.detail-grid").hide();$("div#android_grid").show();$("div#android_grid").grid("getStore").loadData($("div#android_grid").grid("getStore").dataFormat(androidData))});$("div#network_ios").click(function(){removeSlt();$(this).addClass("item-slt");$("div.detail-grid").hide();$("div#ios_grid").show();$("div#ios_grid").grid("getStore").loadData($("div#ios_grid").grid("getStore").dataFormat(iosData))});$("div#network_unix").click(function(){removeSlt();$(this).addClass("item-slt");$("div.detail-grid").hide();$("div#unix_grid").show();$("div#unix_grid").grid("getStore").loadData($("div#unix_grid").grid("getStore").dataFormat(unixData))});$("div#network_linux").click(function(){removeSlt();$(this).addClass("item-slt");$("div.detail-grid").hide();$("div#linux_grid").show();$("div#linux_grid").grid("getStore").loadData($("div#linux_grid").grid("getStore").dataFormat(linuxData))});$("div#network_otheros").click(function(){removeSlt();$(this).addClass("item-slt");$("div.detail-grid").hide();$("div#otheros_grid").show();$("div#otheros_grid").grid("getStore").loadData($("div#otheros_grid").grid("getStore").dataFormat(otherosData))});$("div#windows_grid").grid({operation:[],store:{proxy:{},fields:[{name:"name"},{name:"ip_addr"},{name:"mac_addr"}],autoLoad:true},minLines:0,columns:[{text:$.su.CHAR.STREAMBOOST.NAME,dataIndex:"name",width:160},{text:$.su.CHAR.STREAMBOOST.MAC_ADDRESS,width:140,dataIndex:"mac_addr"},{text:$.su.CHAR.STREAMBOOST.IP_ADDRESS,width:150,dataIndex:"ip_addr"}]}).on("ev_lineclicked",function(j,h,i){deviceLoopName=i.mac_addr;$("#network_map").hide();$("#device_panel").show()});$("div#android_grid").grid({operation:[],store:{proxy:{},fields:[{name:"name"},{name:"ip_addr"},{name:"mac_addr"}],autoLoad:false},minLines:0,columns:[{text:$.su.CHAR.STREAMBOOST.NAME,dataIndex:"name",width:160},{text:$.su.CHAR.STREAMBOOST.MAC_ADDRESS,width:140,dataIndex:"mac_addr"},{text:$.su.CHAR.STREAMBOOST.IP_ADDRESS,width:150,dataIndex:"ip_addr"}]}).on("ev_lineclicked",function(j,h,i){deviceLoopName=i.mac_addr;$("#network_map").hide();$("#device_panel").show()});$("div#ios_grid").grid({operation:[],store:{proxy:{},fields:[{name:"name"},{name:"ip_addr"},{name:"mac_addr"}],autoLoad:false},minLines:0,columns:[{text:$.su.CHAR.STREAMBOOST.NAME,dataIndex:"name",width:160},{text:$.su.CHAR.STREAMBOOST.MAC_ADDRESS,width:140,dataIndex:"mac_addr"},{text:$.su.CHAR.STREAMBOOST.IP_ADDRESS,width:150,dataIndex:"ip_addr"}]}).on("ev_lineclicked",function(j,h,i){deviceLoopName=i.mac_addr;$("#network_map").hide();$("#device_panel").show()});$("div#unix_grid").grid({operation:[],store:{proxy:{},fields:[{name:"name"},{name:"ip_addr"},{name:"mac_addr"}],autoLoad:false},minLines:0,columns:[{text:$.su.CHAR.STREAMBOOST.NAME,dataIndex:"name",width:160},{text:$.su.CHAR.STREAMBOOST.MAC_ADDRESS,width:140,dataIndex:"mac_addr"},{text:$.su.CHAR.STREAMBOOST.IP_ADDRESS,width:150,dataIndex:"ip_addr"}]}).on("ev_lineclicked",function(j,h,i){deviceLoopName=i.mac_addr;$("#network_map").hide();$("#device_panel").show()});$("div#linux_grid").grid({operation:[],store:{proxy:{},fields:[{name:"name"},{name:"ip_addr"},{name:"mac_addr"}],autoLoad:false},minLines:0,columns:[{text:$.su.CHAR.STREAMBOOST.NAME,dataIndex:"name",width:160},{text:$.su.CHAR.STREAMBOOST.MAC_ADDRESS,width:140,dataIndex:"mac_addr"},{text:$.su.CHAR.STREAMBOOST.IP_ADDRESS,width:150,dataIndex:"ip_addr"}]}).on("ev_lineclicked",function(j,h,i){deviceLoopName=i.mac_addr;$("#network_map").hide();$("#device_panel").show()});$("div#otheros_grid").grid({operation:[],store:{proxy:{},fields:[{name:"name"},{name:"ip_addr"},{name:"mac_addr"}],autoLoad:false},minLines:0,columns:[{text:$.su.CHAR.STREAMBOOST.NAME,dataIndex:"name",width:160},{text:$.su.CHAR.STREAMBOOST.MAC_ADDRESS,width:140,dataIndex:"mac_addr"},{text:$.su.CHAR.STREAMBOOST.IP_ADDRESS,width:150,dataIndex:"ip_addr"}]}).on("ev_lineclicked",function(j,h,i){deviceLoopName=i.mac_addr;$("#network_map").hide();$("#device_panel").show()});bwProxy.read({},function(h,e,i){upLimitNum=Math.round(h.bw_config.up_limit/1024);downLimitNum=Math.round(h.bw_config.down_limit/1024);$.ajax({url:"http://static.ac1900v1.tplink.streamboost.yeti.bigfootnetworks.com/luci-app-streamboost-assets/v2.0/trans/devices_icons.js?callback=jsonpDevicesCallback",dataType:"jsonp",jsonp:"callback",success:function(j){}})});$.su.app.runningModule.addUnloadHandler(function(){clearTimeout(bwProxy.aaa)});var a=new $.su.Help({container:"div#network_map_help",content:["STREAM_BOOST_NETWORK","STREAM_BOOST_ROUTER","STREAM_BOOST_DEVICES"]})});</script>
</body>
</html>