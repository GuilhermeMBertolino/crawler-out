<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>syspara Control</title>
<style type="text/css">
	#title{
		color: #10abe1;
		font-size: 14px;
		height: 24px;
		border-bottom: 1px solid #d8d8d9;
	}
	#ok{
		margin-left:200px;
	}
	lebel.notice_lbl{
		padding-top:5px;
	}
	table#tbl_dos{
		width:100%;
	}
	td.notice{
		vertical-align:top;
		width:230px;
		margin:0px;
		text-align: left;
		padding-top:15px
	}
	td.value{
		text-align: left;
	}
	span.disabled{
	    color: #B3B3B3;
   }
</style>
</head>
<body>
<div class="func-container">
	<div id="w24g">
		<form id="w24g-setting">
	    	<input type="text"  id="beacon_int_2g" name="beacon_int" value="" />
	    	<input type="text"  id="rts_2g" name="rts" value="" />
            <input type="text"  id="dtim_period_2g" name="dtim_period" value="" />
			<input type="text"  id="wpa_group_rekey_2g" name="wpa_group_rekey" value="" />
			<div id="feature2g_container" class="hidden">
		    	<input type="text"  id="wmm_2g" name="wmm" value="" />
		    	<input type="text"  id="shortgi_2g" name="shortgi" value="" />
		    	<input type="text"  id="isolate_2g" name="isolate" value="" />
			</div>
	    	<p class="note hidden" id="note_title_2g">
	    		<span class="title note-title"></span>
	    		<span class="text" id="note_title_2g_text"></span>
	    	</p>
	    </form>
	</div>
	<div id="w24g-wds">
	 	<form id="w24g-wds-setting">
	 		<input type="text"  id="enable_2g" name="enable" value="" />
			<div id="ssid_cnt_2g">
				<input type="text"  id="enable_dhcp_2g" name="dhcp" value="" />
		    	<input type="text"  id="ssid_2g" name="ssid" value="" />
		    	<button type="button" id="syspara_survey_2g" name="syspara_survey"></button>
		    	<input type="text"  id="bssid_2g" name="bssid" value="" />
				<input type="text"  id="wds_mode_2g" name="wds_mode" value="" />
		    	<input type="text"  id="encryption_2g" name="encryption" value="" />
		    	<div id="wpa_cnt_24g">
		    		<input type="text"  id="psk_key_2g" name="psk_key" value="" />
			    </div>
		    	<div id="wep_cnt_24g">
		    		<input type="text"  id="wep_mode_2g" name="wep_mode" value="" />
		    		<input type="text"  id="wep_select_2g" name="wep_select" value="" />
		    		<div id="key1_cnt_2g">
			    		<input type="text"  id="wep_format1_2g" name="wep_format1" value="" />
			    		<input type="text"  id="wep_key1_2g" name="wep_key1" value="" />
			    	</div>
			    	<div id="key2_cnt_2g">
			    		<input type="text"  id="wep_format2_2g" name="wep_format2" value="" />
			    		<input type="text"  id="wep_key2_2g" name="wep_key2" value="" />
			    	</div>
			    	<div id="key3_cnt_2g">
			    		<input type="text"  id="wep_format3_2g" name="wep_format3" value="" />
			    		<input type="text"  id="wep_key3_2g" name="wep_key3" value="" />
			    	</div>
			    	<div id="key4_cnt_2g">
			    		<input type="text"  id="wep_format4_2g" name="wep_format4" value="" />
			    		<input type="text"  id="wep_key4_2g" name="wep_key4" value="" />
			    	</div>
		    	</div>
		    </div>
		    <p class="note hidden" id="wds_note_title_2g">
		    	<span class="title note-title"></span>
		    	<span class="text" id="wds_note_title_2g_text"></span>
	    	</p>
	 	</form>
	</div>
	<div id="wps">
	 	<form id="wps-setting">
	    	<input type="text"  id="wps_status" name="wps" value="" />
	    </form>
	</div>
	<div id="nat">
	 	<form id="nat-setting">
	    	<input type="text"  id="nat_enable" name="enable" value="" />
	    	<input type="text"  id="nat_boost_enable" name="boost_enable" class="hidden" value="" />
	    	<input type="button"  id="nat_save_btn" value="" />
	    </form>
	</div>
	<div id="level">
	 	<form id="level-setting">
	    	<table id="tbl_dos">
	    		<tbody>
	    			<tr>
	    				<td class="notice"><label id="syspara_level_icmp" class="notice_lbl"></label></td>
	    				<td class="value">
	    					<input type="text"  id="icmp_low" name="icmp_low" value="" />
	    					<input type="text"  id="icmp_middle" name="icmp_middle" value="" />
	    					<input type="text"  id="icmp_high" name="icmp_high" value="" />
	    				</td>
	    			</tr>
	    			<tr>
	    				<td class="notice"><label id="syspara_level_udp" class="notice_lbl"></label></td>
	    				<td  class="value">
	    					<input type="text"  id="udp_low" name="udp_low" value="" />
	    					<input type="text"  id="udp_middle" name="udp_middle" value="" />
	    					<input type="text"  id="udp_high" name="udp_high" value="" />
	    				</td>
	    			</tr>
	    			<tr>
	    				<td class="notice"><label id="syspara_level_tcp" class="notice_lbl"></label></td>
	    				<td class="value">
	    					<input type="text"  id="tcp_low" name="syn_low" value="" />
	    					<input type="text"  id="tcp_middle" name="syn_middle" value="" />
	    					<input type="text"  id="tcp_high" name="syn_high" value="" />
	    				</td>
	    			</tr>
	    		</tbody>
	    	</table>
	    </form>
	</div>
	<div id="survey">
	 	<div id="result_2g">
		</div>
	</div>
    <div id="internet_duplex_panel">
    	<form id="internet_duplex_form">
    		<input name="port" value="wan" class="hidden"/>
			<input id="internet_duplex" name="speed"/>
		</form>
	</div>
	<div id="debug-mode">
	 	<form id="debug-mode-setting">
	    	<input type="text"  id="debug-mode-status" name="debug_mode" value="" />
	    </form>
	 </div>
	<div id="notice_2g">
		<h4 class="title">
	    	<span class="icon"></span>
	 		<span class="text" id="notice_content_2g"></span>
	 	</h4>
	</div>
	<div id="notice_nat_boost">
		<h4 class="title">
	    	<span class="icon"></span>
	 		<span class="text" id="notice_content_nat_boost"></span>
	 	</h4>
	</div>
	<div id="reboot_nat_boost">
		<div id="factory_pro_cnt" class="reboot-loading-msg">
	 		<p id="factory_note"  class="reboot-progressbar-text"></p>
	    	<input id="factory_pro_bar" type="text" />
	    </div>
	</div>
	<div id="help_system_para"></div>
</div>
<script type="text/javascript">try{$}catch(e){location.href="/"}$(document).ready(function(){var S="";var z="";var c="";var x=true;var F="";var s;var X=new $.su.Proxy({url:$.su.url("/admin/network?form=port_speed_current")});var I=$.su.url("/admin/network?form=port_speed_supported");var j=$.su.url("/admin/wireless?form=guest_2g");var d=$.su.url("/admin/wireless?form=region");var R={};var h=false;var C=new $.su.Proxy({url:d,async:false});C.read({},function(ac){R=ac.capability});var D=new $.su.Proxy({url:j});var v=new $.su.Proxy({url:$.su.url("/admin/dhcps?form=setting")});v.read({},function(ac){s=ac;$("#enable_dhcp_2g").checkbox("setValue",ac.enable)});$("div#internet_duplex_panel").panel({title:$.su.CHAR.INTERNET.DUPLEX,collapsible:false});$("input#internet_duplex").combobox({fieldLabel:$.su.CHAR.INTERNET.DUPLEX,labelCls:"m",items:[]});function u(ad){var ac=$(ad).checkbox("getContainer")}function B(ag){var af="";var ad="";var ae="";if(!ag){return""}else{if(ag=="auto"){return $.su.CHAR.INTERNET.AUTO_NEGOTIATION}else{if(ag.indexOf("H")>0){ad=ag.replace("H","_DUPLEX_HALF")}else{if(ag.indexOf("F")>0){ad=ag.replace("F","_DUPLEX_FULL")}}var ac=ad.split("_");ac.reverse();ae=ac.join("_");af=$.su.CHAR.INTERNET[ae]}}return af}var G=[];$.post(I,{},function(ad,ac,ae){if(!ad.data){return false}$(ad.data.supported).each(function(ag,ah){var af={};af.value=ah;af.name=B(ah);G.push(af)});$("#internet_duplex").combobox("loadData",G);$("form#internet_duplex_form").form({proxy:X,fields:[{name:"speed",mapping:"speed"}],submitBtn:"default"})},"json");var n=$.su.url("/admin/wireless?form=syspara_2g");var y=$.su.url("/admin/wireless?form=survey_2g");var V=$.su.url("/admin/wireless?form=syspara_wps");var k=$.su.url("/admin/nat?form=setting");var ab=$.su.url("/admin/security_settings?form=dos_setting");var O=$.su.url("/admin/wireless?form=wireless_2g");var M=$.su.url("/admin/ledpm?form=setting");var i=$.su.url("/admin/syslog?form=mode");var o=$.su.url("/admin/qos?form=settings");var g=new $.su.Proxy({url:o});var N="";var A=$.su.url("/admin/traffic?form=status");var P=new $.su.Proxy({url:A});var b="";var E=5;var f=7200;var aa=0;var w="off";var t="off";var l="off";var H=0;var Z=false;var Y=false;var W=false;var a=false;var J=10*1000;var U="";$("span.note-title").text($.su.CHAR.OPERATION.NOTE);$("span#note_title_2g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);$("span#wds_note_title_2g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);$("div.func-container").page({title:$.su.CHAR.SYSPARA.TITLE,help:""});var Q=function(){if(a){if(Z||Y||W){$("#enable_2g").checkbox("disable")}return}};$("div#w24g").panel({title:$.su.CHAR.SYSPARA.W24G,collapsible:false});$("div#w24g-wds").panel({title:$.su.CHAR.SYSPARA.W24G_WDS,collapsible:false});$("input#beacon_int_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.BEACON,tips:$.su.CHAR.SYSPARA.BEACONUNIT,inputCls:"m",tipsCls:"xs",vtype:{vtype:"number",min:40,max:1000},maxLength:4,textFormat:$.su.format.number,allowBlank:false,min:40,max:1000,labelCls:"l"});$("input#rts_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.RTS,tips:$.su.CHAR.SYSPARA.RTSUNIT,inputCls:"m",tipsCls:"xs",vtype:{vtype:"number",min:1,max:2346},maxLength:4,textFormat:$.su.format.number,min:1,max:2346,allowBlank:false,labelCls:"l"});$("input#dtim_period_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.DTIM,tips:$.su.CHAR.SYSPARA.DTIMUNIT,inputCls:"m",tipsCls:"xs",vtype:{vtype:"number",min:1,max:15},maxLength:2,textFormat:$.su.format.number,min:1,max:15,allowBlank:false,labelCls:"l"});$("input#wpa_group_rekey_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.GROUP,tips:$.su.CHAR.SYSPARA.GROUPUNIT,inputCls:"m",tipsCls:"xs",vtype:"number",textFormat:$.su.format.number,allowBlank:false,maxLength:5,invalidText:$.su.CHAR.ERROR["00000039"],validator:function(ac){if(ac==0){return true}if((ac>=30)&&(ac<=86400)){return true}return false},labelCls:"l"});$("input#wmm_2g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.WMM_FEATURE,labelCls:"l",cls:"part-separate",items:[{boxlabel:$.su.CHAR.SYSPARA.WMM,uncheckedValue:"off",inputValue:"on"}]});$("input#shortgi_2g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.GI_FEATURE,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.GI,uncheckedValue:"off",inputValue:"on"}]});$("input#isolate_2g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.AP_FEATURE,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.AP,uncheckedValue:"off",inputValue:"on"}]});$("input#enable_2g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.WDS_FEATURE,labelCls:"l",cls:"part-separate",tips:"",tipsCls:"m",items:[{boxlabel:$.su.CHAR.SYSPARA.WDS,uncheckedValue:"off",inputValue:"on"}]}).on("ev_change",function(ai,ae,ah){var aj=(ah[0]=="enable"||ah[0]=="on")?"on":"off";var ad=$("input#encryption_2g").radio("getValue");var ag=$("input#wep_select_2g").combobox("getValue")[0];var af=$("input#enable_2g").checkbox("getContainer");var ac=$(af).hasClass("disabled");switch(aj){case"on":if(ac){return}$("#ssid_cnt_2g").fieldset("show");$("#wpa_cnt_24g").fieldset((ad=="psk")?"show":"hide");$("#wep_cnt_24g").fieldset((ad=="wep")?"show":"hide");$("#key1_cnt_2g").fieldset(((ad=="wep")&&ag=="1")?"show":"hide");$("#key2_cnt_2g").fieldset(((ad=="wep")&&ag=="2")?"show":"hide");$("#key3_cnt_2g").fieldset(((ad=="wep")&&ag=="3")?"show":"hide");$("#key4_cnt_2g").fieldset(((ad=="wep")&&ag=="4")?"show":"hide");break;case"off":$("#ssid_cnt_2g").fieldset("hide");$("#wep_cnt_24g").fieldset("hide");$("#wpa_cnt_24g").fieldset("hide");$("#key1_cnt_2g").fieldset("hide");$("#key2_cnt_2g").fieldset("hide");$("#key3_cnt_2g").fieldset("hide");$("#key4_cnt_2g").fieldset("hide");break}});$("input#enable_dhcp_2g").checkbox({fieldLabel:$.su.CHAR.DHCP_SERVER.DHCP_SERVER,labelCls:"l",tips:"",tipsCls:"m",items:[{boxlabel:$.su.CHAR.DHCP_SERVER.ENABLE_DHCP_SERVER,uncheckedValue:"off",inputValue:"on"}]});$("input#ssid_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.SSID_BRIDEGE,vtype:"string_visible_allow_blank",allowBlank:false,maxLength:32,autoTrim:false,labelCls:"l",cls:"inline",validator:function(ad){var ac=encodeURIComponent(ad);ac=ac.replace(/%[A-F\d]{2}/g,"U").length;if(ac>32){return $.su.CHAR.ERROR["00000210"]}return true}}).on("ev_change",function(ac,ae){var ad=encodeURIComponent(ae);ad=ad.replace(/%[A-F\d]{2}/g,"U").length;if(ad==32){$(this).attr("maxLength",ae.length)}else{if(ad>32){$(this).attr("maxLength",ae.length-1)}else{if(ad<32){$(this).attr("maxLength",32)}}}});$("#wds_mode_2g").combobox({fieldLabel:$.su.CHAR.SYSPARA.WDS_MODE,labelCls:"l",items:[{value:"2",name:$.su.CHAR.SYSPARA.AUTO},{value:"1",name:$.su.CHAR.SYSPARA.WDS1},{value:"0",name:$.su.CHAR.SYSPARA.WDS2}]});$("button#syspara_survey_2g").button({text:$.su.CHAR.SYSPARA.SURVEY,handler:function(){$("div#result_2g").show();$("div#result_2g").grid("runProgress");$("#refreshBtn_2g").button("disable");r.load({},function(){$("div#result_2g").grid("prompt",true);$("#refreshBtn_2g").button("enable")});$("div#survey").msg("show")},cls:"inline-block more_pad ml5"});$("input#bssid_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.MAC,vtype:"mac",maxLength:17,allowBlank:false,labelCls:"l",tips:$.su.CHAR.SYSPARA.MACUNIT});$("#wpa_cnt_24g").fieldset({fields:[{name:"psk_key"}]}).hide();$("input#encryption_2g").radio({fieldLabel:$.su.CHAR.WIRELESS.SECURITY,columns:3,labelCls:"l",cls:"part-separate",items:[{boxlabel:$.su.CHAR.SYSPARA.NONE,inputValue:"none"},{boxlabel:$.su.CHAR.SYSPARA.WPA,inputValue:"psk"},{boxlabel:$.su.CHAR.SYSPARA.WEP,inputValue:"wep"}]}).on("ev_change",function(af,ac,ae){var ad=$("input#wep_select_2g").combobox("getValue")[0];$("#wpa_cnt_24g").fieldset((ae=="psk")?"show":"hide");$("#wep_cnt_24g").fieldset((ae=="wep")?"show":"hide");$("#key1_cnt_2g").fieldset(((ae=="wep")&&ad=="1")?"show":"hide");$("#key2_cnt_2g").fieldset(((ae=="wep")&&ad=="2")?"show":"hide");$("#key3_cnt_2g").fieldset(((ae=="wep")&&ad=="3")?"show":"hide");$("#key4_cnt_2g").fieldset(((ae=="wep")&&ad=="4")?"show":"hide")});$("input#psk_key_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:64,autoTrim:false,labelCls:"l",});$("input#wep_key1_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l",});$("input#wep_key2_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l",});$("input#wep_key3_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l",});$("input#wep_key4_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l",});$("#key1_cnt_2g").fieldset({fields:[{name:"wep_format1"},{name:"wep_key1"}]}).hide();$("#key2_cnt_2g").fieldset({fields:[{name:"wep_format2"},{name:"wep_key2"}]}).hide();$("#key3_cnt_2g").fieldset({fields:[{name:"wep_format3"},{name:"wep_key3"}]}).hide();$("#key4_cnt_2g").fieldset({fields:[{name:"wep_format4"},{name:"wep_key4"}]}).hide();$("input#wep_mode_2g").radio({fieldLabel:$.su.CHAR.SYSPARA.AUTH_TYPE,labelCls:"l",columns:3,items:[{boxlabel:$.su.CHAR.SYSPARA.AUTO,inputValue:"auto"},{boxlabel:$.su.CHAR.SYSPARA.OPEN,inputValue:"open",checked:true},{boxlabel:$.su.CHAR.SYSPARA.SHARED,inputValue:"shared"}]});$("input#wep_format1_2g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("input#wep_format2_2g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("input#wep_format3_2g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("input#wep_format4_2g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("#ssid_cnt_2g").fieldset({fields:[{name:"ssid"},{name:"wds_mode"},{name:"bssid"},{name:"encryption"}]}).hide();$("#wep_cnt_24g").fieldset({fields:[{name:"wep_select"},{name:"wep_mode"}]}).hide();$("#w24g-wds").css({display:"none"});var q=new $.su.Proxy({url:n});var m=new $.su.Proxy({url:n});$("form#w24g-setting").form({proxy:q,fields:[{name:"beacon_int",mapping:"beacon_int"},{name:"rts",mapping:"rts"},{name:"frag",mapping:"frag"},{name:"dtim_period",mapping:"dtim_period"},{name:"wpa_group_rekey",mapping:"wpa_group_rekey"},{name:"wmm",mapping:"wmm"},{name:"shortgi",mapping:"shortgi"},{name:"enable",mapping:"enable"},{name:"ssid",mapping:"ssid"},{name:"wds_mode",mapping:"wds_mode"},{name:"bssid",mapping:"bssid"},{name:"encryption",mapping:"encryption"},{name:"psk_key",mapping:"psk_key"},{name:"wep_key1",mapping:"wep_key1"},{name:"wep_key2",mapping:"wep_key2"},{name:"wep_key3",mapping:"wep_key3"},{name:"wep_key4",mapping:"wep_key4"},{name:"isolate",mapping:"isolate"},{name:"wep_format1",mapping:"wep_format1"},{name:"wep_format2",mapping:"wep_format2"},{name:"wep_format3",mapping:"wep_format3"},{name:"wep_format4",mapping:"wep_format4"},{name:"wep_select",mapping:"wep_select"},{name:"wep_mode",mapping:"wep_mode"}],submitBtn:"default"}).on("ev_loadData",function(ad,ac){c=ac.extinfo.support_wds_show;if(c=="yes"){$("#w24g-wds").css({display:"block"})}});var L=false;$("form#w24g-wds-setting").form({proxy:m,fields:[{name:"enable",mapping:"enable"},{name:"ssid",mapping:"ssid"},{name:"wds_mode",mapping:"wds_mode"},{name:"bssid",mapping:"bssid"},{name:"encryption",mapping:"encryption"},{name:"psk_key",mapping:"psk_key"},{name:"wep_key1",mapping:"wep_key1"},{name:"wep_key2",mapping:"wep_key2"},{name:"wep_key3",mapping:"wep_key3"},{name:"wep_key4",mapping:"wep_key4"},{name:"isolate",mapping:"isolate"},{name:"wep_format1",mapping:"wep_format1"},{name:"wep_format2",mapping:"wep_format2"},{name:"wep_format3",mapping:"wep_format3"},{name:"wep_format4",mapping:"wep_format4"},{name:"wep_select",mapping:"wep_select"},{name:"wep_mode",mapping:"wep_mode"},{name:"syspara_survey"}],validator:function(){v.write($.extend(true,s,{enable:($("#enable_dhcp_2g").checkbox("getValue").length==0?"off":"on")}),function(ap){s=ap;$("#enable_dhcp_2g").checkbox("setValue",ap.enable)});var aj=$("input#enable_2g").checkbox("getValue");var ad=$("input#ssid_2g").textbox("getValue");var am=$("input#bssid_2g").textbox("getValue");if(aj=="enable"){if((ad=="")&&(am=="")){$("input#ssid_2g").textbox("setError",$.su.CHAR.ERROR["00000040"]);return false}}var an=$("input#encryption_2g").radio("getValue");if(an=="none"){return true}if(an=="psk"){var ag=$("input#psk_key_2g").textbox("getValue");var af=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(af.test(ag)){return true}else{$("input#psk_key_2g").textbox("setError",$.su.CHAR.ERROR["00000066"]);return false}}if(an=="wep"){var ah=$("input#wep_select_2g").combobox("getValue");var ae=ah[0];var ac="input#wep_key"+ae+"_2g";var al="input#wep_format"+ae+"_2g";var ao=$(al).radio("getValue");var ag=$(ac).textbox("getValue");var ak=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{5}|[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{13})$/;var ai=/^([0-9a-fA-F]{10}|[0-9a-fA-F]{26})$/;if(ao=="asic"){if(ak.test(ag)){return true}else{$(ac).textbox("setError",$.su.CHAR.ERROR["00000120"]);return false}}else{if(ai.test(ag)){return true}else{$(ac).textbox("setError",$.su.CHAR.ERROR["00000121"]);return false}}}},submitBtn:"default"}).on("ev_loadData",function(af,ae){if(ae.encryption==""||!ae.encryption){$("#encryption_2g").radio("setValue","none")}if(ae.wep_mode==""||!ae.wep_mode){$("#wep_mode_2g").radio("setValue","open")}if(ae.wep_format1==""||!ae.wep_format1){$("#wep_format1_2g").radio("setValue","hex")}if(ae.wep_format2==""||!ae.wep_format2){$("#wep_format2_2g").radio("setValue","hex")}if(ae.wep_format3==""||!ae.wep_format3){$("#wep_format3_2g").radio("setValue","hex")}if(ae.wep_format4==""||!ae.wep_format4){$("#wep_format4_2g").radio("setValue","hex")}Q();var ac=ae.extinfo.wds2g_wds5g_compatible;if(ac=="no"){var ad=ae.enable;if(ad=="on"){a=true}else{a=false}}if(ae.extinfo.support_wds_dualmode=="no"){x=false;$("#wds_mode_2g").combobox("disable");$("#wds_mode_2g").combobox("hide")}l=ae.disabled}).on("beforeSubmit",function(){if($("form#w24g-wds-setting").form("validate")){var ac=$("#enable_2g").checkbox("getValue");if(ac.length){$("#syspara_survey_2g").button("disable");clearTimeout(L);L=setTimeout(function(){$("#syspara_survey_2g").button("enable")},6000)}}});$("div#wps").panel({title:$.su.CHAR.SYSPARA.WPS,collapsible:false});$("input#wps_status").checkbox({fieldLabel:$.su.CHAR.SYSPARA.WPS,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ENABLE_WPS,uncheckedValue:"off",inputValue:"on"}]});$("form#wps-setting").form({proxy:{url:V},fields:[{name:"wps",mapping:"wps"}],submitBtn:"default"});$("div#nat").panel({title:$.su.CHAR.SYSPARA.NAT,collapsible:false});$("input#nat_enable").checkbox({fieldLabel:$.su.CHAR.SYSPARA.NAT,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ENABLE_NAT,uncheckedValue:"off",inputValue:"on"}]});$("input#nat_boost_enable").checkbox({fieldLabel:$.su.CHAR.SYSPARA.NAT_BOOST,tips:"",labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ENABLE_NAT_BOOST,uncheckedValue:"off",inputValue:"on"}]});g.read({},function(ad){var ac=ad.boost_qos_compatible;if(ac=="no"){qosenable=ad.enable;if(qosenable=="on"){$("input#nat_boost_enable").checkbox("disable");$("input#nat_boost_enable").checkbox("setTips",$.su.CHAR.ERROR["00000119"])}else{P.read({},function(ae){var af=ae.boost_traffic_compatible;if(af=="no"){b=ae.enable;if(b=="on"){$("input#nat_boost_enable").checkbox("disable");$("input#nat_boost_enable").checkbox("setTips",$.su.CHAR.ERROR["00000119"])}}})}}});$("input#nat_save_btn").button({text:$.su.CHAR.OPERATION.SAVE,handler:function(){var ad="";var ac=$("#nat_boost_enable").checkbox("getValue");if(ac.length==0){ad="off"}else{ad="on"}if(U!=ad){$("#notice_nat_boost").msg("show")}else{$("#nat-setting").form("submit")}},cls:"submit submitBtn"});$("form#nat-setting").form({proxy:{url:k},fields:[{name:"enable",mapping:"enable"},{name:"boost_enable",mapping:"hw_enable"}],submitBtn:"#nat_save_btn"}).on("ev_loadData",function(ad,ac){J=ac.reboot_time*1000||J;U=ac.hw_enable;z=ac.boost_support;if(z=="yes"){$("input#nat_boost_enable").checkbox("show")}else{$("input#nat_boost_enable").checkbox("hide")}});$("div#level").panel({title:$.su.CHAR.SYSPARA.DOS_PROTECTION,collapsible:false});$("#syspara_level_icmp").html($.su.CHAR.SYSPARA.ICMP);$("#icmp_low").textbox({fieldLabel:$.su.CHAR.SYSPARA.LOW,tips:$.su.CHAR.SYSPARA.UNIT,tipsCls:"m",vtype:"number",maxLength:4,allowBlank:false,validator:function(ac){if((ac>=E)&&(ac<=f)){return true}else{return $.su.CHAR.ERROR["00000034"]}},inputCls:"s",labelCls:"xxs"});$("#icmp_middle").textbox({fieldLabel:$.su.CHAR.SYSPARA.MIDDLE,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ac){if((ac>=E)&&(ac<=f)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#icmp_high").textbox({fieldLabel:$.su.CHAR.SYSPARA.HIGH,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ac){if((ac>=E)&&(ac<=f)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#syspara_level_udp").html($.su.CHAR.SYSPARA.UDP);$("#udp_low").textbox({fieldLabel:$.su.CHAR.SYSPARA.LOW,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ac){if((ac>=E)&&(ac<=f)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#udp_middle").textbox({fieldLabel:$.su.CHAR.SYSPARA.MIDDLE,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ac){if((ac>=E)&&(ac<=f)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#udp_high").textbox({fieldLabel:$.su.CHAR.SYSPARA.HIGH,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ac){if((ac>=E)&&(ac<=f)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#syspara_level_tcp").html($.su.CHAR.SYSPARA.TCP);$("#tcp_low").textbox({fieldLabel:$.su.CHAR.SYSPARA.LOW,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ac){if((ac>=E)&&(ac<=f)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#tcp_middle").textbox({fieldLabel:$.su.CHAR.SYSPARA.MIDDLE,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ac){if((ac>=E)&&(ac<=f)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#tcp_high").textbox({fieldLabel:$.su.CHAR.SYSPARA.HIGH,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ac){if((ac>=E)&&(ac<=f)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("form#level-setting").form({proxy:{url:ab},fields:[{name:"icmp_low",mapping:"icmp_low"},{name:"icmp_middle",mapping:"icmp_middle"},{name:"icmp_high",mapping:"icmp_high"},{name:"udp_low",mapping:"udp_low"},{name:"udp_middle",mapping:"udp_middle"},{name:"udp_high",mapping:"udp_high"},{name:"syn_low",mapping:"syn_low"},{name:"syn_middle",mapping:"syn_middle"},{name:"syn_high",mapping:"syn_high"}],validator:function(){var aj=parseInt($("#icmp_low").textbox("getValue"),10);var ah=parseInt($("#icmp_middle").textbox("getValue"),10);var ak=parseInt($("#icmp_high").textbox("getValue"),10);if(aj<ah){$("#icmp_middle").textbox("setError",$.su.CHAR.ERROR["00000032"]);return false}if(ah<ak){$("#icmp_high").textbox("setError",$.su.CHAR.ERROR["00000033"]);return false}var ag=parseInt($("#udp_low").textbox("getValue"),10);var ad=parseInt($("#udp_middle").textbox("getValue"),10);var ai=parseInt($("#udp_high").textbox("getValue"),10);if(ag<ad){$("#udp_middle").textbox("setError",$.su.CHAR.ERROR["00000032"]);return false}if(ad<ai){$("#udp_high").textbox("setError",$.su.CHAR.ERROR["00000033"]);return false}var af=parseInt($("#tcp_low").textbox("getValue"),10);var ac=parseInt($("#tcp_middle").textbox("getValue"),10);var ae=parseInt($("#tcp_high").textbox("getValue"),10);if(af<ac){$("#tcp_middle").textbox("setError",$.su.CHAR.ERROR["00000032"]);return false}if(ac<ae){$("#tcp_high").textbox("setError",$.su.CHAR.ERROR["00000033"]);return false}return true},autoLoad:true,submitBtn:"default"});$("div#debug-mode").panel({title:$.su.CHAR.SYSPARA.SYSLOG,collapsible:false});$("input#debug-mode-status").checkbox({fieldLabel:$.su.CHAR.SYSPARA.DEBUG_MODE,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ENABLE_DEBUG_MODE,uncheckedValue:"off",inputValue:"on"}]});$("form#debug-mode-setting").form({proxy:{url:i},fields:[{name:"debug_mode"}],submitBtn:"default"});$("div#survey").msg({autoshow:false,title:$.su.CHAR.SYSPARA.SURVEY,cls:"xxl",type:"window"});var r=new $.su.Store({proxy:{url:y,timeout:30000},fields:[{name:"bssid"},{name:"ssid"},{name:"signal"},{name:"channel"},{name:"encryption"}],autoLoad:false});grid_suvery_2g=$("div#result_2g").grid({store:r,minLines:0,maxLines:5,columns:[{text:$.su.CHAR.GRID.ID,xtype:"rownumberer",width:40},{text:$.su.CHAR.SYSPARA.SSID,width:130,dataIndex:"ssid"},{text:$.su.CHAR.SYSPARA.MAC_ADDRESS,width:140,dataIndex:"bssid"},{text:$.su.CHAR.SYSPARA.SIGNAL,width:100,dataIndex:"signal",renderer:function(ad){var ac="";var ae=ad.toString();switch(ae){case"0":case"1":case"2":case"3":case"4":case"5":ac+='<span class="signal-level-'+ae+' signal-icon"></span>';break;default:ac+='<span class="signal-level-0 signal-icon"></span>';break}return ac}},{text:$.su.CHAR.SYSPARA.CHANNEL,width:100,dataIndex:"channel"},{text:$.su.CHAR.SYSPARA.SECURITY,width:100,dataIndex:"encryption",renderer:function(ac){if(ac.toUpperCase()=="NONE"){return $.su.CHAR.SYSPARA.NONE}else{return ac.toUpperCase()}}},{text:$.su.CHAR.GRID.OPERATION,renderer:function(ae,ac,ad){return'<a href="void(0);" index="'+ac+'" class="choose" >'+$.su.CHAR.OPERATION.CHOOSE+"</a>"}}],operation:[{xtype:"totalCount",cls:"left",fieldLabel:$.su.CHAR.SYSPARA.AP_NUMBER},{xtype:"button",text:$.su.CHAR.OPERATION.REFRESH,id:"refreshBtn_2g",iconCls:"btn-refresh",handler:function(ac){ac.stopPropagation();ac.preventDefault();$("#refreshBtn_2g").button("disable");grid_suvery_2g.grid("runProgress");grid_suvery_2g.grid("getStore").load({},function(){grid_suvery_2g.grid("prompt",true);$("#refreshBtn_2g").button("enable")},function(){grid_suvery_2g.grid("prompt",false);$("#refreshBtn_2g").button("enable")},function(){grid_suvery_2g.grid("prompt",false);enableButton()});return true}}]}).on("ev_load",function(ae,ac){var ad=$(this);$(ac).each(function(ag,ah){var af=ah.encryption.toUpperCase();if(af!="NONE"&&af!="WEP"&&af!="PSK"){ad.grid("disableRow",ag)}})});$("div#result_2g").delegate("a.choose","click",function(aj){var ae=$("div#result_2g").grid("getStore");var af=$(this).attr("index");aj.preventDefault();var ah=$(this).parents("tr.grid-content-tr")[0];var ad=ae.data[af].bssid;var ai=ae.data[af].ssid;var ag=ae.data[af].channel;H=ag;var ac=$(ah).find("td.grid-content-td-encryption span").eq(0).html().toLowerCase();if(ac=="no security"){ac="none"}if(ac!="none"&&ac!="wep"&&ac!="psk"){return}$("input#ssid_2g").textbox("setValue",ai);$("input#bssid_2g").textbox("setValue",ad);$("#encryption_2g").radio("setValue",ac);$("div#survey").msg("close")});$("input#wep_select_2g").combobox({fieldLabel:$.su.CHAR.SYSPARA.WEP_INDEX,labelCls:"l",items:[{value:"1",name:$.su.CHAR.SYSPARA.KEY1},{value:"2",name:$.su.CHAR.SYSPARA.KEY2},{value:"3",name:$.su.CHAR.SYSPARA.KEY3},{value:"4",name:$.su.CHAR.SYSPARA.KEY4}]}).on("ev_change",function(ag,ac,af){var ae=$("input#encryption_2g").radio("getValue");var ad=af[0];$("#wpa_cnt_24g").fieldset((ae=="psk")?"show":"hide");$("#wep_cnt_24g").fieldset((ae=="wep")?"show":"hide");$("#key1_cnt_2g").fieldset(((ae=="wep")&&ad=="1")?"show":"hide");$("#key2_cnt_2g").fieldset(((ae=="wep")&&ad=="2")?"show":"hide");$("#key3_cnt_2g").fieldset(((ae=="wep")&&ad=="3")?"show":"hide");$("#key4_cnt_2g").fieldset(((ae=="wep")&&ad=="4")?"show":"hide")});$("input#wep_select_2g").combobox("hide");$("input#wep_select_2g").combobox("setValue","1");$("#notice_2g").msg({autoshow:false,cls:"xl",okHandler:function(){$("#w24g-setting").form("submit")},cls:"m warning",cancelHandler:function(){return true},type:"prompt"});$("#notice_content_2g").html($.su.CHAR.SYSPARA.NOTICE);$("#factory_note").html($.su.CHAR.SYSPARA.NOTICE_NAT_REBOOT);$("#notice_content_nat_boost").html($.su.CHAR.SYSPARA.NOTICE_NAT_BOOST);$("#notice_nat_boost").msg({autoshow:false,cls:"xl",okHandler:function(){$("#nat-setting").form("submit",{},function(){},null,null,false);K.progressbar("animate",0,1,J,function(){if(localStorage){localStorage.setItem("token","")}location.href="http://tplinkwifi.net"});K.progressbar("show");$("#reboot_nat_boost").msg("show");$("#notice_nat_boost").msg("hide")},cls:"m warning",cancelHandler:function(){return true},type:"confirm"});$("#reboot_nat_boost").msg({autoshow:false,cls:"xl",cls:"m warning",type:"window",closeBtn:false});var K=$("input#factory_pro_bar").progressbar({fieldLabel:null,cls:"inline",width:300,height:6,value:0});var T=new $.su.Proxy({url:O});T.read({},function(ad){if(typeof ad=="undefined"){return}var ac=ad.extinfo.wds_guest_compatible;aa=ad.channel;w=ad.disabled;t=ad.disabled_all;$("input#shortgi_2g").checkbox("disable");if(ad.hwmode=="n"||ad.hwmode=="bgn"||ad.hwmode=="gn"){$("input#shortgi_2g").checkbox("enable")}$("div#feature2g_container").show();if(w=="on"){Z=true}else{if(t=="on"){Y=true;$("input#enable_2g").checkbox("disable");$("input#enable_2g").checkbox("setTips",$.su.CHAR.SYSPARA.ENABLE_TIPS);$("#ssid_cnt_2g").fieldset("hide")}else{if($("input#enable_2g").checkbox("getValue")[0]=="enable"){$("#ssid_cnt_2g").fieldset("show")}if(ac=="no"){D.read({},function(ag){var ae=ag.extinfo.wds_guest_compatible;var af=ag.enable;if(ae=="no"){if(af=="on"){W=true;$("input#enable_2g").checkbox("disable");$("input#enable_2g").checkbox("setTips",$.su.CHAR.ERROR["00000113"])}}})}}}if(l=="on"){$("form#w24g-wds-setting").form("disable");$("#syspara_survey_2g").button("disable");$("#wds_note_title_2g").removeClass("hidden")}});var p=["SYSTEM_PARA_WIRELESS","SYSTEM_PARA_WDS","SYSTEM_PARA_WPS","SYSTEM_PARA_NAT","SYSTEM_PARA_DOS","SYSTEM_PARA_DUPLEX","SYSTEM_DEBUG_MODE"];setTimeout(function(){if(c=="no"){p.splice(p.indexOf("SYSTEM_PARA_WDS"),1)}var ac=new $.su.Help({container:"div#help_system_para",content:p,afterLoad:function(){if(z=="yes"){$("#sys_para_nat_boost").show();$("#sys_para_nat_boost_note").show()}else{$("#sys_para_nat_boost").hide();$("#sys_para_nat_boost_note").hide()}if(h){$("#help_syspara_wifi_title").html($.su.CHAR.SYSPARA.HELP_TRIBAND_WIFI_TITLE);$("#help_syspara_wds_title").html($.su.CHAR.SYSPARA.HELP_TRIBAND_WDS_TITLE)}else{$("#help_syspara_wifi_title").html($.su.CHAR.SYSPARA.HELP_DBLBAND_WIFI_TITLE);$("#help_syspara_wds_title").html($.su.CHAR.SYSPARA.HELP_DBLBAND_WDS_TITLE)}if(x){$("#wds_mode").show()}else{$("#wds_mode").hide()}}});$.su.layout.doLayout()},1800)});</script>
</body>
</html>
