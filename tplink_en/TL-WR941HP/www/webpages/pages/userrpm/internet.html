<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Internet</title>
</head>
<body>
<div class="func-container">
    <div id="internet">
		<div id="internet_ipv4">
			<div id="ip-setting">
				<input class="inet4_conntype" id="radio_inet4_conntype" name="conntype"/>
			</div>
			<div id="dynamic-config" class="conn-type-party hidden">
                <div id="host_name_confirm" class="wireless-confirm-msg warning">
                     <h4 class="title">
                        <span class="icon"></span>
                        <span class="text text1" id="host_name_confirm_p"></span>
                    </h4>
                </div>
				<div id="dynamic-setting">
					<input class="ip-address" id="inet4_dyn_ip_address_address" name="ipaddr" />
					<input class="subnet-mask" id="inet4_dyn_submask" name="netmask" />
					<input class="default-gateway" id="inet4_dyn_dft_gateway" name="gateway" />
					<input class="primary-dns" id="dynamic-primary-dns" name="pri_dns" />
					<input class="second-dns" id="dynamic-second-dns" name="snd_dns" />
					<div class="part-seperate button-context">
						<button class="renew" id="ipv4_dynamic_renew" name="dynamic-renew-btn" type="button"></button>
						<button class="release" id="ipv4_dynamic_release" name="dynamic-release-btn" type="button"></button>
						<span id="dhcp_link_status" class="dhcp-link-status hidden"></span>
					</div>
					<div id="dynamic_adv_btn" class="advanced-block part-seperate" type="button">
						<span class="advanced-icon"></span>
						<span class="advanced-text"></span>
					</div>
					<div id="dynamic_basic_btn" class="basic-block part-seperate hidden" type="button">
						<span class="basic-icon"></span>
						<span class="basic-text"></span>
					</div>
					<div id="dynamic-adv" class="hidden">
						<input class="dns-mode" id="inet4_dyn_dns_mode" name="dns_mode" />
						<div id="inet4_dyn_dns_dyn_part">
							<input class="" id="inet4_dyn_dyn_pridns" name="dyn_pridns" />
							<input class="" id="inet4_dyn_dyn_snddns" name="dyn_snddns" />
						</div>
						<div id="inet4_dyn_dns_manual_part">
							<input class="" id="inet4_dyn_manual_pridns" name="manual_pridns" />
							<input class="" id="inet4_dyn_manual_snddns" name="manual_snddns" />
						</div>
						<input class="mtu-size" id="inet4_dyn_mtu_size" name="mtu" />
						<input class="host-name" id="inet4_dyn_hostname" name="hostname" />
						<input class="get-ip-with-unicast-dhcp" id="inet4_dyn_unicast_dhcp" name="unicast" />
					</div>
				</div>
			</div>
			<div id="static-ip-config" class="conn-type-party hidden">
				<div id="static-setting">
					<input class="ip-address" id="inet4_static_ip_address" name="ipaddr" />
					<input class="subnet-mask" id="inet4_static_submask" name="netmask" />
					<input class="default-gateway" id="inet4_static_dft_gateway" name="gateway" />
					<input class="primary-dns" id="inet4_static_pridns" name="pri_dns" />
					<input class="second-dns" id="inet4_static_snddns" name="snd_dns" />
					<button id="static-ip-adv-btn" class="advanced" type="button"></button>
					<button id="static-ip-basic-btn" class="basic hidden" type="button"></button>
					<input class="mtu-size" id="inet4_static_mtu_size" name="mtu" />
				</div>
			</div>
			<div id="pppoe-config" class="conn-type-party hidden">
				<div id="pppoe-setting">
                    <input type="hidden" id="pppshare" name="share" value="0" />
					<input id="inet4_pppoe_username" name="username" type="text"/>
					<input id="inet4_pppoe_password" name="password" type="text"/>
					<input id="inet4_pppoe_inet_ip" name="inet_ip" type="text"/>
					<input id="inet4_pppoe_inet_pridns" name="inet_pridns" type="text"/>
					<input id="inet4_pppoe_inet_snddns" name="inet_snddns" type="text"/>
					<div id="pppoe_adv_btn" class="advanced-block part-seperate" type="button">
						<span class="advanced-icon"></span>
						<span class="advanced-text"></span>
					</div>
					<div id="pppoe_basic_btn" class="basic-block part-seperate hidden" type="button">
						<span class="basic-icon"></span>
						<span class="basic-text"></span>
					</div>
					<div id="pppoe-adv" class="hidden">
						<input class="sec-conn" id="inet4_pppoe_sec_conn" name="snd_conn"/>
						<div id="pppoe_dyn_part" class="pppoe-dynamic">
							<input id="inet4_pppoe_dyn_ip" name="dyn_ip"/>
							<input id="inet4_pppoe_dyn_submask" name="dyn_netmask"/>
							<div class="part-seperate button-context">	
								<button id="pppoe_renew_btn" name="pppoe_renew_btn" type="button"></button>
								<button id="pppoe_release_btn" name="pppoe_release_btn" type="button"></button>
							</div>
						</div>
						<div id="pppoe_static_part" class="pppoe-static hidden">
							<input id="inet4_pppoe_static_ip" name="static_ip" class=""/>
							<input id="inet4_pppoe_static_submask" name="static_netmask" class=""/>
						</div>
						<input id="inet4_pppoe_mtu_size" name="mtu" class="mtu-size"/>
						<input id="inet4_pppoe_svr_name" name="server" class=""/>
						<input id="inet4_pppoe_access_name" name="access" class=""/>
						<input id="inet4_pppoe_interval" name="interval" class=""/>
						<input id="inet4_pppoe_ip_mode" name="ip_mode" class="" />
						<input id="inet4_pppoe_specific_ip" name="specific_ip" class=""/>
						<input id="inet4_pppoe_specific_ip_read" name="" class=""/>
						<input id="inet4_pppoe_dns_mode" name="dns_mode" class="inet4_pppoe_dns_mode" />
						<div id="inet4_pppoe_dns_dyn_part">
							<input id="inet4_pppoe_dyn_pridns" name="dyn_pridns" class=""  />
							<input id="inet4_pppoe_dyn_snddns" name="dyn_snddns" class="" />
						</div>
						<div id="inet4_pppoe_dns_static_part">
							<input id="inet4_pppoe_static_pridns" name="static_pridns" class=""  />
							<input id="inet4_pppoe_static_snddns" name="static_snddns" class="" />
						</div>
						<input id="inet4_pppoe_conn_mode" name="conn_mode" class="" />
						<div id="pppoe-demand-part">
							<input id="inet4_pppoe_demand_idle" name="demand_idle" class="" />
						</div>
						<div id="pppoe-time-part" class="hidden">
							<div class="mt5">
								<input id="inet4_pppoe_time_start" name="time_start" class="" />
								<span class="inline to"></span>
								<div id="hour_cnt" class="mp5">
								<input id="inet4_pppoe_time_end" name="time_end" class="" />
								</div>
							</div>
						</div>
						<div id="pppoe-manually-part" class="hidden">
							<input id="inet4_pppoe_manual_idle" name="manual_idle" class="" />
						</div>
					</div>
					<div class="part-seperate button-context">
						<button id="pppoe_conn_btn" type="button"></button>
						<button id="pppoe_disconn_btn" type="button"></button>
						<input id="inet4_pppoe_status"/>
					</div>
					<button id="pppoe_total_save" type="button"></button>
				</div>
			</div>
			<div id="bigpond-config" class="conn-type-party hidden">
				<div id="bigpond-setting">
					<input id="inet4_bp_username" name="username" type="text"/>
					<input id="inet4_bp_password" name="password" type="text"/>
					<input id="inet4_bp_auth_server" name="server" type="text"/>
					<input id="inet4_bp_auth_domain" name="domain" type="text"/>
					<input id="inet4_bp_mtu_size" name="mtu" class="mtu-size"/>
					<input id="inet4_bp_conn_mode" name="conn_mode" class="" />
					<div id="bigpond_demand_part" class="hidden">
						<input id="inet4_bp_demand_idle" name="demand_idle" class="" />
					</div>
					<div id="bigpond_manually_part" class="hidden">
						<input id="inet4_bp_manual_idle" name="manual_idle" class="" />
					</div>
					<div class="part-seperate button-context">
						<button id="bigpond_conn_btn" type="button"></button>
						<button id="bigpond_disconn_btn" type="button"></button>
						<input id="inet4_bp_status"/>
					</div>
				</div>
			</div>
			<div id="l2tp-config" class="conn-type-party hidden">
				<div id="l2tp-setting">
					<input id="inet4_l2tp_username" name="username" type="text"/>
					<input id="inet4_l2tp_password" name="password" type="text"/>
					<input id="inet4_l2tp_inet_ip" name="inet_ip" type="text"/>
					<input id="inet4_l2tp_pri_dns" name="inet_pridns" type="text"/>
					<input id="inet4_l2tp_snd_dns" name="inet_snddns" type="text"/>
					<input class="sec-conn" id="inet4_l2tp_snd_conn" name="snd_conn"/>
					<div id="l2tp_dynamic" class="l2tp-dynamic">
						<input id="inet4_l2tp_dyn_svr_ip" name="dyn_server"/>
						<input id="inet4_l2tp_dyn_ip" name="dyn_ip"/>
						<input id="inet4_l2tp_dyn_submask" name="dyn_netmask"/>
						<input id="inet4_l2tp_dyn_gateway" name="dyn_gateway"/>
						<input id="inet4_l2tp_dyn_pri_dns" name="dyn_pridns"/>
						<input id="inet4_l2tp_dyn_snd_dns" name="dyn_snddns"/>
					</div>
					<div id="l2tp_static" class="l2tp-static hidden">
						<input id="inet4_l2tp_static_svr_ip" name="static_server"/>
						<input id="inet4_l2tp_static_ip" name="static_ip" class=""/>
						<input id="inet4_l2tp_static_submask" name="static_netmask" class=""/>
						<input id="inet4_l2tp_static_gateway" name="static_gateway"/>
						<input id="inet4_l2tp_static_pri_dns" name="static_pridns"/>
						<input id="inet4_l2tp_static_snd_dns" name="static_snddns"/>
					</div>
					<input id="inet4_l2tp_mtu_size" name="mtu" class="mtu-size"/>
					<input id="inet4_l2tp_conn_mode" name="conn_mode" class="" />
					<div id="l2tp_demand_part">
						<input id="inet4_l2tp_demand_idle" name="demand_idle" class="" />
					</div>
					<div id="l2tp_manually_part" class="hidden">
						<input id="inet4_l2tp_manual_idle" name="manual_idle" class="" />
					</div>
					<div class="part-seperate button-context">
						<button id="l2tp_conn_btn" type="button"></button>
						<button id="l2tp_disconn_btn" type="button"></button>
						<input id="inet4_l2tp_status"/>
					</div>
					<button id="l2tp_total_save" type="button"></button>
				</div>
			</div>
			<div id="pptp-config" class="conn-type-party hidden">
				<div id="pptp-setting">
					<input id="inet4_pptp_username" name="username" type="text"/>
					<input id="inet4_pptp_password" name="password" type="text"/>
					<input id="inet4_pptp_inet_ip" name="inet_ip" type="text"/>
					<input id="inet4_pptp_pri_dns" name="inet_pridns" type="text"/>
					<input id="inet4_pptp_snd_dns" name="inet_snddns" type="text"/>
					<input class="sec-conn" id="inet4_pptp_snd_conn" name="snd_conn"/>
					<div id="pptp_dynamic" class="pptp-dynamic">
						<input id="inet4_pptp_dyn_svr_ip" name="dyn_server"/>
						<input id="inet4_pptp_dyn_ip" name="dyn_ip"/>
						<input id="inet4_pptp_dyn_submask" name="dyn_netmask"/>
						<input id="inet4_pptp_dyn_gateway" name="dyn_gateway"/>
						<input id="inet4_pptp_dyn_pri_dns" name="dyn_pridns"/>
						<input id="inet4_pptp_dyn_snd_dns" name="dyn_snddns"/>
					</div>
					<div id="pptp_static" class="pptp-static hidden">
						<input id="inet4_pptp_static_svr_ip" name="static_server"/>
						<input id="inet4_pptp_static_ip" name="static_ip" class=""/>
						<input id="inet4_pptp_static_submask" name="static_netmask" class=""/>
						<input id="inet4_pptp_static_gateway" name="static_gateway"/>
						<input id="inet4_pptp_static_pri_dns" name="static_pridns"/>
						<input id="inet4_pptp_static_snd_dns" name="static_snddns"/>
					</div>
					<input id="inet4_pptp_mtu_size" name="mtu" class="mtu-size"/>
					<input id="inet4_pptp_conn_mode" name="conn_mode" class="" />
					<div id="pptp_demand_part">
						<input id="inet4_pptp_demand_idle" name="demand_idle" class="" />
					</div>
					<div id="pptp_manually_part" class="hidden">
						<input id="inet4_pptp_manual_idle" name="manual_idle" class="" />
					</div>
					<div class="part-seperate button-context">
						<button id="pptp_conn_btn" type="button"></button>
						<button id="pptp_disconn_btn" type="button"></button>
						<input id="inet4_pptp_status"/>
					</div>
					<button id="pptp_total_save" type="button"></button>
				</div>
			</div>
		</div>
    </div>
    <div id="internet-mac">
    	<form id="internet_mac_form">
			<input id="mac-clone" name="mac_clone_type" type="radio"/>
			<input id="default-mac-des" name="mac_default" type="text"/>
			<input id="computer-mac-des" name="mac_computer" type="text"/>
			<input id="custom-mac-des" name="mac_custom" type="text"/>
			<input id="custom-mac-des2" name="mac_custom2" type="text"/> 
		</form>
	</div>
	<div id="internet_help"></div>
	<div id="empty_confirm_msg"  class="hidden warning">
	    <h4 class="title">
	        <span class="icon"></span>
	        <span class="text" id="empty_confirm_msg_text"></span>
	    </h4>   
	</div>
</div>
<script type="text/javascript">try{$}catch(e){location.href="/"}$(document).ready(function(F){$("div.func-container").page({title:$.su.CHAR.INTERNET.TITLE,help:""});var f=0;var A=0;var G=0;var s=0;var z=0;var h=0;var o="";var u="0";var J={};var j=new $.su.Proxy({url:$.su.url("/admin/network?form=status_ipv4")});j.read({},function(K){f=K.lan_ipv4_ipaddr;A=K.lan_ipv4_netmask;G=K.wan_ipv4_ipaddr;s=K.wan_ipv4_netmask;K.wan_ipv4_snd_ipaddr?z=K.wan_ipv4_snd_ipaddr:1;K.wan_ipv4_snd_netmask?h=K.wan_ipv4_snd_netmask:1});var i=$("div#empty_confirm_msg").msg({type:"confirm",closeBtn:false,cls:"l",okHandler:function(K){switch(o){case"l2tp":a.form("submit");break;case"pppoe":y.form("submit");break;case"pptp":B.form("submit");break;default:}},noHandler:function(){i.msg("close")}});$("span#empty_confirm_msg_text").html($.su.CHAR.ERROR["00000122"]);$("input#mac-clone").radio({fieldLabel:null,items:[{boxlabel:$.su.CHAR.INTERNET.USE_DEFAULT_MAC,inputValue:"default",id:"default-mac",name:"mac_clone_type",content:"#default-mac-des",contentCls:"inline-block"},{boxlabel:$.su.CHAR.INTERNET.USE_COMPUTER_MAC,inputValue:"computer",id:"computer-mac",name:"mac_clone_type",content:"#computer-mac-des",contentCls:"inline-block"},{boxlabel:$.su.CHAR.INTERNET.USE_CUSTOM_MAC,inputValue:"custom",id:"custom-mac",name:"mac_clone_type",content:"#custom-mac-des",contentCls:"inline-block"}]}).on("ev_change",function(M,K,L){if(L=="custom"){$("input#default-mac-des").textbox("hide");$("input#computer-mac-des").textbox("hide");$("input#custom-mac-des").textbox("show");$("input#custom-mac-des").textbox("enable")}else{if(L=="default"){$("input#default-mac-des").textbox("show");$("input#computer-mac-des").textbox("hide");$("input#custom-mac-des").textbox("hide");$("input#custom-mac-des").textbox("disable")}else{$("input#default-mac-des").textbox("hide");$("input#computer-mac-des").textbox("show");$("input#custom-mac-des").textbox("hide");$("input#custom-mac-des").textbox("disable")}}});$("input#default-mac-des").textbox({fieldLabel:null,vtype:"mac",allowBlank:false,maxLength:17,cls:"custom-mac-value"});$("input#default-mac-des").textbox("disable");$("input#computer-mac-des").textbox({fieldLabel:null,vtype:"mac",allowBlank:false,maxLength:17,cls:"custom-mac-value"});$("input#computer-mac-des").textbox("disable");$("input#custom-mac-des").textbox({fieldLabel:null,vtype:"mac",allowBlank:false,maxLength:17,cls:"custom-mac-value"});$("input#custom-mac-des2").textbox({fieldLabel:null,allowBlank:true,cls:"hidden",maxLength:17});var C=new $.su.Proxy({url:$.su.url("/admin/network?form=mac_clone_advanced")});$("#internet_mac_form").form({proxy:C,fields:[{name:"mac_clone_type",mapping:"mac_clone_type"},{name:"mac_default",mapping:"mac_default"},{name:"mac_computer",mapping:"mac_computer"},{name:"mac_custom",mapping:"mac_custom"}],submitBtn:"default"}).on("ev_loadData",function(L,K){if(K.mac_clone_type==""||!K.mac_clone_type){$("#mac-clone").radio("setValue","default")}});$("div#internet-mac").panel({title:$.su.CHAR.INTERNET.MAC_CLONE,collapsible:false});var x;var r;var b;$("div#internet").panel({title:$.su.CHAR.INTERNET.IPV4,collapsible:false});var I=new $.su.Proxy({url:$.su.url("/admin/network?form=wan_ipv4_status")});var w=new $.su.Proxy({url:$.su.url("/admin/network?form=wan_ipv4_dynamic")});var g=new $.su.Proxy({url:$.su.url("/admin/network?form=wan_ipv4_staticip")});var d=new $.su.Proxy({url:$.su.url("/admin/network?form=wan_ipv4_pppoe")});var E=new $.su.Proxy({url:$.su.url("/admin/network?form=wan_ipv4_pptp")});var H=new $.su.Proxy({url:$.su.url("/admin/network?form=wan_ipv4_l2tp")});var q=new $.su.Proxy({url:$.su.url("/admin/network?form=wan_ipv4_bigpond")});$("div#ip-setting").form({proxy:I,fields:[{name:"conntype",mapping:"conntype"}],submitBtn:false,autoLoad:false});$("div#dynamic-setting").form({proxy:w,fields:[{name:"ipaddr",mapping:"ipaddr"},{name:"netmask",mapping:"netmask"},{name:"gateway",mapping:"gateway"},{name:"link_status",mapping:"link_status"},{name:"pri_dns",mapping:"pri_dns"},{name:"snd_dns",mapping:"snd_dns"},{name:"dns_mode",mapping:"dns_mode"},{name:"dyn_pridns",mapping:"dyn_pridns"},{name:"dyn_snddns",mapping:"dyn_snddns"},{name:"manual_pridns",mapping:"manual_pridns"},{name:"manual_snddns",mapping:"manual_snddns"},{name:"mtu",mapping:"mtu"},{name:"hostname",mapping:"hostname"},{name:"unicast",mapping:"unicast"}],submitBtn:"default",autoLoad:false,validator:function(){if($("input#inet4_dyn_dns_mode").radio("getValue")=="static"){var L=$("input#inet4_dyn_manual_pridns").textbox("getValue");var K=$("input#inet4_dyn_manual_snddns").textbox("getValue");if($.su.func.isSameNet(L,f,A)){$("div#dynamic-setting").form("setError",$.su.CHAR.ERROR["00000217"]);$("input#inet4_dyn_manual_pridns").textbox("setError");return false}if($.su.func.isSameNet(K,f,A)){$("div#dynamic-setting").form("setError",$.su.CHAR.ERROR["00000217"]);$("input#inet4_dyn_manual_snddns").textbox("setError");return false}}if($("div#dynamic-adv").css("display")!="none"){var M=$("input#inet4_dyn_hostname").textbox("getValue");var N=/[\~\!\@\#\$\%\^\&\*\(\)\+\=\|\\{\}\[\]\:\"\;\'\<\>\?\,\.\/]+/;if(N.test(M)){n.msg("show");return false}}return true}}).on("ev_loadData",function(L,K){if(K.dns_mode==""||!K.dns_mode){$("#inet4_dyn_dns_mode").radio("setValue","dynamic")}});$("div#static-setting").form({proxy:g,fields:[{name:"ipaddr",mapping:"ipaddr"},{name:"netmask",mapping:"netmask"},{name:"gateway",mapping:"gateway"},{name:"pri_dns",mapping:"pri_dns"},{name:"snd_dns",mapping:"snd_dns"},{name:"mtu",mapping:"mtu"}],submitBtn:"default",autoLoad:false,validator:function(){var M=$("input#inet4_static_ip_address").textbox("getValue");var O=$("input#inet4_static_submask").textbox("getValue");var N=$("input#inet4_static_dft_gateway").textbox("getValue");var L=$("input#inet4_static_pridns").textbox("getValue");var K=$("input#inet4_static_snddns").textbox("getValue");if(!$.su.func.isNetIpLegal(M,O)){$("div#static-setting").form("setError",$.su.CHAR.ERROR["00000059"]);$("input#inet4_static_ip_address").textbox("setError");$("input#inet4_static_submask").textbox("setError");return false}if($.su.func.isNetIp(M,O)||$.su.func.isBroadCastIp(M,O)){$("div#static-setting").form("setError",$.su.CHAR.ERROR["00000059"]);$("input#inet4_static_ip_address").textbox("setError");$("input#inet4_static_submask").textbox("setError");return false}if($.su.func.isSameNet(f,M,O)||$.su.func.isSameNet(M,f,A)){$("div#static-setting").form("setError",$.su.CHAR.ERROR["00000060"]);$("input#inet4_static_ip_address").textbox("setError");$("input#inet4_static_submask").textbox("setError");return false}if($.su.func.isSameNet(L,f,A)){$("div#static-setting").form("setError",$.su.CHAR.ERROR["00000217"]);$("input#inet4_static_pridns").textbox("setError");return false}if($.su.func.isSameNet(K,f,A)){$("div#static-setting").form("setError",$.su.CHAR.ERROR["00000217"]);$("input#inet4_static_snddns").textbox("setError");return false}return true}});var y=$("div#pppoe-setting").form({proxy:d,fields:[{name:"username",mapping:"username"},{name:"password",mapping:"password"},{name:"inet_ip",mapping:"inet_ip"},{name:"share",mapping:"share"},{name:"inet_pridns",mapping:"inet_pridns"},{name:"inet_snddns",mapping:"inet_snddns"},{name:"snd_conn",mapping:"snd_conn"},{name:"dyn_ip",mapping:"dyn_ip"},{name:"dyn_netmask",mapping:"dyn_netmask"},{name:"static_ip",mapping:"static_ip"},{name:"static_netmask",mapping:"static_netmask"},{name:"mtu",mapping:"mtu"},{name:"server",mapping:"server"},{name:"access",mapping:"access"},{name:"interval",mapping:"interval"},{name:"ip_mode",mapping:"ip_mode"},{name:"specific_ip",mapping:"specific_ip"},{name:"dns_mode",mapping:"dns_mode"},{name:"dyn_pridns",mapping:"dyn_pridns"},{name:"dyn_snddns",mapping:"dyn_snddns"},{name:"static_pridns",mapping:"static_pridns"},{name:"static_snddns",mapping:"static_snddns"},{name:"conn_mode",mapping:"conn_mode"},{name:"demand_idle",mapping:"demand_idle"},{name:"time_start",mapping:"time_start"},{name:"time_end",mapping:"time_end"},{name:"manual_idle",mapping:"manual_idle"}],submitBtn:"#pppoe_total_save",autoLoad:false,validator:function(){if($("input#inet4_pppoe_sec_conn").radio("getValue")=="static"){var N=$("input#inet4_pppoe_static_ip").textbox("getValue");var O=$("input#inet4_pppoe_static_submask").textbox("getValue");if(!$.su.func.isNetIpLegal(N,O)){$("div#pppoe-setting").form("setError",$.su.CHAR.ERROR["00000059"]);$("input#inet4_pppoe_static_ip").textbox("setError");$("input#inet4_pppoe_static_submask").textbox("setError");return false}if($.su.func.isNetIp(N,O)||$.su.func.isBroadCastIp(N,O)){$("div#pppoe-setting").form("setError",$.su.CHAR.ERROR["00000059"]);$("input#inet4_pppoe_static_ip").textbox("setError");$("input#inet4_pppoe_static_submask").textbox("setError");return false}if($.su.func.isSameNet(f,N,O)||$.su.func.isSameNet(N,f,A)){$("div#pppoe-setting").form("setError",$.su.CHAR.ERROR["00000060"]);$("input#inet4_pppoe_static_ip").textbox("setError");$("input#inet4_pppoe_static_submask").textbox("setError");return false}}if($("input#inet4_pppoe_dns_mode").radio("getValue")=="static"){var M=$("input#inet4_pppoe_static_pridns").textbox("getValue");var K=$("input#inet4_pppoe_static_snddns").textbox("getValue");if($.su.func.isSameNet(M,f,A)){$("div#pppoe-setting").form("setError",$.su.CHAR.ERROR["00000217"]);$("input#inet4_pppoe_static_pridns").textbox("setError");return false}if($.su.func.isSameNet(K,f,A)){$("div#pppoe-setting").form("setError",$.su.CHAR.ERROR["00000217"]);$("input#inet4_pppoe_static_snddns").textbox("setError");return false}}var P=parseInt($("input#inet4_pppoe_time_start").time("getValue").split(":")[0]+$("input#inet4_pppoe_time_start").time("getValue").split(":")[1],10);var L=parseInt($("input#inet4_pppoe_time_end").time("getValue").split(":")[0]+$("input#inet4_pppoe_time_end").time("getValue").split(":")[1],10);if(P>=L){$("div#pppoe-setting").form("setError",$.su.CHAR.ERROR["00000061"]);$("input#inet4_pppoe_time_end").time("setError");return false}return true}}).on("ev_loadData",function(K,L){if(L.specific_ip=="0.0.0.0"){$("input#inet4_pppoe_specific_ip").textbox("setValue","")}else{$("input#inet4_pppoe_specific_ip").textbox("setValue",L.specific_ip)}$("input#inet4_pppoe_specific_ip_read").textbox("setValue",L.specific_ip);if(L.snd_conn==""||!L.snd_conn){$("#inet4_pppoe_sec_conn").radio("setValue","dynamic")}if(L.ip_mode==""||!L.ip_mode){$("#inet4_pppoe_ip_mode").radio("setValue","static")}if(L.dns_mode==""||!L.dns_mode){$("#inet4_pppoe_dns_mode").radio("setValue","dynamic")}});$("button#pppoe_total_save").button({text:$.su.CHAR.OPERATION.SAVE,cls:"submit",handler:function(){if(y.form("validate")){var L=$("input#inet4_pppoe_username").textbox("getValue");var K=$("input#inet4_pppoe_password").password("getValue");if(L==""&&K==""){o="pppoe";i.msg("show")}else{y.form("submit")}}}});var a=$("div#l2tp-setting").form({proxy:H,fields:[{name:"username",mapping:"username"},{name:"password",mapping:"password"},{name:"inet_ip",mapping:"inet_ip"},{name:"inet_pridns",mapping:"inet_pridns"},{name:"inet_snddns",mapping:"inet_snddns"},{name:"snd_conn",mapping:"snd_conn"},{name:"dyn_server",mapping:"dyn_server"},{name:"dyn_ip",mapping:"dyn_ip"},{name:"dyn_netmask",mapping:"dyn_netmask"},{name:"dyn_gateway",mapping:"dyn_gateway"},{name:"dyn_pridns",mapping:"dyn_pridns"},{name:"dyn_snddns",mapping:"dyn_snddns"},{name:"static_pridns",mapping:"static_pridns"},{name:"static_snddns",mapping:"static_snddns"},{name:"static_server",mapping:"static_server"},{name:"static_ip",mapping:"static_ip"},{name:"static_netmask",mapping:"static_netmask"},{name:"static_gateway",mapping:"static_gateway"},{name:"static_pridns",mapping:"static_pridns"},{name:"static_snddns",mapping:"static_snddns"},{name:"mtu",mapping:"mtu"},{name:"conn_mode",mapping:"conn_mode"},{name:"demand_idle",mapping:"demand_idle"},{name:"manual_idle",mapping:"manual_idle"}],submitBtn:"#l2tp_total_save",autoLoad:false,validator:function(){if($("input#inet4_l2tp_snd_conn").radio("getValue")=="dynamic"){return true}var M=$("input#inet4_l2tp_static_ip").textbox("getValue");var O=$("input#inet4_l2tp_static_submask").textbox("getValue");var Q=$("input#inet4_l2tp_static_svr_ip").textbox("getValue");var L=$("input#inet4_l2tp_static_pri_dns").textbox("getValue");var K=$("input#inet4_l2tp_static_snd_dns").textbox("getValue");var P=new $.su.vtype("ip");var N=new $.su.vtype("domain");if(Q!=""&&P.validate(Q)==true&&!$.su.func.isSameNet(Q,M,O)){if($("input#inet4_l2tp_static_gateway").textbox("getValue")==""){$("input#inet4_l2tp_static_gateway").textbox("setError",$.su.CHAR.ERROR["00000062"]);return false}}if(Q!=""&&P.validate(Q)!=true){if(!$.su.func.isSameNet($("input#inet4_l2tp_static_pri_dns").textbox("getValue"),M,O)&&$("input#inet4_l2tp_static_gateway").textbox("getValue")==""){$("input#inet4_l2tp_static_gateway").textbox("setError",$.su.CHAR.ERROR["00000063"]);return false}if($("input#inet4_l2tp_static_pri_dns").textbox("getValue")==""){$("input#inet4_l2tp_static_pri_dns").textbox("setError",$.su.CHAR.ERROR["00000050"]);return false}}if(!$.su.func.isNetIpLegal(M,O)){$("div#l2tp-setting").form("setError",$.su.CHAR.ERROR["00000059"]);$("input#inet4_l2tp_static_ip").textbox("setError");$("input#inet4_l2tp_static_submask").textbox("setError");return false}if($.su.func.isNetIp(M,O)||$.su.func.isBroadCastIp(M,O)){$("div#l2tp-setting").form("setError",$.su.CHAR.ERROR["00000059"]);$("input#inet4_l2tp_static_ip").textbox("setError");$("input#inet4_l2tp_static_submask").textbox("setError");return false}if($.su.func.isSameNet(f,M,O)||$.su.func.isSameNet(M,f,A)){$("div#l2tp-setting").form("setError",$.su.CHAR.ERROR["00000060"]);$("input#inet4_l2tp_static_ip").textbox("setError");$("input#inet4_l2tp_static_submask").textbox("setError");return false}if($.su.func.isSameNet(L,f,A)){$("div#l2tp-setting").form("setError",$.su.CHAR.ERROR["00000217"]);$("input#inet4_l2tp_static_pri_dns").textbox("setError");return false}if($.su.func.isSameNet(K,f,A)){$("div#l2tp-setting").form("setError",$.su.CHAR.ERROR["00000217"]);$("input#inet4_l2tp_static_snd_dns").textbox("setError");return false}return true}}).on("ev_loadData",function(L,K){if(K.snd_conn==""||!K.snd_conn){$("#inet4_l2tp_snd_conn").radio("setValue","static")}if(K.conn_mode==""||!K.conn_mode){$("#inet4_l2tp_conn_mode").radio("setValue","manually")}});$("button#l2tp_total_save").button({text:$.su.CHAR.OPERATION.SAVE,cls:"submit",handler:function(){if(a.form("validate")){$("button#l2tp_total_save").button("disable");var L=$("input#inet4_l2tp_username").textbox("getValue");var K=$("input#inet4_l2tp_password").password("getValue");if(L==""&&K==""){o="l2tp";i.msg("show")}else{a.form("submit")}$("button#l2tp_total_save").button("enable")}}});var B=$("div#pptp-setting").form({proxy:E,fields:[{name:"username",mapping:"username"},{name:"password",mapping:"password"},{name:"inet_ip",mapping:"inet_ip"},{name:"inet_pridns",mapping:"inet_pridns"},{name:"inet_snddns",mapping:"inet_snddns"},{name:"snd_conn",mapping:"snd_conn"},{name:"dyn_server",mapping:"dyn_server"},{name:"dyn_ip",mapping:"dyn_ip"},{name:"dyn_netmask",mapping:"dyn_netmask"},{name:"dyn_gateway",mapping:"dyn_gateway"},{name:"dyn_pridns",mapping:"dyn_pridns"},{name:"dyn_snddns",mapping:"dyn_snddns"},{name:"static_pridns",mapping:"static_pridns"},{name:"static_snddns",mapping:"static_snddns"},{name:"static_server",mapping:"static_server"},{name:"static_ip",mapping:"static_ip"},{name:"static_netmask",mapping:"static_netmask"},{name:"static_gateway",mapping:"static_gateway"},{name:"static_pridns",mapping:"static_pridns"},{name:"static_snddns",mapping:"static_snddns"},{name:"mtu",mapping:"mtu"},{name:"conn_mode",mapping:"conn_mode"},{name:"demand_idle",mapping:"demand_idle"},{name:"manual_idle",mapping:"manual_idle"}],submitBtn:"#pptp_total_save",autoLoad:false,validator:function(){if($("input#inet4_pptp_snd_conn").radio("getValue")=="dynamic"){return true}var M=$("input#inet4_pptp_static_ip").textbox("getValue");var O=$("input#inet4_pptp_static_submask").textbox("getValue");var Q=$("input#inet4_pptp_static_svr_ip").textbox("getValue");var L=$("input#inet4_pptp_static_pri_dns").textbox("getValue");var K=$("input#inet4_pptp_static_snd_dns").textbox("getValue");var P=new $.su.vtype("ip");var N=new $.su.vtype("domain");if(Q!=""&&P.validate(Q)==true&&!$.su.func.isSameNet(Q,M,O)){if($("input#inet4_pptp_static_gateway").textbox("getValue")==""){$("input#inet4_pptp_static_gateway").textbox("setError",$.su.CHAR.ERROR["00000062"]);return false}}if(Q!=""&&P.validate(Q)!=true){if(!$.su.func.isSameNet($("input#inet4_pptp_static_pri_dns").textbox("getValue"),M,O)&&$("input#inet4_pptp_static_gateway").textbox("getValue")==""){$("input#inet4_pptp_static_gateway").textbox("setError",$.su.CHAR.ERROR["00000063"]);return false}if($("input#inet4_pptp_static_pri_dns").textbox("getValue")==""){$("input#inet4_pptp_static_pri_dns").textbox("setError",$.su.CHAR.ERROR["00000050"]);return false}}if(!$.su.func.isNetIpLegal(M,O)){$("div#pptp-setting").form("setError",$.su.CHAR.ERROR["00000059"]);$("input#inet4_pptp_static_ip").textbox("setError");$("input#inet4_pptp_static_submask").textbox("setError");return false}if($.su.func.isNetIp(M,O)||$.su.func.isBroadCastIp(M,O)){$("div#pptp-setting").form("setError",$.su.CHAR.ERROR["00000059"]);$("input#inet4_pptp_static_ip").textbox("setError");$("input#inet4_pptp_static_submask").textbox("setError");return false}if($.su.func.isSameNet(f,M,O)||$.su.func.isSameNet(M,f,A)){$("div#pptp-setting").form("setError",$.su.CHAR.ERROR["00000060"]);$("input#inet4_pptp_static_ip").textbox("setError");$("input#inet4_pptp_static_submask").textbox("setError");return false}if($.su.func.isSameNet(L,f,A)){$("div#pptp-setting").form("setError",$.su.CHAR.ERROR["00000217"]);$("input#inet4_pptp_static_pri_dns").textbox("setError");return false}if($.su.func.isSameNet(K,f,A)){$("div#pptp-setting").form("setError",$.su.CHAR.ERROR["00000217"]);$("input#inet4_pptp_static_snd_dns").textbox("setError");return false}return true}}).on("ev_loadData",function(L,K){if(K.snd_conn==""||!K.snd_conn){$("#inet4_pptp_snd_conn").radio("setValue","static")}if(K.conn_mode==""||!K.conn_mode){$("#inet4_pptp_conn_mode").radio("setValue","demand")}});$("button#pptp_total_save").button({text:$.su.CHAR.OPERATION.SAVE,cls:"submit",handler:function(){if(B.form("validate")){$("button#pptp_total_save").button("disable");var L=$("input#inet4_pptp_username").textbox("getValue");var K=$("input#inet4_pptp_password").password("getValue");if(L==""&&K==""){o="pptp";i.msg("show")}else{B.form("submit")}$("button#pptp_total_save").button("enable")}}});$("div#bigpond-setting").form({proxy:q,fields:[{name:"username",mapping:"username"},{name:"password",mapping:"password"},{name:"server",mapping:"server"},{name:"domain",mapping:"domain"},{name:"mtu",mapping:"mtu"},{name:"conn_mode",mapping:"conn_mode"},{name:"demand_idle",mapping:"demand_idle"},{name:"manual_idle",mapping:"manual_idle"}],submitBtn:"default",autoLoad:false}).on("ev_loadData",function(L,K){if(K.conn_mode==""||!K.conn_mode){$("#inet4_bp_conn_mode").radio("setValue","demand")}});$("input#txt-internet-mac-address").textbox({fieldLabel:$.su.CHAR.INTERNET.INTERNET_MAC_ADDRESS,labelCls:"s",cls:"inline",vtype:"mac"});$("button.restore-factory-mac").button({text:$.su.CHAR.INTERNET.RESTORE_FACTORY_MAC,cls:"inline"});$("button.clone-your-pc-mac").button({text:$.su.CHAR.INTERNET.CLONE_YOUR_PC_MAC,cls:"inline"});var c=$("input#radio_inet4_conntype").combobox({fieldLabel:$.su.CHAR.INTERNET.CONNECTION_TYPE,labelCls:"l",items:[]});var t=[];t=$.su.loadComboData($.su.url("/admin/network?form=wan_ipv4_protos"),{advanced:true},[{srcKey:"name",dstKey:"name",func:function(L,K){L=L.toUpperCase().replace(" ","_");return K[L]},para:$.su.CHAR.INTERNET},{srcKey:"value",dstKey:"value"}]);$("#radio_inet4_conntype").combobox("loadData",t);c.combobox("getContainer").delegate("div.combobox-list-wrap label","click",function(){clearInterval(b);$(".conn-type-party").css("display","none");r=$(this).find("input").val();$("div.advanced-block").show();$("div.basic-block").hide();switch($(this).find("input").val()){case"dhcp":w.read({},function(){var K=setTimeout(function(){$("#dynamic-adv").fieldset("hide")},200)});$("div#dynamic-config").fadeIn(200);break;case"static":$("div#static-ip-config").fadeIn(200);g.read();break;case"pppoe":d.read({share:u},function(){var K=setTimeout(function(){$("#pppoe-adv").fieldset("hide")},200)});$("div#pppoe-config").fadeIn(200);break;case"bigpond":$("div#bigpond-config").fadeIn(200);q.read();break;case"l2tp":$("div#l2tp-config").fadeIn(200);H.read();break;case"pptp":$("div#pptp-config").fadeIn(200);E.read();break}});I.read({},function(K){r=K.conntype;switch(K.conntype){case"dhcp":w.read({},function(){var L=setTimeout(function(){$("#dynamic-adv").fieldset("hide")},200)});$("div#dynamic-config").fadeIn(200);break;case"static":$("div#static-ip-config").fadeIn(200);g.read();break;case"pppoe":d.read({share:u},function(){var L=setTimeout(function(){$("#pppoe-adv").fieldset("hide")},200)});$("div#pppoe-config").fadeIn(200);break;case"bigpond":$("div#bigpond-config").fadeIn(200);q.read();break;case"l2tp":$("div#l2tp-config").fadeIn(200);H.read();break;case"pptp":$("div#pptp-config").fadeIn(200);E.read();break}});$("#host_name_confirm_p").html($.su.CHAR.INTERNET.HOST_NAME_CONFIRM);var n=$("div#host_name_confirm").msg({type:"confirm",closeBtn:false,cls:"l",okHandler:function(){$("div#dynamic-setting").form("doSubmit")}});$("input#inet4_dyn_ip_address_address").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,readOnly:true,labelCls:"l",cls:"part-seperate"});$("input#inet4_dyn_submask").textbox({fieldLabel:$.su.CHAR.INTERNET.SUBNET_MASK,readOnly:true,labelCls:"l"});$("input#inet4_dyn_dft_gateway").textbox({fieldLabel:$.su.CHAR.INTERNET.DEFAULT_GATEWAY,readOnly:true,labelCls:"l"});$("input#dynamic-primary-dns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,readOnly:true,labelCls:"l",cls:"part-seperate"});$("input#dynamic-second-dns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,readOnly:true,labelCls:"l"});$("button#ipv4_dynamic_renew").button({fieldLabel:null,text:$.su.CHAR.INTERNET.RENEW,cls:"inline-block part-seperate gap",labelCls:"l",handler:function(){w.read({operation:"renew"})}});$("button#ipv4_dynamic_release").button({text:$.su.CHAR.INTERNET.RELEASE,cls:"inline-block part-seperate",labelCls:"l",handler:function(){w.read({operation:"release"})}});$("span#dhcp_link_status").html($.su.CHAR.INTERNET.DHCP_LINK_UNPLUGGED);$("span.advanced-text").html($.su.CHAR.INTERNET.ADVANCED);$("span.basic-text").html($.su.CHAR.INTERNET.ADVANCED);$("#dynamic-adv").fieldset({fields:[{name:"dns_mode"},{name:"dyn_pridns"},{name:"dyn_snddns"},{name:"manual_pridns"},{name:"manual_snddns"},{name:"mtu"},{name:"hostname"},{name:"unicast"}]});$("div#dynamic_adv_btn").on("click",function(){$("#dynamic-adv").fieldset("show");$(this).hide();$("#dynamic_basic_btn").css("display","inline-block");if($("input#inet4_dyn_dns_mode").radio("getValue")=="dynamic"){$("#inet4_dyn_dns_manual_part").fieldset("hide");$("#inet4_dyn_dns_dyn_part").fieldset("show")}else{if($("input#inet4_dyn_dns_mode").radio("getValue")=="static"){$("#inet4_dyn_dns_dyn_part").fieldset("hide");$("#inet4_dyn_dns_manual_part").fieldset("show")}}});$("div#dynamic_basic_btn").on("click",function(){$("#dynamic-adv").fieldset("hide");$(this).hide();$("#dynamic_adv_btn").css("display","inline-block")});$("#inet4_dyn_dns_dyn_part").fieldset({fields:[{name:"dyn_pridns"},{name:"dyn_snddns"}]});$("#inet4_dyn_dns_manual_part").fieldset({fields:[{name:"manual_pridns"},{name:"manual_snddns"}]});$("input#inet4_dyn_dns_mode").radio({fieldLabel:$.su.CHAR.INTERNET.DNS_ADDR_MODE,labelCls:"l",columns:1,items:[{boxlabel:$.su.CHAR.INTERNET.GET_DYNAMICALLY_FROM_ISP,name:"dns_mode",inputValue:"dynamic"},{boxlabel:$.su.CHAR.INTERNET.USE_FOLLOW_DNS_ADDR,name:"dns_mode",inputValue:"static"}]}).on("ev_change",function(M,K,L){if(L=="dynamic"){$("#inet4_dyn_dns_manual_part").fieldset("hide");$("#inet4_dyn_dns_dyn_part").fieldset("show")}else{if(L=="static"){$("#inet4_dyn_dns_dyn_part").fieldset("hide");$("#inet4_dyn_dns_manual_part").fieldset("show")}}});$("input#inet4_dyn_dyn_pridns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,labelCls:"l",readOnly:true});$("input#inet4_dyn_dyn_snddns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,labelCls:"l",readOnly:true});$("input#inet4_dyn_manual_pridns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,labelCls:"l",allowBlank:false,textFormat:$.su.format.ip,vtype:"ip"});$("input#inet4_dyn_manual_snddns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,labelCls:"l",textFormat:$.su.format.ip,vtype:"ip"});$("input#inet4_dyn_mtu_size").textbox({fieldLabel:$.su.CHAR.INTERNET.MTU_SIZE,tips:$.su.CHAR.INTERNET.MTU_1500,tipsCls:"xl",inputCls:"s",labelCls:"l",cls:"part-seperate",allowBlank:false,textFormat:$.su.format.number,maxLength:4,vtype:{vtype:"number",max:1500,min:576}});$("input#inet4_dyn_hostname").textbox({fieldLabel:$.su.CHAR.INTERNET.HOST_NAME,labelCls:"l",cls:"",maxLength:63,vtype:"string_visible"});$("input#inet4_dyn_unicast_dhcp").checkbox({fieldLabel:"",labelCls:"l",cls:"",items:[{boxlabel:$.su.CHAR.INTERNET.GET_IP_WITH_UNICAST_DHCP,inputValue:"on",uncheckedValue:"off",id:"inet4_dyn_unicast_dhcp-checked",}]});$("input#inet4_static_ip_address").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,labelCls:"l",cls:"part-seperate",allowBlank:false,vtype:"ip"});$("input#inet4_static_submask").textbox({fieldLabel:$.su.CHAR.INTERNET.SUBNET_MASK,labelCls:"l",allowBlank:false,vtype:"netmask"});$("input#inet4_static_dft_gateway").textbox({fieldLabel:$.su.CHAR.INTERNET.DEFAULT_GATEWAY,labelCls:"l",allowBlank:false,vtype:"ip"});$("input#inet4_static_pridns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,labelCls:"l",cls:"part-seperate",allowBlank:false,vtype:"ip"});$("input#inet4_static_snddns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,labelCls:"l",tips:$.su.CHAR.INTERNET.OPTIONAL,vtype:"ip"});$("input#inet4_static_mtu_size").textbox({fieldLabel:$.su.CHAR.INTERNET.MTU_SIZE,tips:$.su.CHAR.INTERNET.MTU_1500,labelCls:"l",tipsCls:"xl",inputCls:"s",cls:"part-seperate",allowBlank:false,textFormat:$.su.format.number,maxLength:4,vtype:{vtype:"number",max:1500,min:576}});$("input#inet4_pppoe_username").textbox({fieldLabel:$.su.CHAR.INTERNET.USER_NAME,labelCls:"l",cls:"part-seperate",vtype:"string_visible_allow_blank",maxLength:255,minLength:0,autoTrim:false});$("input#inet4_pppoe_password").password({fieldLabel:$.su.CHAR.INTERNET.PASSWORD,labelCls:"l",encrypt:null,showLevel:false,vtype:"password",maxLength:255,minLength:0});$("input#inet4_pppoe_inet_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,readOnly:true,labelCls:"l",cls:"part-seperate"});$("input#inet4_pppoe_inet_pridns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,readOnly:true,labelCls:"l"});$("input#inet4_pppoe_inet_snddns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,readOnly:true,labelCls:"l"});$("#pppoe-adv").fieldset({fields:[{name:"snd_conn"},{name:"dyn_ip"},{name:"dyn_netmask"},{name:"pppoe_renew_btn"},{name:"pppoe_release_btn"},{name:"static_ip"},{name:"static_netmask"},{name:"mtu"},{name:"server"},{name:"access"},{name:"interval"},{name:"ip_mode"},{name:"specific_ip"},{name:"dns_mode"},{name:"dyn_pridns"},{name:"dyn_snddns"},{name:"static_pridns"},{name:"static_snddns"},{name:"conn_mode"},{name:"demand_idle"},{name:"time_start"},{name:"time_end"},{name:"manual_idle"}]});$("div#pppoe_adv_btn").on("click",function(){$("#pppoe-adv").fieldset("show");$(this).hide();$("#pppoe_basic_btn").css("display","inline-block");if($("input#inet4_pppoe_sec_conn").radio("getValue")=="none"){$("#pppoe_dyn_part").fieldset("hide");$("#pppoe_static_part").fieldset("hide")}else{if($("input#inet4_pppoe_sec_conn").radio("getValue")=="dynamic"){$("#pppoe_dyn_part").fieldset("show");$("#pppoe_static_part").fieldset("hide")}else{if($("input#inet4_pppoe_sec_conn").radio("getValue")=="static"){$("#pppoe_dyn_part").fieldset("hide");$("#pppoe_static_part").fieldset("show")}}}p(J.conn_status,["pppoe_renew_btn","pppoe_release_btn"],["pppoe_conn_btn","pppoe_disconn_btn"],"pppoe-config");if($("input#inet4_pppoe_ip_mode").radio("getValue")=="dynamic"){$("input#inet4_pppoe_specific_ip").textbox("disable")}else{if($("input#inet4_pppoe_ip_mode").radio("getValue")=="static"){$("input#inet4_pppoe_specific_ip").textbox("enable")}}if($("input#inet4_pppoe_dns_mode").radio("getValue")=="dynamic"){$("#inet4_pppoe_dns_static_part").fieldset("hide");$("#inet4_pppoe_dns_dyn_part").fieldset("show")}else{if($("input#inet4_pppoe_dns_mode").radio("getValue")=="static"){$("#inet4_pppoe_dns_dyn_part").fieldset("hide");$("#inet4_pppoe_dns_static_part").fieldset("show")}}switch($("input#inet4_pppoe_conn_mode").combobox("getValue")[0]){case"auto":$("input#inet4_pppoe_demand_idle").textbox("disable");$("input#inet4_pppoe_manual_idle").textbox("disable");break;case"demand":$("#pppoe-demand-part").fadeIn(150);$("input#inet4_pppoe_demand_idle").textbox("enable");$("input#inet4_pppoe_manual_idle").textbox("disable");break;case"time_based":$("#pppoe-time-part").fadeIn(150);$("input#inet4_pppoe_demand_idle").textbox("disable");$("input#inet4_pppoe_manual_idle").textbox("disable");break;case"manually":$("#pppoe-manually-part").fadeIn(150);$("input#inet4_pppoe_demand_idle").textbox("disable");$("input#inet4_pppoe_manual_idle").textbox("enable");break}});$("div#pppoe_basic_btn").on("click",function(){$("#pppoe-adv").fieldset("hide");$(this).hide();$("#pppoe_adv_btn").css("display","inline-block")});$("#pppoe_dyn_part").fieldset({fields:[{name:"dyn_ip"},{name:"dyn_netmask"}]});$("#pppoe_static_part").fieldset({fields:[{name:"static_ip"},{name:"static_netmask"}]});$("input#inet4_pppoe_sec_conn").radio({fieldLabel:$.su.CHAR.INTERNET.SECONDARY_CONN,labelCls:"l",columns:3,items:[{boxlabel:$.su.CHAR.INTERNET.NONE,name:"snd_conn",inputValue:"none"},{boxlabel:$.su.CHAR.INTERNET.DYNAMIC_IP,name:"snd_conn",inputValue:"dynamic"},{boxlabel:$.su.CHAR.INTERNET.STATIC_IP,name:"snd_conn",inputValue:"static"}]}).on("ev_change",function(M,K,L){if(L=="none"){$("#pppoe_dyn_part").fieldset("hide");$("#pppoe_static_part").fieldset("hide")}else{if(L=="dynamic"){$("#pppoe_dyn_part").fieldset("show");$("#pppoe_static_part").fieldset("hide")}else{if(L=="static"){$("#pppoe_dyn_part").fieldset("hide");$("#pppoe_static_part").fieldset("show")}}}p(J.conn_status,["pppoe_renew_btn","pppoe_release_btn"],["pppoe_conn_btn","pppoe_disconn_btn"],"pppoe-config")});$("input#inet4_pppoe_dyn_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,readOnly:true,labelCls:"l"});$("input#inet4_pppoe_dyn_submask").textbox({fieldLabel:$.su.CHAR.INTERNET.SUBNET_MASK,readOnly:true,labelCls:"l"});$("button#pppoe_renew_btn").button({fieldLabel:"",text:$.su.CHAR.INTERNET.RENEW,cls:"inline-block part-seperate gap",labelCls:"l",handler:function(){d.read({operation:"renew"})}});$("button#pppoe_release_btn").button({text:$.su.CHAR.INTERNET.RELEASE,cls:"inline-block part-seperate",labelCls:"l",handler:function(){d.read({operation:"release"})}});$("input#inet4_pppoe_static_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,labelCls:"l",vtype:"ip"});$("input#inet4_pppoe_static_submask").textbox({fieldLabel:$.su.CHAR.INTERNET.SUBNET_MASK,labelCls:"l",vtype:"netmask"});$("input#inet4_pppoe_mtu_size").textbox({fieldLabel:$.su.CHAR.INTERNET.MTU_SIZE,tips:$.su.CHAR.INTERNET.MTU_1480,tipsCls:"xl",inputCls:"s",labelCls:"l",cls:"part-seperate",textFormat:$.su.format.number,maxLength:4,vtype:{vtype:"number",max:1492,min:576}});$("input#inet4_pppoe_svr_name").textbox({fieldLabel:$.su.CHAR.INTERNET.SERVICE_NAME,labelCls:"l",cls:"part-seperate",maxLength:31,minLength:0,vtype:"string_visible_allow_blank",autoTrim:false});$("input#inet4_pppoe_access_name").textbox({fieldLabel:$.su.CHAR.INTERNET.ACCESS_CONCENTRATOR_NAME,labelCls:"l",vtype:"string_visible_allow_blank",maxLength:31,minLength:0,autoTrim:false});$("input#inet4_pppoe_interval").textbox({fieldLabel:$.su.CHAR.INTERNET.DETECT_ONLINE_INTERVAL,tips:$.su.CHAR.INTERNET.INTERVAL_TIPS,labelCls:"l",allowBlank:false,textFormat:$.su.format.number,vtype:{vtype:"number",max:120,min:0}});$("input#inet4_pppoe_ip_mode").radio({fieldLabel:$.su.CHAR.INTERNET.IP_ADDR_MODE,labelCls:"l",columns:1,cls:"part-seperate",items:[{boxlabel:$.su.CHAR.INTERNET.GET_DYNAMICALLY_FROM_ISP,name:"ip_mode",inputValue:"dynamic"},{boxlabel:$.su.CHAR.INTERNET.USE_FOLLOW_IP_ADDR,name:"ip_mode",inputValue:"static"}]}).on("ev_change",function(M,K,L){if(L=="dynamic"){$("input#inet4_pppoe_specific_ip").textbox("hide");$("input#inet4_pppoe_specific_ip").textbox("disable");$("input#inet4_pppoe_specific_ip_read").textbox("show")}else{if(L=="static"){$("input#inet4_pppoe_specific_ip").textbox("show");$("input#inet4_pppoe_specific_ip").textbox("enable");$("input#inet4_pppoe_specific_ip_read").textbox("hide")}}});$("input#inet4_pppoe_specific_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,labelCls:"l",allowBlank:false,vtype:"ip"});$("input#inet4_pppoe_specific_ip_read").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,labelCls:"l",readOnly:true,vtype:"ip"});$("#inet4_pppoe_dns_dyn_part").fieldset({fields:[{name:"dyn_pridns"},{name:"dyn_snddns"}]});$("#inet4_pppoe_dns_static_part").fieldset({fields:[{name:"static_pridns"},{name:"static_snddns"}]});$("input#inet4_pppoe_dns_mode").radio({fieldLabel:$.su.CHAR.INTERNET.DNS_ADDR_MODE,labelCls:"l",columns:1,cls:"part-seperate",items:[{boxlabel:$.su.CHAR.INTERNET.GET_DYNAMICALLY_FROM_ISP,name:"dns_mode",inputValue:"dynamic"},{boxlabel:$.su.CHAR.INTERNET.USE_FOLLOW_DNS_ADDR,name:"dns_mode",inputValue:"static"}]}).on("ev_change",function(M,K,L){if(L=="dynamic"){$("#inet4_pppoe_dns_static_part").fieldset("hide");$("#inet4_pppoe_dns_dyn_part").fieldset("show")}else{if(L=="static"){$("#inet4_pppoe_dns_dyn_part").fieldset("hide");$("#inet4_pppoe_dns_static_part").fieldset("show")}}});$("input#inet4_pppoe_dyn_pridns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,labelCls:"l",readOnly:true});$("input#inet4_pppoe_dyn_snddns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,labelCls:"l",readOnly:true});$("input#inet4_pppoe_static_pridns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,labelCls:"l",allowBlank:false,vtype:"ip"});$("input#inet4_pppoe_static_snddns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,labelCls:"l",vtype:"ip"});$("input#inet4_pppoe_conn_mode").combobox({fieldLabel:$.su.CHAR.INTERNET.CONN_MODE,labelCls:"l",cls:"part-seperate",items:[{name:$.su.CHAR.INTERNET.AUTO,cls:"m",value:"auto"},{name:$.su.CHAR.INTERNET.ON_DEMAND,cls:"m",value:"demand"},{name:$.su.CHAR.INTERNET.TIME_BASED,cls:"m",value:"time_based"},{name:$.su.CHAR.INTERNET.MANUALLY,cls:"m",value:"manually"}]}).on("ev_change",function(M,K,L){switch(L[0]){case"auto":$("#pppoe-demand-part").css("display","none");$("#pppoe-time-part").css("display","none");$("#pppoe-manually-part").css("display","none");$("input#inet4_pppoe_demand_idle").textbox("disable");$("input#inet4_pppoe_manual_idle").textbox("disable");break;case"demand":$("#pppoe-demand-part").fadeIn(150);$("#pppoe-time-part").css("display","none");$("#pppoe-manually-part").css("display","none");$("input#inet4_pppoe_demand_idle").textbox("enable");$("input#inet4_pppoe_manual_idle").textbox("disable");break;case"time_based":$("#pppoe-demand-part").css("display","none");$("#pppoe-time-part").fadeIn(150);$("#pppoe-manually-part").css("display","none");$("input#inet4_pppoe_demand_idle").textbox("disable");$("input#inet4_pppoe_manual_idle").textbox("disable");break;case"manually":$("#pppoe-demand-part").css("display","none");$("#pppoe-time-part").css("display","none");$("#pppoe-manually-part").fadeIn(150);$("input#inet4_pppoe_demand_idle").textbox("disable");$("input#inet4_pppoe_manual_idle").textbox("enable");break}});$("input#inet4_pppoe_demand_idle").textbox({fieldLabel:$.su.CHAR.INTERNET.MAX_IDLE_TIME,labelCls:"l",inputCls:"s",tips:$.su.CHAR.INTERNET.MAX_IDLE_TIME_TIPS,tipsCls:"l",allowBlank:false,textFormat:$.su.format.number,maxLength:2,vtype:{vtype:"number",max:99,min:0}});$("input#inet4_pppoe_time_start").time({fieldLabel:$.su.CHAR.INTERNET.PERIOD_OF_TIME,tips:$.su.CHAR.INTERNET.TIME_TIPS,labelCls:"l",tipsCls:"time-to",cls:"inline m",format:"h:m"}).time("setValue","0:0");$("input#inet4_pppoe_time_end").time({fieldLabel:"",tips:$.su.CHAR.INTERNET.TIME_TIPS,labelCls:"l",cls:"inline",format:"h:m"}).time("setValue","0:0");$("input#inet4_pppoe_manual_idle").textbox({fieldLabel:$.su.CHAR.INTERNET.MAX_IDLE_TIME,labelCls:"l",inputCls:"s",tips:$.su.CHAR.INTERNET.MAX_IDLE_TIME_TIPS,tipsCls:"l",allowBlank:false,textFormat:$.su.format.number,maxLength:2,vtype:{vtype:"number",max:99,min:0}});var l=$("#inet4_pppoe_status").status({proxy:{url:$.su.url("/admin/network?form=wan_ipv4_pppoe")},cls:"inline-block"});$("button#pppoe_conn_btn").button({fieldLabel:null,labelCls:"l",cls:"inline-block part-seperate gap",text:$.su.CHAR.INTERNET.CONNECT,handler:function(){$("div#pppoe-setting").form("submit",{operation:"connect"},null,null,null,false)}});$("button#pppoe_disconn_btn").button({fieldLabel:null,labelCls:"l",cls:"inline-block",text:$.su.CHAR.INTERNET.DISCONNECT,handler:function(){$("div#pppoe-setting").form("submit",{operation:"disconnect"},null,null,null,false)}});$("input#inet4_bp_username").textbox({fieldLabel:$.su.CHAR.INTERNET.USER_NAME,labelCls:"l",cls:"part-seperate",maxLength:118,minLength:0,vtype:"string_visible_allow_blank"});$("input#inet4_bp_password").password({fieldLabel:$.su.CHAR.INTERNET.PASSWORD,labelCls:"l",encrypt:null,showLevel:false,maxLength:118,minLength:0,vtype:"password"});$("input#inet4_bp_auth_server").textbox({fieldLabel:$.su.CHAR.INTERNET.AUTH_SERVER,labelCls:"l",maxLength:31,minLength:0,vtype:"string_visible"});$("input#inet4_bp_auth_domain").textbox({fieldLabel:$.su.CHAR.INTERNET.AUTH_DOMAIN,labelCls:"l",cls:"part-seperate",maxLength:31,minLength:0,vtype:"string_visible"});$("input#inet4_bp_mtu_size").textbox({fieldLabel:$.su.CHAR.INTERNET.MTU_SIZE,tips:$.su.CHAR.INTERNET.MTU_1500,tipsCls:"xl",inputCls:"s",labelCls:"l",cls:"part-seperate",allowBlank:false,textFormat:$.su.format.number,maxLength:4,vtype:{vtype:"number",max:1500,min:576}});$("#bigpond_demand_part").fieldset({fields:[{name:"demand_idle"}]});$("#bigpond_manually_part").fieldset({fields:[{name:"manual_idle"}]});$("input#inet4_bp_conn_mode").radio({fieldLabel:$.su.CHAR.INTERNET.CONN_MODE,labelCls:"l",columns:3,cls:"part-seperate",items:[{boxlabel:$.su.CHAR.INTERNET.AUTO,name:"conn_mode",inputValue:"auto"},{boxlabel:$.su.CHAR.INTERNET.ON_DEMAND,name:"conn_mode",inputValue:"demand"},{boxlabel:$.su.CHAR.INTERNET.MANUALLY,name:"conn_mode",inputValue:"manually"}]}).on("ev_change",function(M,K,L){if(L=="auto"){$("#bigpond_demand_part").fieldset("hide");$("#bigpond_manually_part").fieldset("hide")}else{if(L=="demand"){$("#bigpond_demand_part").fieldset("show");$("#bigpond_manually_part").fieldset("hide")}else{if(L=="manually"){$("#bigpond_demand_part").fieldset("hide");$("#bigpond_manually_part").fieldset("show")}}}});$("input#inet4_bp_demand_idle").textbox({fieldLabel:$.su.CHAR.INTERNET.MAX_IDLE_TIME,labelCls:"l",inputCls:"s",tips:$.su.CHAR.INTERNET.MAX_IDLE_TIME_TIPS,tipsCls:"l",allowBlank:false,textFormat:$.su.format.number,vtype:{vtype:"number",max:99,min:0}});$("input#inet4_bp_manual_idle").textbox({fieldLabel:$.su.CHAR.INTERNET.MAX_IDLE_TIME,labelCls:"l",inputCls:"s",tips:$.su.CHAR.INTERNET.MAX_IDLE_TIME_TIPS,tipsCls:"l",allowBlank:false,textFormat:$.su.format.number,vtype:{vtype:"number",max:99,min:0}});var m=$("#inet4_bp_status").status({proxy:{url:$.su.url("/admin/network?form=wan_ipv4_bigpond")},cls:"inline-block"});$("button#bigpond_conn_btn").button({fieldLabel:null,labelCls:"l",cls:"inline-block part-seperate gap",text:$.su.CHAR.INTERNET.CONNECT,handler:function(){$("div#bigpond-setting").form("submit",{operation:"connect"},null,null,null,false)}});$("button#bigpond_disconn_btn").button({fieldLabel:null,labelCls:"l",cls:"inline-block part-seperate",text:$.su.CHAR.INTERNET.DISCONNECT,handler:function(){$("div#bigpond-setting").form("submit",{operation:"disconnect"},null,null,null,false)}});$("input#inet4_l2tp_username").textbox({fieldLabel:$.su.CHAR.INTERNET.USER_NAME,labelCls:"l",cls:"part-seperate",maxLength:255,minLength:0,vtype:"string_visible_allow_blank",autoTrim:false});$("input#inet4_l2tp_password").password({fieldLabel:$.su.CHAR.INTERNET.PASSWORD,labelCls:"l",encrypt:null,showLevel:false,maxLength:255,minLength:0,vtype:"password",autoTrim:false});$("input#inet4_l2tp_inet_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.INTERNET_IP_ADDR,readOnly:true,labelCls:"l",cls:"part-seperate"});$("input#inet4_l2tp_pri_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.INTERNET_PRIMARY_DNS,readOnly:true,labelCls:"l"});$("input#inet4_l2tp_snd_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.INTERNET_SECONDARY_DNS,readOnly:true,labelCls:"l"});$("#l2tp_dynamic").fieldset({fields:[{name:"dyn_server"},{name:"dyn_ip"},{name:"dyn_netmask"},{name:"dyn_gateway"},{name:"dyn_pridns"},{name:"dyn_snddns"}]});$("#l2tp_static").fieldset({fields:[{name:"static_server"},{name:"static_ip"},{name:"static_netmask"},{name:"static_gateway"},{name:"static_pridns"},{name:"static_snddns"}]});$("input#inet4_l2tp_snd_conn").radio({fieldLabel:$.su.CHAR.INTERNET.SECONDARY_CONN,labelCls:"l",columns:2,cls:"part-seperate",items:[{boxlabel:$.su.CHAR.INTERNET.DYNAMIC_IP,name:"snd_conn",inputValue:"dynamic"},{boxlabel:$.su.CHAR.INTERNET.STATIC_IP,name:"snd_conn",inputValue:"static"}]}).on("ev_change",function(M,K,L){if(L=="dynamic"){$("#l2tp_dynamic").fieldset("show");$("#l2tp_static").fieldset("hide")}else{if(L=="static"){$("#l2tp_dynamic").fieldset("hide");$("#l2tp_static").fieldset("show")}}});$("input#inet4_l2tp_dyn_svr_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.SERVER_IP_ADDR_NAME,labelCls:"l",cls:"part-seperate",allowBlank:false,maxLength:63,minLength:0,vtype:"string_ip_domain"});$("input#inet4_l2tp_dyn_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,readOnly:true,labelCls:"l",cls:"part-seperate"});$("input#inet4_l2tp_dyn_submask").textbox({fieldLabel:$.su.CHAR.INTERNET.SUBNET_MASK,readOnly:true,labelCls:"l"});$("input#inet4_l2tp_dyn_gateway").textbox({fieldLabel:$.su.CHAR.INTERNET.GATEWAY,readOnly:true,labelCls:"l"});$("input#inet4_l2tp_dyn_pri_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,readOnly:true,labelCls:"l",cls:"part-seperate"});$("input#inet4_l2tp_dyn_snd_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,readOnly:true,labelCls:"l"});$("input#inet4_l2tp_static_svr_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.SERVER_IP_ADDR_NAME,labelCls:"l",cls:"part-seperate",allowBlank:false,maxLength:63,minLength:0,vtype:"string_ip_domain"}).on("ev_validatechange",function(N,O){var L=$("input#inet4_l2tp_static_svr_ip").textbox("getValue");var M=new $.su.vtype("ip");var K=new $.su.vtype("domain");if(O){if(M.validate(L)==true){$("input#inet4_l2tp_static_pri_dns").textbox("setTips",$.su.CHAR.INTERNET.OPTIONAL)}else{$("input#inet4_l2tp_static_pri_dns").textbox("setTips","")}return true}});$("input#inet4_l2tp_static_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,labelCls:"l",cls:"part-seperate",allowBlank:false,textFormat:$.su.format.ip,vtype:"ip"});$("input#inet4_l2tp_static_submask").textbox({fieldLabel:$.su.CHAR.INTERNET.SUBNET_MASK,labelCls:"l",allowBlank:false,vtype:"netmask"});$("input#inet4_l2tp_static_gateway").textbox({fieldLabel:$.su.CHAR.INTERNET.GATEWAY,labelCls:"l",textFormat:$.su.format.ip,vtype:"ip"});$("input#inet4_l2tp_static_pri_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,labelCls:"l",cls:"part-seperate",textFormat:$.su.format.ip,vtype:"ip"});$("input#inet4_l2tp_static_snd_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,labelCls:"l",textFormat:$.su.format.ip,tips:$.su.CHAR.INTERNET.OPTIONAL,vtype:"ip"});$("input#inet4_l2tp_mtu_size").textbox({fieldLabel:$.su.CHAR.INTERNET.MTU_SIZE,tips:$.su.CHAR.INTERNET.MTU_1460,tipsCls:"xl",inputCls:"s",labelCls:"l",cls:"part-seperate",textFormat:$.su.format.number,maxLength:4,vtype:{vtype:"number",max:1460,min:576}});$("#l2tp_demand_part").fieldset({fields:[{name:"demand_idle"}]});$("#l2tp_manually_part").fieldset({fields:[{name:"manual_idle"}]});$("input#inet4_l2tp_conn_mode").radio({fieldLabel:$.su.CHAR.INTERNET.CONN_MODE,labelCls:"l",columns:3,cls:"part-seperate",items:[{boxlabel:$.su.CHAR.INTERNET.AUTO,name:"conn_mode",inputValue:"auto"},{boxlabel:$.su.CHAR.INTERNET.ON_DEMAND,name:"conn_mode",inputValue:"demand",checked:"checked"},{boxlabel:$.su.CHAR.INTERNET.MANUALLY,name:"conn_mode",inputValue:"manually"}]}).on("ev_change",function(M,K,L){if(L=="auto"){$("#l2tp_demand_part").fieldset("hide");$("#l2tp_manually_part").fieldset("hide")}else{if(L=="demand"){$("#l2tp_demand_part").fieldset("show");$("#l2tp_manually_part").fieldset("hide")}else{if(L=="manually"){$("#l2tp_demand_part").fieldset("hide");$("#l2tp_manually_part").fieldset("show")}}}});$("input#inet4_l2tp_demand_idle").textbox({fieldLabel:$.su.CHAR.INTERNET.MAX_IDLE_TIME,labelCls:"l",inputCls:"s",tips:$.su.CHAR.INTERNET.MAX_IDLE_TIME_TIPS,tipsCls:"l",allowBlank:false,textFormat:$.su.format.number,maxLength:2,vtype:{vtype:"number",max:99,min:0}});$("input#inet4_l2tp_manual_idle").textbox({fieldLabel:$.su.CHAR.INTERNET.MAX_IDLE_TIME,labelCls:"l",inputCls:"s",tips:$.su.CHAR.INTERNET.MAX_IDLE_TIME_TIPS,tipsCls:"l",allowBlank:false,textFormat:$.su.format.number,maxLength:2,vtype:{vtype:"number",max:99,min:0}});var D=$("#inet4_l2tp_status").status({proxy:{url:$.su.url("/admin/network?form=wan_ipv4_l2tp")},cls:"inline-block"});$("button#l2tp_conn_btn").button({fieldLabel:null,labelCls:"l",cls:"inline-block part-seperate gap",text:$.su.CHAR.INTERNET.CONNECT,handler:function(){$("div#l2tp-setting").form("submit",{operation:"connect"},null,null,null,false)}});$("button#l2tp_disconn_btn").button({fieldLabel:null,labelCls:"l",cls:"inline-block part-seperate",text:$.su.CHAR.INTERNET.DISCONNECT,handler:function(){$("div#l2tp-setting").form("submit",{operation:"disconnect"},null,null,null,false)}});$("input#inet4_pptp_username").textbox({fieldLabel:$.su.CHAR.INTERNET.USER_NAME,labelCls:"l",cls:"part-seperate",maxLength:255,minLength:0,vtype:"string_visible_allow_blank",autoTrim:false});$("input#inet4_pptp_password").password({fieldLabel:$.su.CHAR.INTERNET.PASSWORD,labelCls:"l",encrypt:null,showLevel:false,maxLength:255,minLength:0,vtype:"password"});$("input#inet4_pptp_inet_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.INTERNET_IP_ADDR,readOnly:true,labelCls:"l",cls:"part-seperate"});$("input#inet4_pptp_pri_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.INTERNET_PRIMARY_DNS,readOnly:true,labelCls:"l"});$("input#inet4_pptp_snd_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.INTERNET_SECONDARY_DNS,readOnly:true,labelCls:"l"});$("#pptp_dynamic").fieldset({fields:[{name:"dyn_server"},{name:"dyn_ip"},{name:"dyn_netmask"},{name:"dyn_gateway"},{name:"dyn_pridns"},{name:"dyn_snddns"}]});$("#pptp_static").fieldset({fields:[{name:"static_server"},{name:"static_ip"},{name:"static_netmask"},{name:"static_gateway"},{name:"static_pridns"},{name:"static_snddns"}]});$("input#inet4_pptp_snd_conn").radio({fieldLabel:$.su.CHAR.INTERNET.SECONDARY_CONN,labelCls:"l",columns:2,cls:"part-seperate",items:[{boxlabel:$.su.CHAR.INTERNET.DYNAMIC_IP,name:"snd_conn",inputValue:"dynamic"},{boxlabel:$.su.CHAR.INTERNET.STATIC_IP,name:"snd_conn",inputValue:"static"}]}).on("ev_change",function(M,K,L){if(L=="dynamic"){$("#pptp_dynamic").fieldset("show");$("#pptp_static").fieldset("hide")}else{if(L=="static"){$("#pptp_dynamic").fieldset("hide");$("#pptp_static").fieldset("show")}}});$("input#inet4_pptp_dyn_svr_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.SERVER_IP_ADDR_NAME,labelCls:"l",cls:"part-seperate",allowBlank:false,maxLength:63,minLength:0,vtype:"string_ip_domain"});$("input#inet4_pptp_dyn_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,readOnly:true,labelCls:"l",cls:"part-seperate"});$("input#inet4_pptp_dyn_submask").textbox({fieldLabel:$.su.CHAR.INTERNET.SUBNET_MASK,readOnly:true,labelCls:"l"});$("input#inet4_pptp_dyn_gateway").textbox({fieldLabel:$.su.CHAR.INTERNET.GATEWAY,readOnly:true,labelCls:"l"});$("input#inet4_pptp_dyn_pri_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,readOnly:true,labelCls:"l",cls:"part-seperate"});$("input#inet4_pptp_dyn_snd_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,readOnly:true,labelCls:"l"});$("input#inet4_pptp_static_svr_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.SERVER_IP_ADDR_NAME,labelCls:"l",cls:"part-seperate",allowBlank:false,maxLength:63,minLength:0,vtype:"string_ip_domain"}).on("ev_validatechange",function(N,O){var L=$("input#inet4_pptp_static_svr_ip").textbox("getValue");var M=new $.su.vtype("ip");var K=new $.su.vtype("domain");if(O){if(M.validate(L)==true){$("input#inet4_pptp_static_pri_dns").textbox("setTips",$.su.CHAR.INTERNET.OPTIONAL)}else{$("input#inet4_pptp_static_pri_dns").textbox("setTips","")}return true}});$("input#inet4_pptp_static_ip").textbox({fieldLabel:$.su.CHAR.INTERNET.IP_ADDRESS,labelCls:"l",cls:"part-seperate",allowBlank:false,textFormat:$.su.format.ip,vtype:"ip"});$("input#inet4_pptp_static_submask").textbox({fieldLabel:$.su.CHAR.INTERNET.SUBNET_MASK,labelCls:"l",allowBlank:false,vtype:"netmask"});$("input#inet4_pptp_static_gateway").textbox({fieldLabel:$.su.CHAR.INTERNET.GATEWAY,labelCls:"l",textFormat:$.su.format.ip,vtype:"ip"});$("input#inet4_pptp_static_pri_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.PRIMARY_DNS,labelCls:"l",cls:"part-seperate",textFormat:$.su.format.ip,vtype:"ip"});$("input#inet4_pptp_static_snd_dns").textbox({fieldLabel:$.su.CHAR.INTERNET.SECOND_DNS,labelCls:"l",textFormat:$.su.format.ip,tips:$.su.CHAR.INTERNET.OPTIONAL,vtype:"ip"});$("input#inet4_pptp_mtu_size").textbox({fieldLabel:$.su.CHAR.INTERNET.MTU_SIZE,tips:$.su.CHAR.INTERNET.MTU_1420,tipsCls:"xl",inputCls:"s",labelCls:"l",cls:"part-seperate",textFormat:$.su.format.number,maxLength:4,vtype:{vtype:"number",max:1420,min:576}});$("#pptp_demand_part").fieldset({fields:[{name:"demand_idle"}]});$("#pptp_manually_part").fieldset({fields:[{name:"manual_idle"}]});$("input#inet4_pptp_conn_mode").radio({fieldLabel:$.su.CHAR.INTERNET.CONN_MODE,labelCls:"l",columns:3,cls:"part-seperate",items:[{boxlabel:$.su.CHAR.INTERNET.AUTO,name:"conn_mode",inputValue:"auto"},{boxlabel:$.su.CHAR.INTERNET.ON_DEMAND,name:"conn_mode",inputValue:"demand"},{boxlabel:$.su.CHAR.INTERNET.MANUALLY,name:"conn_mode",inputValue:"manually"}]}).on("ev_change",function(M,K,L){if(L=="auto"){$("#pptp_demand_part").fieldset("hide");$("#pptp_manually_part").fieldset("hide")}else{if(L=="demand"){$("#pptp_demand_part").fieldset("show");$("#pptp_manually_part").fieldset("hide")}else{if(L=="manually"){$("#pptp_demand_part").fieldset("hide");$("#pptp_manually_part").fieldset("show")}}}});$("input#inet4_pptp_demand_idle").textbox({fieldLabel:$.su.CHAR.INTERNET.MAX_IDLE_TIME,labelCls:"l",inputCls:"s",tips:$.su.CHAR.INTERNET.MAX_IDLE_TIME_TIPS,tipsCls:"l",allowBlank:false,textFormat:$.su.format.number,maxLength:2,vtype:{vtype:"number",max:99,min:0}});$("input#inet4_pptp_time_start").time({fieldLabel:$.su.CHAR.INTERNET.PERIOD_OF_TIME,tips:$.su.CHAR.INTERNET.TIME_TIPS,labelCls:"l",cls:"inline",format:"m:s"});$("input#inet4_pptp_time_end").time({fieldLabel:null,tips:$.su.CHAR.INTERNET.TIME_TIPS,labelCls:"l",cls:"inline",format:"m:s"});$("input#inet4_pptp_manual_idle").textbox({fieldLabel:$.su.CHAR.INTERNET.MAX_IDLE_TIME,labelCls:"l",inputCls:"s",tips:$.su.CHAR.INTERNET.MAX_IDLE_TIME_TIPS,tipsCls:"l",allowBlank:false,textFormat:$.su.format.number,maxLength:2,vtype:{vtype:"number",max:99,min:0}});var k=$("#inet4_pptp_status").status({proxy:{url:$.su.url("/admin/network?form=wan_ipv4_pptp")},cls:"inline-block"});$("button#pptp_conn_btn").button({fieldLabel:null,labelCls:"l",cls:"inline-block part-seperate gap",text:$.su.CHAR.INTERNET.CONNECT,handler:function(){$("div#pptp-setting").form("submit",{operation:"connect"},null,null,null,false)}});$("button#pptp_disconn_btn").button({fieldLabel:null,labelCls:"l",cls:"inline-block part-seperate",text:$.su.CHAR.INTERNET.DISCONNECT,handler:function(){$("div#pptp-setting").form("submit",{operation:"disconnect"},null,null,null,false)}});$("span.to").html($.su.CHAR.INTERNET.TO);function p(K,L,N,M){if(K.toUpperCase()=="CONNECTED"){L.length>0?$("button#"+L[0]).button("disable"):1;L.length>0?$("button#"+L[1]).button("enable"):1;N.length>0?$("button#"+N[0]).button("disable"):1;N.length>0?$("button#"+N[1]).button("enable"):1}else{if(K.toUpperCase()=="DISCONNECTED"){L.length>0?$("button#"+L[0]).button("enable"):1;L.length>0?$("button#"+L[1]).button("disable"):1;N.length>0?$("button#"+N[0]).button("enable"):1;N.length>0?$("button#"+N[1]).button("disable"):1}else{if(K.toUpperCase()=="CONNECTING"){L.length>0?$("button#"+L[0]).button("enable"):1;L.length>0?$("button#"+L[1]).button("enable"):1;N.length>0?$("button#"+N[0]).button("enable"):1;N.length>0?$("button#"+N[1]).button("enable"):1}else{if(K.toUpperCase()=="DISCONNECTING"){L.length>0?$("button#"+L[0]).button("enable"):1;L.length>0?$("button#"+L[1]).button("enable"):1;N.length>0?$("button#"+N[0]).button("enable"):1;N.length>0?$("button#"+N[1]).button("enable"):1}}}}}$("div#dynamic-setting, div#static-ip-config, div#bigpond-config, div#pppoe-setting, div#l2tp-setting, div#pptp-setting").on("ev_beforeLoadData",function(L,K){J=K;if(typeof K.pppshare!="undefined"){if(K.pppshare==1){u=1}else{u=0}$("input#pppshare").textbox("setValue",u)}else{u=0}});$("div#dynamic-setting, div#static-ip-config, div#bigpond-config, div#pppoe-setting, div#l2tp-setting, div#pptp-setting").on("ev_loadData",function(M,L){var K;clearInterval(b);x=L.conntype;switch($("input#radio_inet4_conntype").combobox("getValue")[0]){case"dhcp":p(L.conn_status,["ipv4_dynamic_renew","ipv4_dynamic_release"],[],"dynamic-config");if(L.link_status=="unplugged"){$("span#dhcp_link_status").show()}else{$("span#dhcp_link_status").hide()}break;case"pppoe":p(L.conn_status,["pppoe_renew_btn","pppoe_release_btn"],["pppoe_conn_btn","pppoe_disconn_btn"],"pppoe-config");if(L.dyn_ip==""||L.dyn_ip=="0.0.0.0"){$("button#pppoe_renew_btn").button("enable");$("button#pppoe_release_btn").button("disable")}else{$("button#pppoe_renew_btn").button("disable");$("button#pppoe_release_btn").button("enable")}break;case"bigpond":p(L.conn_status,[],["bigpond_conn_btn","bigpond_disconn_btn"],"bigpond-config");break;case"l2tp":p(L.conn_status,[],["l2tp_conn_btn","l2tp_disconn_btn"],"l2tp-config");break;case"pptp":p(L.conn_status,[],["pptp_conn_btn","pptp_disconn_btn"],"pptp-config");break}if(x==r){switch(x){case"dhcp":K=w;break;case"static":K="none";break;case"pppoe":K=d;break;case"bigpond":K=q;break;case"l2tp":K=H;break;case"pptp":K=E;break}}else{K="none"}if(K=="none"){clearInterval(b)}else{clearInterval(b);b=setInterval(function(){K.read({share:u},function(N){switch(N.conntype){case"dhcp":$("input#inet4_dyn_ip_address_address").textbox("setValue",N.ipaddr);$("input#inet4_dyn_submask").textbox("setValue",N.netmask);$("input#inet4_dyn_dft_gateway").textbox("setValue",N.gateway);$("input#dynamic-primary-dns").textbox("setValue",N.pri_dns);$("input#dynamic-second-dns").textbox("setValue",N.snd_dns);$("input#inet4_dyn_dyn_pridns").textbox("setValue",N.dyn_pridns);$("input#inet4_dyn_dyn_snddns").textbox("setValue",N.dyn_snddns);p(N.conn_status,["ipv4_dynamic_renew","ipv4_dynamic_release"],[],"dynamic-config");if(N.link_status=="unplugged"){$("span#dhcp_link_status").show()}else{$("span#dhcp_link_status").hide()}break;case"pppoe":$("input#inet4_pppoe_inet_ip").textbox("setValue",N.inet_ip);$("input#inet4_pppoe_inet_pridns").textbox("setValue",N.inet_pridns);$("input#inet4_pppoe_inet_snddns").textbox("setValue",N.inet_snddns);$("input#inet4_pppoe_dyn_ip").textbox("setValue",N.dyn_ip);$("input#inet4_pppoe_dyn_submask").textbox("setValue",N.dyn_netmask);$("input#inet4_pppoe_dyn_pridns").textbox("setValue",N.dyn_pridns);$("input#inet4_pppoe_dyn_snddns").textbox("setValue",N.dyn_snddns);p(N.conn_status,["pppoe_renew_btn","pppoe_release_btn"],["pppoe_conn_btn","pppoe_disconn_btn"],"pppoe-config");if(N.dyn_ip==""||N.dyn_ip=="0.0.0.0"){$("button#pppoe_renew_btn").button("enable");$("button#pppoe_release_btn").button("disable")}else{$("button#pppoe_renew_btn").button("disable");$("button#pppoe_release_btn").button("enable")}break;case"bigpond":p(N.conn_status,[],["bigpond_conn_btn","bigpond_disconn_btn"],"bigpond-config");break;case"l2tp":$("input#inet4_l2tp_inet_ip").textbox("setValue",N.inet_ip);$("input#inet4_l2tp_pri_dns").textbox("setValue",N.inet_pridns);$("input#inet4_l2tp_snd_dns").textbox("setValue",N.inet_snddns);$("input#inet4_l2tp_dyn_ip").textbox("setValue",N.dyn_ip);$("input#inet4_l2tp_dyn_submask").textbox("setValue",N.dyn_netmask);$("input#inet4_l2tp_dyn_gateway").textbox("setValue",N.dyn_gateway);$("input#inet4_l2tp_dyn_pri_dns").textbox("setValue",N.dyn_pridns);$("input#inet4_l2tp_dyn_snd_dns").textbox("setValue",N.dyn_snddns);p(N.conn_status,[],["l2tp_conn_btn","l2tp_disconn_btn"],"l2tp-config");break;case"pptp":$("input#inet4_pptp_inet_ip").textbox("setValue",N.inet_ip);$("input#inet4_pptp_pri_dns").textbox("setValue",N.inet_pridns);$("input#inet4_pptp_snd_dns").textbox("setValue",N.inet_snddns);$("input#inet4_pptp_dyn_ip").textbox("setValue",N.dyn_ip);$("input#inet4_pptp_dyn_submask").textbox("setValue",N.dyn_netmask);$("input#inet4_pptp_dyn_gateway").textbox("setValue",N.dyn_gateway);$("input#inet4_pptp_dyn_pri_dns").textbox("setValue",N.dyn_pridns);$("input#inet4_pptp_dyn_snd_dns").textbox("setValue",N.dyn_snddns);p(N.conn_status,[],["pptp_conn_btn","pptp_disconn_btn"],"pptp-config");break}},null,null,false)},1000)}});$.su.app.runningModule.addUnloadHandler(function(){clearInterval(b)});var v=new $.su.Help({container:"div#internet_help",content:["INTERNET_INTERNET","INTERNET_MAC"]})});</script>
</body>
</html>
