<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Guest</title>
</head>
<body>
<div class="func-container">
    <div id="guest_global_cnt">
	    <div id="guest_global">
	    		<input type="text" id="guest_isolate" name="isolate" value=""/>
				<input type="text" id="guest_access" name="access" value=""/>
		</div>
	</div>
	<div id="guest_2g">
    	<div id="guest_setting_2g">
	    	<input type="text"  id="status_2g" name="enable" value=""/>
	    	<input type="text"  id="network_name_2g" name="ssid" value=""/>
			<input type="text"  id="hide_ssid_2g" name="hidden" value=""/>
			<p class="note hidden" id="note_title_2g">
	    		<span class="title note-title"></span>
	    		<span class="text" id="note_title_2g_text"></span>
	    	</p>
	    </div>
		<div id="guest_password_2g">
			<div id="guest_static_dynamic_2g"  class="hidden">
				<input type="text" name="passwd_cycle" id="guest_2g_password_cycle" />
				<div id="guest_password_2g1">
					<input type="text" id="guest_2g_dynamic_password"/>
				</div>
			</div>
	    	<div id="guest_password_2g2">
	    		<input type="text"  id="guest_2g_security" name="encryption" value=""/>
	    		<div id="guest_2g_wpa">
					<input type="text" id="guest_2g_personal_version" name="psk_version"/>
					<input type="text" id="guest_2g_personal_encryption" name="psk_cipher"/>
					<input type="text" id="guest_2g_static_password"/>
					<input type="text"  class="hidden" name="psk_key" id="guest_2g_password"/>
				</div>
			</div>
	    </div>
		<br/>
    	<br/>
	    <p class="note hidden" id="note_title_all">
	    	<span class="title note-title"></span>
	    	<span class="text" id="note_title_all_text"></span>
	    </p>   
    </div>
    <div id="help_guest_set"></div>
</div>
<script type="text/javascript">try{$}catch(e){location.href="/"}$(document).ready(function(i){var q=$.su.url("/admin/wireless?form=guest");var h=$.su.url("/admin/wireless?form=guest_2g");var p=$.su.url("/admin/wireless?form=wireless_2g");var o=$.su.url("/admin/wireless?form=syspara_2g");var g=$.su.url("/admin/wireless?form=region");var k=new $.su.Proxy({url:o});var r="off";var n="off";var d="";$("span.note-title").text($.su.CHAR.OPERATION.NOTE);$("span#note_title_2g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);$("span#note_title_all_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);$("div.func-container").page({title:$.su.CHAR.GUEST_SETTINGS.WIRELESS_SETTINGS,help:""});$("input#guest_isolate").checkbox({fieldLabel:null,items:[{boxlabel:$.su.CHAR.GUEST_SETTINGS.ALLOW_EACH,uncheckedValue:"off",inputValue:"on",id:"chk_allow_each"}]});$("input#guest_access").checkbox({fieldLabel:null,items:[{boxlabel:$.su.CHAR.GUEST_SETTINGS.ALLOW_LOCAL,uncheckedValue:"off",inputValue:"on",id:"chk_allow_local"}]});var f=new $.su.Proxy({url:q});$("div#guest_global").form({proxy:f,fields:[{name:"access",mapping:"access"},{name:"isolate",mapping:"isolate"}],submitBtn:"default",autoLoad:true});$("div#guest_global_cnt").panel({title:$.su.CHAR.GUEST_SETTINGS.GLOBAL_SETTINGS,collapsible:false});$("div#guest_2g").panel({title:$.su.CHAR.GUEST_SETTINGS.WIRELESS,help:""});$("input#status_2g").checkbox({fieldLabel:$.su.CHAR.GUEST_SETTINGS.WIRELESS_24G_RADIO,labelCls:"l",tips:"",tipsCls:"s",items:[{boxlabel:$.su.CHAR.GUEST_SETTINGS.ENABLE_GUEST,uncheckedValue:"off",inputValue:"on",id:"chk_enable_guest_2g"}]});$("input#network_name_2g").textbox({fieldLabel:$.su.CHAR.GUEST_SETTINGS.NAME_SSID,labelCls:"l",vtype:{vtype:"string_visible_allow_blank",maxLength:32},maxLength:32,autoTrim:false,tipsCls:"after-checkbox",allowBlank:false,cls:"inline-block",validator:function(t){var s=encodeURIComponent(t);s=s.replace(/%[A-F\d]{2}/g,"U").length;if(s>32){return $.su.CHAR.ERROR["00000210"]}return true}}).on("ev_change",function(s,u){var t=encodeURIComponent(u);t=t.replace(/%[A-F\d]{2}/g,"U").length;if(t==32){$(this).attr("maxLength",u.length)}else{if(t>32){$(this).attr("maxLength",u.length-1)}else{if(t<32){$(this).attr("maxLength",32)}}}});$("input#hide_ssid_2g").checkbox({fieldLabel:null,cls:"inline",items:[{boxlabel:$.su.CHAR.GUEST_SETTINGS.HIDE_SSID,uncheckedValue:"off",inputValue:"on"}]});$("#guest_setting_2g").fieldset({fields:[{name:"enable"},{name:"ssid"},{name:"hidden"}]});$("input#guest_2g_password_cycle").radio({fieldLabel:$.su.CHAR.BASIC_GUEST.PASSWORD_CHANGE_CYCLE,columns:4,labelCls:"l",items:[{boxlabel:$.su.CHAR.GUEST_SETTINGS.PER_DAY,inputValue:"daily"},{boxlabel:$.su.CHAR.GUEST_SETTINGS.PER_WEEK,inputValue:"weekly"},{boxlabel:$.su.CHAR.GUEST_SETTINGS.PER_MONTH,inputValue:"monthly"},{boxlabel:$.su.CHAR.GUEST_SETTINGS.NEVER,inputValue:"never"}]}).on("ev_change",function(u,s,t){switch(t){case"never":$("div#guest_password_2g1").css({display:"none"});$("div#guest_password_2g2").css({display:"block"});$("div#guest_password_2g2").fadeIn(150);break;default:if(s!="never"){break}$("div#guest_password_2g1").css({display:"block"});$("div#guest_password_2g2").css({display:"none"});$("div#guest_password_2g1").fadeIn(150);$("input#guest_2g_dynamic_password").textbox("setValue",a());break}}).on("ev_loadData",function(t,s){});$("input#guest_2g_dynamic_password").textbox({fieldLabel:$.su.CHAR.BASIC_GUEST.DYNAMIC_PASSWORD,labelCls:"l",readOnly:true});$("input#guest_2g_dynamic_password").css({"margin-left":"15px"});$("input#guest_2g_security").radio({fieldLabel:$.su.CHAR.GUEST_SETTINGS.SECURITY,columns:2,labelCls:"l",items:[{boxlabel:$.su.CHAR.GUEST_SETTINGS.NO_SECURITY,inputValue:"none"},{boxlabel:$.su.CHAR.GUEST_SETTINGS.WPA_WPA2_PERSONAL,inputValue:"psk"}]}).on("ev_change",function(u,s,t){switch(t){case"none":$("#guest_2g_wpa").fieldset("hide");break;case"psk":$("#guest_2g_wpa").fieldset("show");break}});$("#guest_2g_wpa").fieldset({fields:[{name:"psk_version"},{name:"psk_cipher"},{name:"psk_key"}]}).hide();$("input#guest_2g_personal_version").radio({fieldLabel:$.su.CHAR.GUEST_SETTINGS.VERSION,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.GUEST_SETTINGS.AUTO,inputValue:"auto"},{boxlabel:$.su.CHAR.GUEST_SETTINGS.WPA_PSK,inputValue:"wpa"},{boxlabel:$.su.CHAR.GUEST_SETTINGS.WPA2_PSK,inputValue:"rsn"}]});$("input#guest_2g_personal_encryption").radio({fieldLabel:$.su.CHAR.GUEST_SETTINGS.ENCRYPTION,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.GUEST_SETTINGS.AUTO,inputValue:"auto"},{boxlabel:$.su.CHAR.GUEST_SETTINGS.TKIP,inputValue:"tkip"},{boxlabel:$.su.CHAR.GUEST_SETTINGS.AES,inputValue:"aes"}]});$("input#guest_2g_static_password").textbox({fieldLabel:$.su.CHAR.GUEST_SETTINGS.WIRELESS_PASSWORD,labelCls:"l",autoTrim:false,maxLength:64});$("input#guest_2g_password").textbox({});var m={};var c=false;var l=new $.su.Proxy({url:g,async:false});l.read({},function(s){m=s.capability});var b=new $.su.Proxy({url:h});var f=b;$("div#guest_2g").form({proxy:f,fields:[{name:"enable"},{name:"ssid"},{name:"hidden"},{name:"passwd_cycle"},{name:"encryption"},{name:"psk_version"},{name:"psk_cipher"},{name:"psk_key"}],submitBtn:"default",autoLoad:true,validator:function(){var t=$("input#guest_2g_security").radio("getValue");var v=$("input#guest_2g_password_cycle").radio("getValue");var s="";var w="";if(v=="never"){s=$("input#guest_2g_static_password").textbox("getValue")}else{s=$("input#guest_2g_dynamic_password").textbox("getValue");$("input#guest_2g_security").radio("setValue","psk");$("input#guest_2g_personal_version").radio("setValue","auto");$("input#guest_2g_personal_encryption").radio("setValue","auto")}$("input#guest_2g_password").val(s);if(t=="none"){return true}if(t=="psk"){var x=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(x.test(s)){return true}else{v=="never"?$("input#guest_2g_static_password").textbox("setError",$.su.CHAR.ERROR["00000066"]):$("input#guest_2g_dynamic_password").textbox("setError",$.su.CHAR.ERROR["00000066"]);$("input#guest_2g_static_password").parent().parent().next().next().find("div.error-tips-content").css({width:"320px"})}}if(t=="psk"){var u=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;var x=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(x.test(s)){return true}else{v=="never"?$("input#guest_2g_static_password").textbox("setError",$.su.CHAR.ERROR["00000066"]):$("input#guest_2g_dynamic_password").textbox("setError",$.su.CHAR.ERROR["00000066"]);$("input#guest_2g_static_password").parent().parent().next().next().find("div.error-tips-content").css({width:"320px"})}}}}).on("ev_loadData",function(u,t){var s=$("input#guest_2g_password")[0].value;if((t.extinfo.support_band=="2G")||(t.extinfo.support_band=="none")){$("span.second-mode").addClass("disabled")}else{$("span.second-mode").removeClass("disabled")}if(t.encryption==""||!t.encryption){$("input#guest_2g_security").radio("setValue","none")}if(t.passwd_cycle==""||!t.passwd_cycle){$("input#guest_2g_password_cycle").radio("setValue","never")}if(t.psk_version==""||!t.psk_version){$("input#guest_2g_personal_version").radio("setValue","auto")}else{if(t.psk_cipher==""||!t.psk_cipher){$("input#guest_2g_personal_encryption").radio("setValue","auto")}else{}}$("input#guest_2g_static_password").textbox("setValue",s);$("input#guest_2g_dynamic_password").textbox("setValue",s);d=t.extinfo.support_guest_dynpasswd});$.post(p,function(t){if(typeof t.data=="undefined"){return}r=t.data.disabled;n=t.data.disabled_all;var s=t.data.extinfo.wds_guest_compatible;if(r=="on"){$("#guest_setting_2g").form("disable");$("input#guest_2g_password_cycle").radio("disable");$("input#guest_2g_dynamic_password").textbox("disable");$("input#guest_2g_security").radio("disable");$("#guest_2g_wpa").fieldset("disable");$($("div#guest_2g").get(0).submitBtn).addClass("disabled");$("#note_title_all").removeClass("hidden")}else{$("#guest_setting_2g").form("enable");$("input#guest_2g_password_cycle").radio("enable");$("input#guest_2g_dynamic_password").textbox("enable");$("input#guest_2g_security").radio("enable");$("#guest_2g_wpa").fieldset("enable");$($("div#guest_2g").get(0).submitBtn).addClass("enable");$("#note_title_all").addClass("hidden");if(n=="on"){$("#status_2g").checkbox("disable");$("#status_2g").checkbox("setTips",$.su.CHAR.WIRELESS.ENABLE_TIPS)}else{$("#status_2g").checkbox("enable");$("#status_2g").checkbox("setTips","");if(s=="no"){k.read({},function(u){enable=u.enable;if(enable=="on"){$("input#status_2g").checkbox("disable");$("input#status_2g").checkbox("setTips",$.su.CHAR.ERROR["00000113"])}else{}})}}}},"json");var a=function(){var s="";s+=parseInt(Math.random()*100000000,10);while(s.length<8){s="0"+s}return s};var j=new $.su.Help({container:"div#help_guest_set",content:["GUEST_NETWORK_SETTINGS","GUEST_NETWORK_WIRELESS"],afterLoad:function(){if(d=="no"){$("#pwd_mode").hide();$("#pwd_no_random").show();$("#pwd_random").hide()}else{$("#pwd_mode").show();$("#pwd_no_random").hide();$("#pwd_random").show()}if(c){$("#help_guest_title").html($.su.CHAR.GUEST_SETTINGS.HELP_TRIBAND_GUEST_TITLE)}else{$("#help_guest_title").html($.su.CHAR.GUEST_SETTINGS.HELP_DBLBAND_GUEST_TITLE)}}})});</script>
</body>
</html>
