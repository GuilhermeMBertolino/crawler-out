<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Wireless</title>
</head>
<body>
<div class="func-container">
	<div id="smart_connect" class="hidden">
		<input type="text" id="enable_smart_connect" name="smart_enable" value="" />
	</div>
	<div id="wire_setting">
    	<form id="wireless_setting">
	    	<input type="text"  id="status_2g" name="enable" value="" />
			<div id="disable_2g">
				<input type="text"  id="network_name_2g" name="ssid" value="" />
				<input type="checkbox"  id="enable_ssid_2g" name="hidden" value="" />
				<input type="text" id="encry_password_2g" name="encry_password" />
				<input type="hidden" name="psk_key" id="basic_wire_psk_key_2g" disabled="disabled" />
				<input type="hidden" name="wpa_key" id="basic_wire_wpa_key_2g" disabled="disabled" />
				<input type="hidden" name="encryption" id="wireless_2g_encryption" disabled="disabled"  />
				<input type="hidden" name="psk_version" id="wireless_2g_psk_version" disabled="disabled"  />
				<input type="hidden" name="psk_cipher" id="wireless_2g_psk_cipher" disabled="disabled"   />
				<input type="hidden" id="wep_key1_2g" name="wep_key1" disabled="disabled" />
				<input type="hidden" id="wep_key2_2g" name="wep_key2" disabled="disabled" />
				<input type="hidden" id="wep_key3_2g" name="wep_key3" disabled="disabled" />
				<input type="hidden" id="wep_key4_2g" name="wep_key4" disabled="disabled" />
			</div>
	   		<input type="hidden"  id="wireless_2g_disabled_all" name="disabled_all" value="on"/>
			<p class="note hidden" id="note_title_all">
		    	<span class="title note-title"></span>
		    	<span class="text" id="note_title_text"></span>
		    </p>
	    </form>
	    <button id="total_save" type="button"></button> 
		<p id="note" class="note"></p>
		<div id="notice" class="wireless-confirm-msg">
			<h4 class="title">
				<span class="icon" ></span>
				<span class="text text1" id="encryption_2g_notice"></span>
				<span class="text text3" id="no_encryption_notice"></span>
				<span class="text text3" id="encryption_sure"></span>
			</h4>
		</div>
	</div>
	<div id="help_basic_wireless"></div>
</div>
<script type="text/javascript">try{$}catch(e){location.href="/"}$(document).ready(function(E){var t="./data/wireless.24g.json";var F=$.su.url("/admin/wireless?form=region");var q=new $.su.Proxy({url:F});var r=$.su.url("/admin/wireless?form=wireless_2g");var B="";var w="";var u="";var l="";var k="";var s="";var x={};var g="off";var b="off";var j="no";var p="off";var z=$.su.url("/admin/wireless?form=smart_connect");var F=$.su.url("/admin/wireless?form=region");var f={};var D=false;$("#smart_connect").panel({title:$.su.CHAR.BASIC_WIRELESS.SMART_CONNECT,collapsible:false});$("#enable_smart_connect").switchbutton({fieldLabel:$.su.CHAR.BASIC_WIRELESS.ENABLE_SMART_CONNECT,labelCls:"l",proxy:{url:z},field:{name:"smart_enable"},autoLoad:false,onHandler:function(){G()},offHandler:function(){o();$("form#wireless_setting").form("load")}});$("#enable_smart_connect").switchbutton("hide");var G=function(){p="on";var I=$($("input#status_2g").get(0)).closest(".checkbox-group-container").find(".checkbox-group-label");I.html($.su.CHAR.BASIC_WIRELESS.MODE)};var o=function(){p="off";var I=$($("input#status_2g").get(0)).closest(".checkbox-group-container").find(".checkbox-group-label");I.html($.su.CHAR.BASIC_WIRELESS.MODE_2G)};$("span.note-title").text($.su.CHAR.OPERATION.NOTE);$("#note_title_text").html($.su.CHAR.ERROR["00000101"]);$("div#wire_setting").panel({title:$.su.CHAR.BASIC_WIRELESS.TITLE});$("#disable_2g").fieldset({fields:[{name:"ssid"},{name:"hidden"},{name:"encry_password"},{name:"psk_key"},{name:"wpa_key"},{name:"encryption"},{name:"psk_version"},{name:"psk_cipher"},{name:"wep_key1"},{name:"wep_key2"},{name:"wep_key3"},{name:"wep_key4"}]});$("input#status_2g").checkbox({fieldLabel:$.su.CHAR.BASIC_WIRELESS.MODE_2G,tips:"",tipsCls:"s",labelCls:"l",items:[{boxlabel:$.su.CHAR.BASIC_WIRELESS.ENABLE_WIRELESS,uncheckedValue:"off",inputValue:"on",id:"chk_enable_wireless_24g"}]}).on("ev_change",function(K,I,J){if(J.length==0){$("#wireless_2g_disabled_all").val("on")}else{$("#wireless_2g_disabled_all").val("off")}var L=(J[0]=="enable"||J[0]=="on")?"on":"off";switch(L){case"on":$("#disable_2g").fieldset("enable");break;case"off":$("#disable_2g").fieldset("disable");break}});$("input#network_name_2g").textbox({fieldLabel:$.su.CHAR.BASIC_WIRELESS.WIRELESS_NETWORK_NAME,labelCls:"l",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:false,autoTrim:false,tipsCls:"after-checkbox l",cls:"inline",validator:function(J){var I=encodeURIComponent(J);I=I.replace(/%[A-F\d]{2}/g,"U").length;if(I>32){return $.su.CHAR.ERROR["00000210"]}return true}}).on("ev_change",function(I,K){var J=encodeURIComponent(K);J=J.replace(/%[A-F\d]{2}/g,"U").length;if(J==32){$(this).attr("maxLength",K.length)}else{if(J>32){$(this).attr("maxLength",K.length-1)}else{if(J<32){$(this).attr("maxLength",32)}}}});$("input#enable_ssid_2g").checkbox({fieldLabel:null,cls:"inline-block",items:[{boxlabel:$.su.CHAR.BASIC_WIRELESS.HIDE_SSID,uncheckedValue:"off",inputValue:"on",id:"chk_enable_ssid_broadcast_2g"}]});$("input#encry_password_2g").textbox({fieldLabel:$.su.CHAR.BASIC_WIRELESS.WIRELESS_PASSWORD,labelCls:"l",autoTrim:false,maxLength:64});var q=new $.su.Proxy({url:F,async:false});q.read({},function(I){f=I.capability;j=I.support_smart_connect||"no"});var d=new $.su.Proxy({url:z,async:false});if(j=="yes"){d.read({},function(I){if(I){p=I.smart_enable||"off"}})}else{p="off"}$("#enable_smart_connect").switchbutton("setValue",p);function A(){var L=$("input#encry_password_2g").textbox("getValue");if(L==""){$("#basic_wire_psk_key_2g").prop("disabled",true);$("#basic_wire_wpa_key_2g").prop("disabled",true);$("#wireless_2g_psk_version").prop("disabled",true);$("#wireless_2g_psk_cipher").prop("disabled",true);$("#wep_key1_2g").prop("disabled",true);$("#wep_key2_2g").prop("disabled",true);$("#wep_key3_2g").prop("disabled",true);$("#wep_key4_2g").prop("disabled",true);$("#wireless_2g_encryption").prop("disabled",false);$("#wireless_2g_encryption").val("none");s="none"}else{var R=B;if(R=="none"){var L=$("input#encry_password_2g").textbox("getValue");if(L==""){$("#wireless_2g_encryption").val("");$("#wireless_2g_psk_version").val("");$("#wireless_2g_psk_cipher").val("");$("#basic_wire_psk_key_2g").val("");$("#wireless_2g_encryption").prop("disabled",true);$("#wireless_2g_psk_version").prop("disabled",true);$("#wireless_2g_psk_cipher").prop("disabled",true);$("#basic_wire_psk_key_2g").prop("disabled",true);s="none"}else{var K=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(K.test(L)){}else{$("input#encry_password_2g").textbox("setError",$.su.CHAR.ERROR["00000066"]);return false}$("#wireless_2g_encryption").val("psk");$("#wireless_2g_psk_version").val("auto");$("#wireless_2g_psk_cipher").val("auto");$("#basic_wire_psk_key_2g").val(L);$("#wireless_2g_encryption").prop("disabled",false);$("#wireless_2g_psk_version").prop("disabled",false);$("#wireless_2g_psk_cipher").prop("disabled",false);$("#basic_wire_psk_key_2g").prop("disabled",false);s="psk"}}if(R=="wpa"){var L=$("input#encry_password_2g").textbox("getValue");var K=/^[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{1,64}$/;if(K.test(L)){}else{$("input#encry_password_2g").textbox("setError",$.su.CHAR.ERROR["00000073"]);return false}$("#basic_wire_wpa_key_2g").val(L);s="wpa"}if(R=="psk"){var L=$("input#encry_password_2g").textbox("getValue");var K=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(K.test(L)){}else{$("input#encry_password_2g").textbox("setError",$.su.CHAR.ERROR["00000066"]);return false}s="psk"}if(R=="wep"){var J=u;var S=l;var P=k;var U=$("input#encry_password_2g").textbox("getValue");var Q=/^[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{5}$/;var I=/^[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{13}$/;var N=/^[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{16}$/;var O=/^[0-9a-fA-F]{10}$/;var M=/^[0-9a-fA-F]{26}$/;var T=/^[0-9a-fA-F]{32}$/;if(S=="asic"){if(P==64){if(Q.test(U)){}else{$("input#encry_password_2g").textbox("setError",$.su.CHAR.ERROR["00000068"]);return false}}else{if(P==128){if(I.test(U)){}else{$("input#encry_password_2g").textbox("setError",$.su.CHAR.ERROR["00000070"]);return false}}else{if(N.test(U)){}else{$("input#encry_password_2g").textbox("setError",$.su.CHAR.ERROR["00000072"]);return false}}}}else{if(P==64){if(O.test(U)){}else{$("input#encry_password_2g").textbox("setError",$.su.CHAR.ERROR["00000067"]);return false}}else{if(P==128){if(M.test(U)){}else{$("input#encry_password_2g").textbox("setError",$.su.CHAR.ERROR["00000069"]);return false}}else{if(T.test(U)){}else{$("input#encry_password_2g").textbox("setError",$.su.CHAR.ERROR["00000071"]);return false}}}}s="wep"}}return true}var n=function(){var I=false;if(p=="on"){I=A()}else{I=A()}return I};function y(){$("#note").html("");if(B=="none"){$("#note").html($.su.CHAR.BASIC_WIRELESS.NOTE);$("#basic_wire_psk_key_2g").prop("disabled",false);$("#basic_wire_wpa_key_2g").prop("disabled",true);$("#wireless_2g_encryption").prop("disabled",false);$("#wireless_2g_psk_version").prop("disabled",false);$("#wireless_2g_psk_cipher").prop("disabled",false);$("#wep_key1_2g").prop("disabled",true);$("#wep_key2_2g").prop("disabled",true);$("#wep_key3_2g").prop("disabled",true);$("#wep_key4_2g").prop("disabled",true)}if(B=="psk"){$("#basic_wire_psk_key_2g").prop("disabled",false);$("#basic_wire_wpa_key_2g").prop("disabled",true);$("#wireless_2g_encryption").prop("disabled",true);$("#wireless_2g_psk_version").prop("disabled",true);$("#wireless_2g_psk_cipher").prop("disabled",true);$("#wep_key1_2g").prop("disabled",true);$("#wep_key2_2g").prop("disabled",true);$("#wep_key3_2g").prop("disabled",true);$("#wep_key4_2g").prop("disabled",true)}if(B=="wpa"){$("#basic_wire_psk_key_2g").prop("disabled",true);$("#basic_wire_wpa_key_2g").prop("disabled",false);$("#wireless_2g_encryption").prop("disabled",true);$("#wireless_2g_psk_version").prop("disabled",true);$("#wireless_2g_psk_cipher").prop("disabled",true);$("#wep_key1_2g").prop("disabled",true);$("#wep_key2_2g").prop("disabled",true);$("#wep_key3_2g").prop("disabled",true);$("#wep_key4_2g").prop("disabled",true)}if(B=="wep"){var J=x.wep_select;$("#basic_wire_wpa_key_2g").prop("disabled",true);$("#wireless_2g_encryption").prop("disabled",true);$("#wireless_2g_psk_version").prop("disabled",true);$("#wireless_2g_psk_cipher").prop("disabled",true);$("#basic_wire_psk_key_2g").prop("disabled",true);for(var K=1;K<=4;K++){var I="#wep_key"+K+"_2g";if(J==K){$(I).prop("disabled",false)}else{$(I).prop("disabled",true)}}}}var a=function(){y()};var H=new $.su.Proxy({url:r});var m=H;var C=$("form#wireless_setting").form({proxy:m,fields:[{name:"enable",mapping:"enable"},{name:"ssid",mapping:"ssid"},{name:"hidden",mapping:"hidden"}],autoLoad:true,submitBtn:"#total_save"}).on("ev_loadData",function(K,J){x=J;B=J.encryption;w=J.ssid;u=J.wep_select;l=J["wep_format"+u];k=J["wep_type"+u];if(J.enable=="on"){$("#wireless_2g_disabled_all").val("off")}else{$("#wireless_2g_disabled_all").val("on")}g=J.disabled;if(J.disabled=="on"){$("input#status_2g").checkbox("disable");$("input#network_name_2g").textbox("disable");$("input#enable_ssid_2g").checkbox("disable");$("input#encry_password_2g").textbox("disable");$("#total_save").button("disable");$("#note_title_all").removeClass("hidden")}else{$("input#status_2g").checkbox("enable");$("input#network_name_2g").textbox("enable");$("input#enable_ssid_2g").checkbox("enable");$("input#encry_password_2g").textbox("enable");$("#total_save").button("enable");$("#note_title_all").addClass("hidden")}$("#basic_wire_psk_key_2g").val(J.psk_key);$("#wep_key1_2g").val(J.wep_key1);$("#wep_key2_2g").val(J.wep_key2);$("#wep_key3_2g").val(J.wep_key3);$("#wep_key4_2g").val(J.wep_key4);switch(B){case"psk":$("input#encry_password_2g").textbox("setValue",J.psk_key);break;case"wpa":$("input#encry_password_2g").textbox("setValue",J.wpa_key);break;case"wep":var I=J.wep_select;var L="wep_key"+I;$("input#encry_password_2g").textbox("setValue",J[L]);break;default:}a();if(p=="on"){G()}else{o()}});$("#encryption_2g_notice").html($.su.CHAR.BASIC_WIRELESS.ENCRYPTION_2G_NOTICE);$("#no_encryption_notice").html("");$("#encryption_sure").html($.su.CHAR.BASIC_WIRELESS.ENCRYPTION_SURE);var h=$("div#notice").msg({closeBtn:false,type:"confirm",cls:"m warning",okHandler:function(){i()},noHandler:function(){a();$("#wireless_2g_encryption").val(B);return}});$("#total_save").button({text:$.su.CHAR.BASIC_WIRELESS.SAVE,cls:"submit",handler:function(){switch(B){case"none":break;case"psk":$("#wireless_setting input[name='psk_key']").val($("#encry_password_2g").textbox("getValue"));break;case"wpa":break;case"wep":var M="#wep_key"+u+"_2g";$(M).val($("#encry_password_2g").textbox("getValue"));break}if($("#wireless_setting").form("validate")&&n()){var L="";var J=p=="on"?$.su.CHAR.BASIC_WIRELESS.ENCRYPTION_NOTICE:$.su.CHAR.BASIC_WIRELESS.ENCRYPTION_2G_NOTICE;var I=p=="on"?$.su.CHAR.BASIC_WIRELESS.ENCRYPTION_NO:$.su.CHAR.BASIC_WIRELESS.ENCRYPTION_2G_NO;$("#encryption_2g_notice").css({display:"block"});switch(s){case"wep":L=$.su.CHAR.WIRELESS.WEP;$("#encryption_2g_notice").html(J.replace("%s",L));break;case"psk":L=$.su.CHAR.WIRELESS.WPA_WPA2_PERSONAL;$("#encryption_2g_notice").html("");$("#encryption_2g_notice").css({display:"none"});break;case"wpa":L=$.su.CHAR.WIRELESS.WPA_WPA2_ENTERPRISE;$("#encryption_2g_notice").html(J.replace("%s",L));break;default:L=$.su.CHAR.WIRELESS.NO_SECURITY;$("#encryption_2g_notice").html(I);$("#no_encryption_notice").html($.su.CHAR.BASIC_WIRELESS.ENCRYPTION_NO);break}var K=(s=="psk");if(D){K=K}if(p=="on"){K=s=="psk"?true:false}if(K){i()}else{h.msg("show")}}else{return}}});var i=function(){if(p=="on"){$("form#wireless_setting").form("showLoading");var I={};I=$("form#wireless_setting").form("serialize");m.write(data,function(){$("form#wireless_setting").form("prompt",true);$("form#wireless_setting").form("hideLoading")},function(){$("form#wireless_setting").form("prompt",false);$("form#wireless_setting").form("hideLoading")},function(){$("form#wireless_setting").form("prompt",false);$("form#wireless_setting").form("hideLoading")});setTimeout(function(){$("form#wireless_setting").form("hideLoading")},500)}else{$("form#wireless_setting").form("submit")}};var v=["BASIC_WIRELESS"];var c=new $.su.Help({container:"div#help_basic_wireless",content:v})});</script>
</body>
</html>
