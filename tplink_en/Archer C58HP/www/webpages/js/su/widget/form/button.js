(function(a){a.su.Widget("button",{defaults:{text:"",iconCls:"",enableToggle:false,toggleHander:null,pressedCls:"pressed",pressed:false,cls:"",btnCls:"",fieldLabel:null},create:function(e,c){var d=this;d.each(function(n,m){var o=a(this);a.extend(m,e,c);var h=o.attr("name")||"",k=o.attr("id")||a.su.randomId("button"),s=o.val()||"",u=o.attr("class")||"";var r=null;if(o.is("input")){var l=a('<button id="button-'+k+'" name="button-'+h+'" class="'+u+'" type="button">'+s+"</button>");o.replaceWith(l);r=o;o=l;a.extend(l.get(0),e,c)}var p=o.html();var t=m.text||p||"";var f='<span class="button-button-before"></span>';if(m.iconCls!==""){f+='<span class="icon button-icon '+m.iconCls+'"></span>'}f+='<span class="text button-text">'+t+"</span>";o.empty().addClass("button-button "+m.btnCls).append(a(f));f='<div class="container widget-container button-container '+m.cls+'">';if(m.fieldLabel!==null){f+='<div class="widget-fieldlabel-wrap '+m.labelCls+'">';f+='<label class="widget-fieldlabel text-fieldlabel">'+m.fieldLabel+"</label>";if(m.fieldLabel!==""){f+='<span class="widget-separator">'+m.separator+"</span>"}f+="</div>"}f+='<div class="widget-wrap-outer button-wrap-outer">';f+='<div class="widget-wrap button-wrap">';f+="</div>";if(this.tips!=null&&this.tips!=undefined){f+='<div class="widget-tips textbox-tips '+m.tipsCls+'">';f+='<div class="content tips-content"></div>';f+="</div>"}f+='<div class="widget-error-tips textbox-error-tips '+m.errorTipsCls+'">';f+='<span class="widget-error-tips-delta"></span>';f+='<div class="widget-error-tips-wrap">';f+='<div class="content error-tips-content"></div>';f+="</div>";f+="</div>";f+="</div>";f+="</div>";var g=a(f);o.replaceWith(g);var j=g.find("div.button-wrap");j.append(o);if(r){j.append(r.addClass("hidden"))}if(a.type(m.handler)==="function"){o.bind("click",m.handler)}if(m.enableToggle===true){var q=m.pressed;o.attr("pressed",q);if(q.toString()==="true"){o.addClass(m.pressedCls)}o.bind("click",function(w){var i=a(this),v=this.pressed;if(v.toString()==="false"){i.addClass(this.pressedCls);v=true}else{i.removeClass(this.pressedCls);v=false}i.attr("pressed",v);this.pressed=v;if(a.type(this.toggleHander)==="function"){this.toggleHander.call(this,v)}})}m.isButton=true});var b=d.closest("div.button-container");b.delegate("button.button-button","mousedown",function(f){b.addClass("clicked")}).delegate("button.button-button","click",function(f){f.preventDefault()});d.button("setTips",c.tips);return d},setText:function(d,e){var d=d||this,b=d.closest("div.button-container"),c=b.find("button.button-button span.button-text"),e=e[1];if(e){d.text=e;c.html(e)}return d},setValue:function(b,c){var b=b||this,c=c[1]||"";b.val(c);return b},disable:function(c){var c=c||this,b=c.closest("div.button-container");b.addClass("disabled");b.find("button.button-button").prop("disabled",true);return c},enable:function(c){var c=c||this,b=c.closest("div.button-container");b.removeClass("disabled");b.find("button.button-button").prop("disabled",false);return c},getContainer:function(c){var c=c||this,b=c.closest("div.button-container");return b}})})(jQuery);