(function(a){a.su.Widget("number",{defaults:{fieldLabel:"",tips:"",cls:"",isdisabled:false,isvalid:false,maxValue:null,minValue:null,validator:null,invalidText:a.su.CHAR.INVALIDTEXT,allowBlank:true,blankText:a.su.CHAR.BLANKTEXT,isNumber:true},create:function(f,c){var e=this;e.each(function(k,n){var h=a(this);if(!h.is("input")){return null}var o=c.id||this.id||"textbox-"+parseInt(Math.random()*1000*1000*1000,10).toString(),m=c.value||this.value||f.value,j=c.name||this.name||f.name;a.extend(this,f,c);a(this).attr({value:m,id:o,name:j}).val(m).addClass("number-text");if(this._maxLength){a(this).attr("maxlength",this._maxLength)}var l='<div class="container widget-container text-container number-container '+this.cls+'">';if(this.fieldLabel!==null){l+='<div class="widget-fieldlabel-wrap '+this.labelCls+'">';l+='<label class="widget-fieldlabel number-fieldlabel">'+this.fieldLabel+"</label>";if(this.fieldLabel!==""){l+='<span class="widget-separator">'+this.separator+"</span>"}l+="</div>"}l+='<span class="widget-wrap text-wrap number-wrap">';l+='<button class="widget-switch number-switch number-switch-up" title="Increase" type="button"></button>';l+='<button class="widget-switch number-switch number-switch-down" title="Decrease" type="button"></button>';l+="</span>";l+='<div class="widget-tips number-tips '+n.tipsCls+'">';l+='<div class="content tips-content"></div>';l+="</div>";l+="</div>";var g=a(l);h.replaceWith(g);g.find("span.number-wrap").prepend(h.remove().addClass("text-text number-text"))});var b=e.parents("div.number-container"),d=0;b.delegate(".number-switch-up","mousedown",function(i){var h=a(this).parent("span.number-wrap"),g=h.find("input.number-text");d=setInterval(function(){var j=g.val();if(a.su.vtype.types.number.regex.test(j)){j++;g.val(j)}},60)}).delegate(".number-switch-up","mouseup mouseleave mouseout",function(g){clearTimeout(d)});b.delegate(".number-switch-down","mousedown",function(i){var h=a(this).parent("span.number-wrap"),g=h.find("input.number-text");d=setInterval(function(){var j=g.val();if(a.su.vtype.types.number.regex.test(j)){j=j-1;g.val(j)}},60)}).delegate(".number-switch-down","mouseup mouseleave mouseout",function(g){clearTimeout(d)});b.delegate("input.number-text","keydown",a.su.vtype.types.number.keybordHandler);e.number("setTips",c.tips);return e},validate:function(b){}})})(jQuery);