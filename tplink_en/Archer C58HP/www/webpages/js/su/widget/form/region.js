(function(b){var a=b.su.CHAR.REGION;b.su.Widget("region",{defaults:{noneSelectedText:b.su.CHAR.NOSELECTEDTEXT,tabs:[{title:"ABCD",classify:"ABCD"},{title:"EFGHI",classify:"EFGHI"},{title:"JKMN",classify:"JKMN"}],items:[{text:a.ALBANIA,value:"alb",search:"albania",classify:"ABCD",capital:"A"},{text:a.ALGERIA,value:"alg",search:"algeria",classify:"ABCD",capital:"A"},{text:a.ARGENTINA,value:"arg",search:"Argentina",classify:"ABCD",capital:"A"},{text:a.ARMENIA,value:"arm",search:"Armenia",classify:"ABCD",capital:"A"},{text:a.AUSTRALIA,value:"ausa",search:"Australia",classify:"ABCD",capital:"B"},]},create:function(f,d){var e=this;e.each(function(j,m){var l=b(m);b.extend(m,f,d);var h=m.tabs;var k='<div class="container widget-container region-container '+m.cls+'">';if(m.fieldLabel!==null){k+='<div class="widget-fieldlabel-wrap '+m.labelCls+'">';k+='<label class="widget-fieldlabel region-fieldlabel">'+m.fieldLabel+"</label>";if(m.fieldLabel!==""){k+='<span class="widget-separator">'+m.separator+"</span>"}k+="</div>"}k+='<div class="widget-wrap region-wrap">';k+='<input class="region-text" type="text" value="'+m.noneSelectedText+'"/>';k+='<a class="region-switch" href="javascript:void(0);"></a>';k+='<div class="region-search-wrap">';k+='<ul class="region-search"></ul>';k+="</div>";k+='<div class="region-select-wrap">';k+='<div class="region-tabs-container">';k+='<ul class="region-tabs">';k+="</ul>";k+="</div>";k+='<div class="region-content-container">';k+="</div>";k+="</div>";k+="</div>";k+="</div>";var g=b(k);l.replaceWith(g);g.prepend(l.addClass("hidden region-value"))});e.region("initSelection");e.region("initSearch");var c=e.region("getContainer");c.delegate("a.region-switch","click",function(h){h.stopPropagation();var i=c.find("div.region-search-wrap"),g=c.find("div.region-select-wrap");i.fadeOut(100,function(j){g.slideDown(200)})}).delegate("div.region-select-wrap","click",function(g){g.stopPropagation()}).delegate("input.region-text","keyup",function(h){var i=c.find("div.region-search-wrap"),g=c.find("div.region-select-wrap");g.fadeOut(100,function(j){i.slideDown(200)})});e.region("setValue",e.get(0).value);return e},initSearch:function(i){var i=i||this,e=i.get(0),h=e.items,d=i.region("getContainer"),j=d.find("ul.region-search");var c="";for(var f=0,g=h.length;f<g;f++){var k=h[f];c+='<li class="region-search-btn" data-search="'+k.search+'">';c+='<a class="" href="javascript:void(0);">'+k.text+"</a>";c+="</li>"}j.append(b(c));return i},initSelection:function(t){var t=t||this,m=t.get(0),q=m.tabs,o=m.items,n=t.region("getContainer"),j=n.find("ul.region-tabs"),l=n.find("div.region-content-container");var i="",g="";for(var h=0,p=q.length;h<p;h++){var d=q[h];i+='<li class="region-tab">';i+='<a class="" href="javascript:void(0);">'+d.title+"</a>";i+="</li>";g+='<div class="region-content-wrap" data-classify="'+d.classify+'">';g+="</div>"}j.empty().append(b(i));l.empty().append(b(g));var f={};for(var h=0,p=o.length;h<p;h++){var r=o[h];f[r.classify]=f[r.classify]||[];f[r.classify].push(r)}for(var h in f){var k=f[h];k.sort(function(v,u){return v.capital-u.capital});var e="",c=k[0].capital;e+="<div>";e+="<div>";e+="<span>"+c+"</span>";e+="</div>";e+="<div>";e+="<ul>";for(var s=0,p=k.length;s<p;s++){var r=k[s];if(c!==r.capital){c=r.capital;e+="</ul>";e+="</div>";e+="</div>";e+="<div>";e+="<div>";e+="<span>"+c+"</span>";e+="</div>";e+="<div>";e+="<ul>";e+='<li class="region-select">';e+='<a href="javascript:void(0);" data-value="'+r.value+'">'+r.text+"</a>";e+="</li>"}else{e+='<li class="region-select">';e+='<a href="javascript:void(0);" data-value="'+r.value+'">'+r.text+"</a>";e+="</li>"}}e+="</ul>";e+="</div>";e+="</div>";l.find("div.region-content-wrap[data-classify="+h+"]").append(b(e))}return t},setValue:function(c,d){var c=c||this,d=d[1];return c}})})(jQuery);