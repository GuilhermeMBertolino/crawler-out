<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>syspara Control</title>
<style type="text/css">
	#title{
		color: #10abe1;
		font-size: 14px;
		height: 24px;
		border-bottom: 1px solid #d8d8d9;
	}
	#ok{
		margin-left:200px;
	}
	lebel.notice_lbl{
		padding-top:5px;
	}
	table#tbl_dos{
		width:100%;
	}
	td.notice{
		vertical-align:top;
		width:230px;
		margin:0px;
		text-align: left;
		padding-top:15px
	}
	td.value{
		text-align: left;
	}
	span.disabled{
	    color: #B3B3B3;
   }
</style>
</head>
<body>
<div class="func-container">
	<div id="w24g">
		<form id="w24g-setting">
	    	<input type="text"  id="beacon_int_2g" name="beacon_int" value="" />
	    	<input type="text"  id="rts_2g" name="rts" value="" />
            <input type="text"  id="dtim_period_2g" name="dtim_period" value="" />
			<input type="text"  id="wpa_group_rekey_2g" name="wpa_group_rekey" value="" />
			<div id="feature2g_container" class="hidden">
		    	<input type="text"  id="wmm_2g" name="wmm" value="" />
		    	<input type="text"  id="shortgi_2g" name="shortgi" value="" />
		    	<input type="text"  id="isolate_2g" name="isolate" value="" />
			</div>
	    	<p class="note hidden" id="note_title_2g">
	    		<span class="title note-title"></span>
	    		<span class="text" id="note_title_2g_text"></span>
	    	</p>
	    </form>
	</div>
	<div id="w5g">
		<form id="w5g-setting">
	    	<input type="text"  id="beacon_int_5g" name="beacon_int" value="" />
	    	<input type="text"  id="rts_5g" name="rts" value="" />
            <input type="text"  id="dtim_period_5g" name="dtim_period" value="" />
			<input type="text"  id="wpa_group_rekey_5g" name="wpa_group_rekey" value="" />
			<div id="feature5g_container" class="hidden">
		    	<input type="text"  id="wmm_5g" name="wmm" value="" />
		    	<input type="text"  id="shortgi_5g" name="shortgi" value="" />
		    	<input type="text"  id="isolate_5g" name="isolate" value="" />
			</div>
		    <p class="note hidden" id="note_title_5g">
		    	<span class="title note-title"></span>
		    	<span class="text" id="note_title_5g_text"></span>
		    </p>
	    </form>
	</div>
	<div id="w24g-wds">
	 	<form id="w24g-wds-setting">
	 		<input type="text"  id="enable_2g" name="enable" value="" />
			<div id="ssid_cnt_2g">
				<input type="text"  id="enable_dhcp_2g" name="dhcp" value="" />
		    	<input type="text"  id="ssid_2g" name="ssid" value="" />
		    	<button type="button" id="syspara_survey_2g" name="syspara_survey"></button>
		    	<input type="text"  id="bssid_2g" name="bssid" value="" />
				<input type="text"  id="wds_mode_2g" name="wds_mode" value="" />
		    	<input type="text"  id="encryption_2g" name="encryption" value="" />
		    	<div id="wpa_cnt_24g">
		    		<input type="text"  id="psk_key_2g" name="psk_key" value="" />
			    </div>
		    	<div id="wep_cnt_24g">
		    		<input type="text"  id="wep_mode_2g" name="wep_mode" value="" />
		    		<input type="text"  id="wep_select_2g" name="wep_select" value="" />
		    		<div id="key1_cnt_2g">
			    		<input type="text"  id="wep_format1_2g" name="wep_format1" value="" />
			    		<input type="text"  id="wep_key1_2g" name="wep_key1" value="" />
			    	</div>
			    	<div id="key2_cnt_2g">
			    		<input type="text"  id="wep_format2_2g" name="wep_format2" value="" />
			    		<input type="text"  id="wep_key2_2g" name="wep_key2" value="" />
			    	</div>
			    	<div id="key3_cnt_2g">
			    		<input type="text"  id="wep_format3_2g" name="wep_format3" value="" />
			    		<input type="text"  id="wep_key3_2g" name="wep_key3" value="" />
			    	</div>
			    	<div id="key4_cnt_2g">
			    		<input type="text"  id="wep_format4_2g" name="wep_format4" value="" />
			    		<input type="text"  id="wep_key4_2g" name="wep_key4" value="" />
			    	</div>
		    	</div>
		    </div>
		    <p class="note hidden" id="wds_note_title_2g">
		    	<span class="title note-title"></span>
		    	<span class="text" id="wds_note_title_2g_text"></span>
	    	</p>
	 	</form>
	</div>
	<div id="w5g-wds">
	 	<form id="w5g-wds-setting">
	 		<input type="text"  id="enable_5g" name="enable" value="" />
	    	<div id="ssid_cnt_5g">
				<input type="text"  id="enable_dhcp_5g" name="dhcp" value="" />
		    	<input type="text"  id="ssid_5g" name="ssid" value="" />
		    	<button type="button" id="syspara_survey_5g" name="syspara_survey"></button>
		    	<input type="text"  id="bssid_5g" name="bssid" value="" />
				<input type="text"  id="wds_mode_5g" name="wds_mode" value="" />
		    	<input type="text"  id="encryption_5g" name="encryption" value="" />
		    	<div id="wpa_cnt_5g">
		    		<input type="text"  id="psk_key_5g" name="psk_key" value="" />
		    	</div>
		    	<div id="wep_cnt_5g">
		    		<input type="text"  id="wep_mode_5g" name="wep_mode" value="" />
		    		<input type="text"  id="wep_select_5g" name="wep_select" value="" />
		    		<div id="key1_cnt_5g">
			    		<input type="text"  id="wep_format1_5g" name="wep_format1" value="" />
			    		<input type="text"  id="wep_key1_5g" name="wep_key1" value="" />
			    	</div>
			    	<div id="key2_cnt_5g">
			    		<input type="text"  id="wep_format2_5g" name="wep_format2" value="" />
			    		<input type="text"  id="wep_key2_5g" name="wep_key2" value="" />
			    	</div>
			    	<div id="key3_cnt_5g">
			    		<input type="text"  id="wep_format3_5g" name="wep_format3" value="" />
			    		<input type="text"  id="wep_key3_5g" name="wep_key3" value="" />
			    	</div>
			    	<div id="key4_cnt_5g">
			    		<input type="text"  id="wep_format4_5g" name="wep_format4" value="" />
			    		<input type="text"  id="wep_key4_5g" name="wep_key4" value="" />
			    	</div>
		    	</div>
	    	</div>
	    	<p class="note hidden" id="wds_note_title_5g">
		    	<span class="title note-title"></span>
		    	<span class="text" id="wds_note_title_5g_text"></span>
	    	</p>
	 	</form>
	</div>
	<div id="wps">
	 	<form id="wps-setting">
	    	<input type="text"  id="wps_status" name="wps" value="" />
	    </form>
	</div>
	<div id="nat">
	 	<form id="nat-setting">
	    	<input type="text"  id="nat_enable" name="enable" value="" />
	    	<input type="text"  id="nat_boost_enable" name="boost_enable" class="hidden" value="" />
	    	<input type="button"  id="nat_save_btn" value="" />
	    </form>
	</div>
	<div id="level">
	 	<form id="level-setting">
	    	<table id="tbl_dos">
	    		<tbody>
	    			<tr>
	    				<td class="notice"><label id="syspara_level_icmp" class="notice_lbl"></label></td>
	    				<td class="value">
	    					<input type="text"  id="icmp_low" name="icmp_low" value="" />
	    					<input type="text"  id="icmp_middle" name="icmp_middle" value="" />
	    					<input type="text"  id="icmp_high" name="icmp_high" value="" />
	    				</td>
	    			</tr>
	    			<tr>
	    				<td class="notice"><label id="syspara_level_udp" class="notice_lbl"></label></td>
	    				<td  class="value">
	    					<input type="text"  id="udp_low" name="udp_low" value="" />
	    					<input type="text"  id="udp_middle" name="udp_middle" value="" />
	    					<input type="text"  id="udp_high" name="udp_high" value="" />
	    				</td>
	    			</tr>
	    			<tr>
	    				<td class="notice"><label id="syspara_level_tcp" class="notice_lbl"></label></td>
	    				<td class="value">
	    					<input type="text"  id="tcp_low" name="syn_low" value="" />
	    					<input type="text"  id="tcp_middle" name="syn_middle" value="" />
	    					<input type="text"  id="tcp_high" name="syn_high" value="" />
	    				</td>
	    			</tr>
	    		</tbody>
	    	</table>
	    </form>
	</div>
	<div id="survey">
	 	<div id="result_2g">
		</div>
		<div id="result_5g">
		</div>
	</div>
    <div id="internet_duplex_panel">
    	<form id="internet_duplex_form">
    		<input name="port" value="wan" class="hidden"/>
			<input id="internet_duplex" name="speed"/>
		</form>
	</div>
	<div id="debug-mode">
	 	<form id="debug-mode-setting">
	    	<input type="text"  id="debug-mode-status" name="debug_mode" value="" />
	    </form>
	 </div>
	<div id="notice_2g">
		<h4 class="title">
	    	<span class="icon"></span>
	 		<span class="text" id="notice_content_2g"></span>
	 	</h4>
	</div>
	<div id="notice_5g">
		<h4 class="title">
	    	<span class="icon"></span>
	 		<span class="text" id="notice_content_5g"></span>
	 	</h4>
	</div>
	<div id="notice_nat_boost">
		<h4 class="title">
	    	<span class="icon"></span>
	 		<span class="text" id="notice_content_nat_boost"></span>
	 	</h4>
	</div>
	<div id="reboot_nat_boost">
		<div id="factory_pro_cnt" class="reboot-loading-msg">
	 		<p id="factory_note"  class="reboot-progressbar-text"></p>
	    	<input id="factory_pro_bar" type="text" />
	    </div>
	</div>
	<div id="help_system_para"></div>
</div>
<script type="text/javascript">try{$}catch(e){location.href="/"}$(document).ready(function(){var g="";var S="";var D="";var C="";var ap=true;var av="";var aq;var q=new $.su.Proxy({url:$.su.url("/admin/network?form=port_speed_current")});var j=$.su.url("/admin/network?form=port_speed_supported");var ar=$.su.url("/admin/wireless?form=guest_2g");var E=$.su.url("/admin/wireless?form=guest_5g");var A=$.su.url("/admin/wireless?form=region");var f={};var aw=false;var z=new $.su.Proxy({url:A,async:false});z.read({},function(ay){f=ay.capability});var Z=new $.su.Proxy({url:ar});var p=new $.su.Proxy({url:E});var N=new $.su.Proxy({url:$.su.url("/admin/dhcps?form=setting")});N.read({},function(ay){aq=ay;$("#enable_dhcp_2g").checkbox("setValue",ay.enable);$("#enable_dhcp_5g").checkbox("setValue",ay.enable)});$("div#internet_duplex_panel").panel({title:$.su.CHAR.INTERNET.DUPLEX,collapsible:false});$("input#internet_duplex").combobox({fieldLabel:$.su.CHAR.INTERNET.DUPLEX,labelCls:"m",items:[]});function b(az){var ay=$(az).checkbox("getContainer")}function c(aC){var aB="";var az="";var aA="";if(!aC){return""}else{if(aC=="auto"){return $.su.CHAR.INTERNET.AUTO_NEGOTIATION}else{if(aC.indexOf("H")>0){az=aC.replace("H","_DUPLEX_HALF")}else{if(aC.indexOf("F")>0){az=aC.replace("F","_DUPLEX_FULL")}}var ay=az.split("_");ay.reverse();aA=ay.join("_");aB=$.su.CHAR.INTERNET[aA]}}return aB}var ag=[];$.post(j,{},function(az,ay,aA){if(!az.data){return false}$(az.data.supported).each(function(aC,aD){var aB={};aB.value=aD;aB.name=c(aD);ag.push(aB)});$("#internet_duplex").combobox("loadData",ag);$("form#internet_duplex_form").form({proxy:q,fields:[{name:"speed",mapping:"speed"}],submitBtn:"default"})},"json");var ad=$.su.url("/admin/wireless?form=syspara_2g");var G=$.su.url("/admin/wireless?form=syspara_5g");var F=$.su.url("/admin/wireless?form=survey_2g");var ax=$.su.url("/admin/wireless?form=survey_5g");var Q=$.su.url("/admin/wireless?form=syspara_wps");var o=$.su.url("/admin/nat?form=setting");var B=$.su.url("/admin/security_settings?form=dos_setting");var ah=$.su.url("/admin/wireless?form=wireless_2g");var s=$.su.url("/admin/wireless?form=wireless_5g");var aa=$.su.url("/admin/ledpm?form=setting");var H=$.su.url("/admin/syslog?form=mode");var M=$.su.url("/admin/qos?form=settings");var k=new $.su.Proxy({url:M});var Y="";var L=$.su.url("/admin/traffic?form=status");var ac=new $.su.Proxy({url:L});var t="";var O=5;var ai=7200;var h=0;var T=0;var P="off";var d="off";var X="off";var R="off";var an="off";var I="off";var r=0;var ab=0;var w=false;var v=false;var u=false;var am=false;var ak=false;var aj=false;var ao=false;var n=false;var af=10*1000;var U="";$("span.note-title").text($.su.CHAR.OPERATION.NOTE);$("span#note_title_2g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);$("span#note_title_5g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);$("span#wds_note_title_2g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);$("span#wds_note_title_5g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);$("div.func-container").page({title:$.su.CHAR.SYSPARA.TITLE,help:""});var m=aw?$.su.CHAR.SYSPARA.W51G:$.su.CHAR.SYSPARA.W5G;$("div#w5g").panel({title:m,collapsible:false});var ae=aw?$.su.CHAR.SYSPARA.W51G_WDS:$.su.CHAR.SYSPARA.W5G_WDS;$("div#w5g-wds").panel({title:ae,collapsible:false});$("input#beacon_int_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.BEACON,tips:$.su.CHAR.SYSPARA.BEACONUNIT,inputCls:"m",tipsCls:"xs",vtype:{vtype:"number",min:40,max:1000},maxLength:4,textFormat:$.su.format.number,min:40,max:1000,allowBlank:false,labelCls:"l"});$("input#rts_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.RTS,tips:$.su.CHAR.SYSPARA.RTSUNIT,inputCls:"m",tipsCls:"xs",vtype:{vtype:"number",min:1,max:2346},maxLength:4,textFormat:$.su.format.number,min:1,max:2346,allowBlank:false,labelCls:"l"});$("input#dtim_period_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.DTIM,tips:$.su.CHAR.SYSPARA.DTIMUNIT,inputCls:"m",tipsCls:"xs",vtype:{vtype:"number",min:1,max:15},maxLength:2,textFormat:$.su.format.number,min:1,max:15,allowBlank:false,labelCls:"l"});$("input#wpa_group_rekey_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.GROUP,tips:$.su.CHAR.SYSPARA.GROUPUNIT,inputCls:"m",tipsCls:"xs",vtype:"number",textFormat:$.su.format.number,allowBlank:false,maxLength:5,invalidText:$.su.CHAR.ERROR["00000039"],validator:function(ay){if(ay==0){return true}if((ay>=30)&&(ay<=86400)){return true}return false},labelCls:"l"});$("input#wmm_5g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.WMM_FEATURE,labelCls:"l",cls:"part-separate",items:[{boxlabel:$.su.CHAR.SYSPARA.WMM,uncheckedValue:"off",inputValue:"on"}]});$("input#shortgi_5g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.GI_FEATURE,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.GI,uncheckedValue:"off",inputValue:"on"}]});$("input#isolate_5g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.AP_FEATURE,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.AP,uncheckedValue:"off",inputValue:"on"}]});$("input#enable_5g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.WDS_FEATURE,labelCls:"l",cls:"part-separate",tips:"",tipsCls:"m",items:[{boxlabel:$.su.CHAR.SYSPARA.WDS,uncheckedValue:"off",inputValue:"on"}]}).on("ev_change",function(aE,aA,aD){var aF=(aD[0]=="enable"||aD[0]=="on")?"on":"off";var az=$("input#encryption_5g").radio("getValue");var aC=$("input#wep_select_5g").combobox("getValue")[0];var aB=$("input#enable_5g").checkbox("getContainer");var ay=$(aB).hasClass("disabled");switch(aF){case"on":if(ay){return}$("#ssid_cnt_5g").fieldset("show");$("#wpa_cnt_5g").fieldset((az=="psk")?"show":"hide");$("#wep_cnt_5g").fieldset((az=="wep")?"show":"hide");$("#key1_cnt_5g").fieldset(((az=="wep")&&aC=="1")?"show":"hide");$("#key2_cnt_5g").fieldset(((az=="wep")&&aC=="2")?"show":"hide");$("#key3_cnt_5g").fieldset(((az=="wep")&&aC=="3")?"show":"hide");$("#key4_cnt_5g").fieldset(((az=="wep")&&aC=="4")?"show":"hide");break;case"off":$("#ssid_cnt_5g").fieldset("hide");$("#wep_cnt_5g").fieldset("hide");$("#wpa_cnt_5g").fieldset("hide");$("#key1_cnt_5g").fieldset("hide");$("#key2_cnt_5g").fieldset("hide");$("#key3_cnt_5g").fieldset("hide");$("#key4_cnt_5g").fieldset("hide");break}});$("input#ssid_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.SSID_BRIDEGE,labelCls:"l",vtype:"string_visible_allow_blank",allowBlank:false,maxLength:32,autoTrim:false,cls:"inline",validator:function(az){var ay=encodeURIComponent(az);ay=ay.replace(/%[A-F\d]{2}/g,"U").length;if(ay>32){return $.su.CHAR.ERROR["00000210"]}return true}}).on("ev_change",function(ay,aA){var az=encodeURIComponent(aA);az=az.replace(/%[A-F\d]{2}/g,"U").length;if(az==32){$(this).attr("maxLength",aA.length)}else{if(az>32){$(this).attr("maxLength",aA.length-1)}else{if(az<32){$(this).attr("maxLength",32)}}}});$("#wds_mode_5g").combobox({fieldLabel:$.su.CHAR.SYSPARA.WDS_MODE,labelCls:"l",items:[{value:"2",name:$.su.CHAR.SYSPARA.AUTO},{value:"1",name:$.su.CHAR.SYSPARA.WDS1},{value:"0",name:$.su.CHAR.SYSPARA.WDS2}]});$("button#syspara_survey_5g").button({text:$.su.CHAR.SYSPARA.SURVEY,handler:function(){$("div#result_2g").hide();$("div#result_5g").show();$("div#result_5g").grid("runProgress");$("#refreshBtn_5g").button("disable");l.load({},function(){$("div#result_5g").grid("prompt",true);$("#refreshBtn_5g").button("enable")});$("div#survey").msg("show")},cls:"inline-block more_pad ml5"});$("input#bssid_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.MAC,vtype:"mac",maxLength:17,allowBlank:false,labelCls:"l",tips:$.su.CHAR.SYSPARA.MACUNIT});$("#wpa_cnt_5g").fieldset({fields:[{name:"psk_key"}]});$("#wep_cnt_5g").fieldset({fields:[{name:"wep_select"},{name:"wep_mode"}]}).hide();$("input#encryption_5g").radio({fieldLabel:$.su.CHAR.WIRELESS.SECURITY,columns:3,labelCls:"l",cls:"part-separate",items:[{boxlabel:$.su.CHAR.SYSPARA.NONE,inputValue:"none"},{boxlabel:$.su.CHAR.SYSPARA.WPA,inputValue:"psk"},{boxlabel:$.su.CHAR.SYSPARA.WEP,inputValue:"wep"}]}).on("ev_change",function(aB,ay,aA){var az=$("input#wep_select_5g").combobox("getValue")[0];$("#wpa_cnt_5g").fieldset((aA=="psk")?"show":"hide");$("#wep_cnt_5g").fieldset((aA=="wep")?"show":"hide");$("#key1_cnt_5g").fieldset(((aA=="wep")&&az=="1")?"show":"hide");$("#key2_cnt_5g").fieldset(((aA=="wep")&&az=="2")?"show":"hide");$("#key3_cnt_5g").fieldset(((aA=="wep")&&az=="3")?"show":"hide");$("#key4_cnt_5g").fieldset(((aA=="wep")&&az=="4")?"show":"hide")});$("input#psk_key_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:64,autoTrim:false,labelCls:"l"});$("input#wep_key1_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l"});$("input#wep_key2_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l"});$("input#wep_key3_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l"});$("input#wep_key4_5g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l"});$("#key1_cnt_5g").fieldset({fields:[{name:"wep_format1"},{name:"wep_key1"}]}).hide();$("#key2_cnt_5g").fieldset({fields:[{name:"wep_format2"},{name:"wep_key2"}]}).hide();$("#key3_cnt_5g").fieldset({fields:[{name:"wep_format3"},{name:"wep_key3"}]}).hide();$("#key4_cnt_5g").fieldset({fields:[{name:"wep_format4"},{name:"wep_key4"}]}).hide();$("input#wep_mode_5g").radio({fieldLabel:$.su.CHAR.SYSPARA.AUTH_TYPE,labelCls:"l",columns:3,items:[{boxlabel:$.su.CHAR.SYSPARA.AUTO,inputValue:"auto"},{boxlabel:$.su.CHAR.SYSPARA.OPEN,inputValue:"open",checked:true},{boxlabel:$.su.CHAR.SYSPARA.SHARED,inputValue:"shared"}]});$("input#wep_format1_5g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("input#wep_format2_5g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("input#wep_format3_5g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("input#wep_format4_5g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});var au=function(){if(ao){$("#enable_5g").checkbox("disable");if(w||v||u){$("#enable_2g").checkbox("disable")}return}if(n){$("#enable_2g").checkbox("disable");if(am||ak||aj){$("#enable_5g").checkbox("disable")}return}};$("#ssid_cnt_5g").fieldset({fields:[{name:"ssid"},{name:"bssid"},{name:"wds_mode"},{name:"encryption"}]}).hide();$("#w5g-wds").css({display:"none"});var al=new $.su.Proxy({url:G});var i=new $.su.Proxy({url:G});$("form#w5g-setting").form({proxy:al,fields:[{name:"beacon_int",mapping:"beacon_int"},{name:"rts",mapping:"rts"},{name:"frag",mapping:"frag"},{name:"dtim_period",mapping:"dtim_period"},{name:"wpa_group_rekey",mapping:"wpa_group_rekey"},{name:"wmm",mapping:"wmm"},{name:"shortgi",mapping:"shortgi"},{name:"enable",mapping:"enable"},{name:"ssid",mapping:"ssid"},{name:"wds_mode",mapping:"wds_mode"},{name:"bssid",mapping:"bssid"},{name:"encryption",mapping:"encryption"},{name:"psk_key",mapping:"psk_key"},{name:"wep_key1",mapping:"wep_key1"},{name:"wep_key2",mapping:"wep_key2"},{name:"wep_key3",mapping:"wep_key3"},{name:"wep_key4",mapping:"wep_key4"},{name:"isolate",mapping:"isolate"},{name:"wep_format1",mapping:"wep_format1"},{name:"wep_format2",mapping:"wep_format2"},{name:"wep_format3",mapping:"wep_format3"},{name:"wep_format4",mapping:"wep_format4"},{name:"wep_select",mapping:"wep_select"},{name:"wep_mode",mapping:"wep_mode"}],submitBtn:"default"}).on("ev_loadData",function(az,ay){C=ay.extinfo.support_wds_show;if(C=="yes"){$("#w5g-wds").css({display:"block"})}});var K=false;$("form#w5g-wds-setting").form({proxy:i,fields:[{name:"enable",mapping:"enable"},{name:"ssid",mapping:"ssid"},{name:"wds_mode",mapping:"wds_mode"},{name:"bssid",mapping:"bssid"},{name:"encryption",mapping:"encryption"},{name:"psk_key",mapping:"psk_key"},{name:"wep_key1",mapping:"wep_key1"},{name:"wep_key2",mapping:"wep_key2"},{name:"wep_key3",mapping:"wep_key3"},{name:"wep_key4",mapping:"wep_key4"},{name:"isolate",mapping:"isolate"},{name:"wep_format1",mapping:"wep_format1"},{name:"wep_format2",mapping:"wep_format2"},{name:"wep_format3",mapping:"wep_format3"},{name:"wep_format4",mapping:"wep_format4"},{name:"wep_select",mapping:"wep_select"},{name:"wep_mode",mapping:"wep_mode"},{name:"syspara_survey"}],validator:function(){N.write($.extend(true,aq,{enable:($("#enable_dhcp_5g").checkbox("getValue").length==0?"off":"on")}),function(aL){aq=aL;$("#enable_dhcp_2g").checkbox("setValue",aL.enable);$("#enable_dhcp_5g").checkbox("setValue",aL.enable)});var aF=$("input#enable_5g").checkbox("getValue");var az=$("input#ssid_5g").textbox("getValue");var aI=$("input#bssid_5g").textbox("getValue");if(aF=="enable"){if((az=="")&&(aI=="")){$("input#ssid_5g").textbox("setError",$.su.CHAR.ERROR["00000040"]);return false}}var aJ=$("input#encryption_5g").radio("getValue");if(aJ=="none"){return true}if(aJ=="psk"){var aC=$("input#psk_key_5g").textbox("getValue");var aB=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(aB.test(aC)){$("input#psk_key_5g").textbox("setNormal");return true}else{$("input#psk_key_5g").textbox("setError",$.su.CHAR.ERROR["00000066"]);return false}}if(aJ=="wep"){var aD=$("input#wep_select_5g").combobox("getValue");var aA=aD[0];var ay="input#wep_key"+aA+"_5g";var aH="input#wep_format"+aA+"_5g";var aK=$(aH).radio("getValue");var aC=$(ay).textbox("getValue");var aG=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{5}|[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{13})$/;var aE=/^([0-9a-fA-F]{10}|[0-9a-fA-F]{26})$/;if(aK=="asic"){if(aG.test(aC)){$(ay).textbox("setNormal");return true}else{$(ay).textbox("setError",$.su.CHAR.ERROR["00000120"]);return false}}else{if(aE.test(aC)){$(ay).textbox("setNormal");return true}else{$(ay).textbox("setError",$.su.CHAR.ERROR["00000121"]);return false}}}},submitBtn:"default"}).on("ev_loadData",function(aC,aB){if(aB.encryption==""||!aB.encryption){$("#encryption_5g").radio("setValue","psk")}if(aB.wep_mode==""||!aB.wep_mode){$("#wep_mode_5g").radio("setValue","open")}if(aB.wep_format1==""||!aB.wep_format1){$("#wep_format1_5g").radio("setValue","hex")}if(aB.wep_format2==""||!aB.wep_format2){$("#wep_format2_5g").radio("setValue","hex")}if(aB.wep_format3==""||!aB.wep_format3){$("#wep_format3_5g").radio("setValue","hex")}if(aB.wep_format4==""||!aB.wep_format4){$("#wep_format4_5g").radio("setValue","hex")}$("form#w24g-wds-setting").form("enable");au();var aA=aB.extinfo.wds2g_wds5g_compatible;if(aA=="no"){var ay=aB.enable;if(ay=="on"){n=true;if(aw){$("input#enable_2g").checkbox("disable");if(!w&&!v){$("input#enable_2g").checkbox("setTips",$.su.CHAR.SYSPARA.WDS_BAND_NOTICE)}}else{$("input#enable_2g").checkbox("disable");if(!w&&!v){$("input#enable_2g").checkbox("setTips",$.su.CHAR.SYSPARA.WDS_BAND_NOTICE2)}}}else{n=false;var az=ao;if(!w&&!v&&!u&&!az){$("input#enable_2g").checkbox("enable");$("input#enable_2g").checkbox("setTips","")}}}if(aB.extinfo.support_wds_dualmode=="no"){ap=false;$("#wds_mode_5g").combobox("disable");$("#wds_mode_5g").combobox("hide")}I=aB.disabled}).on("beforeSubmit",function(){if($("form#w5g-wds-setting").form("validate")){$("form#w24g-wds-setting").form("disable");var ay=$("#enable_5g").checkbox("getValue");if(ay.length){$("#enable_2g").checkbox("setValue","off");$("#syspara_survey_5g").button("disable");clearTimeout(K);K=setTimeout(function(){$("#syspara_survey_5g").button("enable")},6000)}}});$("div#w24g").panel({title:$.su.CHAR.SYSPARA.W24G,collapsible:false});$("div#w24g-wds").panel({title:$.su.CHAR.SYSPARA.W24G_WDS,collapsible:false});$("input#beacon_int_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.BEACON,tips:$.su.CHAR.SYSPARA.BEACONUNIT,inputCls:"m",tipsCls:"xs",vtype:{vtype:"number",min:40,max:1000},maxLength:4,textFormat:$.su.format.number,allowBlank:false,min:40,max:1000,labelCls:"l"});$("input#rts_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.RTS,tips:$.su.CHAR.SYSPARA.RTSUNIT,inputCls:"m",tipsCls:"xs",vtype:{vtype:"number",min:1,max:2346},maxLength:4,textFormat:$.su.format.number,min:1,max:2346,allowBlank:false,labelCls:"l"});$("input#dtim_period_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.DTIM,tips:$.su.CHAR.SYSPARA.DTIMUNIT,inputCls:"m",tipsCls:"xs",vtype:{vtype:"number",min:1,max:15},maxLength:2,textFormat:$.su.format.number,min:1,max:15,allowBlank:false,labelCls:"l"});$("input#wpa_group_rekey_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.GROUP,tips:$.su.CHAR.SYSPARA.GROUPUNIT,inputCls:"m",tipsCls:"xs",vtype:"number",textFormat:$.su.format.number,allowBlank:false,maxLength:5,invalidText:$.su.CHAR.ERROR["00000039"],validator:function(ay){if(ay==0){return true}if((ay>=30)&&(ay<=86400)){return true}return false},labelCls:"l"});$("input#wmm_2g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.WMM_FEATURE,labelCls:"l",cls:"part-separate",items:[{boxlabel:$.su.CHAR.SYSPARA.WMM,uncheckedValue:"off",inputValue:"on"}]});$("input#shortgi_2g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.GI_FEATURE,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.GI,uncheckedValue:"off",inputValue:"on"}]});$("input#isolate_2g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.AP_FEATURE,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.AP,uncheckedValue:"off",inputValue:"on"}]});$("input#enable_2g").checkbox({fieldLabel:$.su.CHAR.SYSPARA.WDS_FEATURE,labelCls:"l",cls:"part-separate",tips:"",tipsCls:"m",items:[{boxlabel:$.su.CHAR.SYSPARA.WDS,uncheckedValue:"off",inputValue:"on"}]}).on("ev_change",function(aE,aA,aD){var aF=(aD[0]=="enable"||aD[0]=="on")?"on":"off";var az=$("input#encryption_2g").radio("getValue");var aC=$("input#wep_select_2g").combobox("getValue")[0];var aB=$("input#enable_2g").checkbox("getContainer");var ay=$(aB).hasClass("disabled");switch(aF){case"on":if(ay){return}$("#ssid_cnt_2g").fieldset("show");$("#wpa_cnt_24g").fieldset((az=="psk")?"show":"hide");$("#wep_cnt_24g").fieldset((az=="wep")?"show":"hide");$("#key1_cnt_2g").fieldset(((az=="wep")&&aC=="1")?"show":"hide");$("#key2_cnt_2g").fieldset(((az=="wep")&&aC=="2")?"show":"hide");$("#key3_cnt_2g").fieldset(((az=="wep")&&aC=="3")?"show":"hide");$("#key4_cnt_2g").fieldset(((az=="wep")&&aC=="4")?"show":"hide");break;case"off":$("#ssid_cnt_2g").fieldset("hide");$("#wep_cnt_24g").fieldset("hide");$("#wpa_cnt_24g").fieldset("hide");$("#key1_cnt_2g").fieldset("hide");$("#key2_cnt_2g").fieldset("hide");$("#key3_cnt_2g").fieldset("hide");$("#key4_cnt_2g").fieldset("hide");break}});$("input#enable_dhcp_2g").checkbox({fieldLabel:$.su.CHAR.DHCP_SERVER.DHCP_SERVER,labelCls:"l",tips:"",tipsCls:"m",items:[{boxlabel:$.su.CHAR.DHCP_SERVER.ENABLE_DHCP_SERVER,uncheckedValue:"off",inputValue:"on"}]});$("input#enable_dhcp_5g").checkbox({fieldLabel:$.su.CHAR.DHCP_SERVER.DHCP_SERVER,labelCls:"l",tips:"",tipsCls:"m",items:[{boxlabel:$.su.CHAR.DHCP_SERVER.ENABLE_DHCP_SERVER,uncheckedValue:"off",inputValue:"on"}]});$("input#ssid_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.SSID_BRIDEGE,vtype:"string_visible_allow_blank",allowBlank:false,maxLength:32,autoTrim:false,labelCls:"l",cls:"inline",validator:function(az){var ay=encodeURIComponent(az);ay=ay.replace(/%[A-F\d]{2}/g,"U").length;if(ay>32){return $.su.CHAR.ERROR["00000210"]}return true}}).on("ev_change",function(ay,aA){var az=encodeURIComponent(aA);az=az.replace(/%[A-F\d]{2}/g,"U").length;if(az==32){$(this).attr("maxLength",aA.length)}else{if(az>32){$(this).attr("maxLength",aA.length-1)}else{if(az<32){$(this).attr("maxLength",32)}}}});$("#wds_mode_2g").combobox({fieldLabel:$.su.CHAR.SYSPARA.WDS_MODE,labelCls:"l",items:[{value:"2",name:$.su.CHAR.SYSPARA.AUTO},{value:"1",name:$.su.CHAR.SYSPARA.WDS1},{value:"0",name:$.su.CHAR.SYSPARA.WDS2}]});$("button#syspara_survey_2g").button({text:$.su.CHAR.SYSPARA.SURVEY,handler:function(){$("div#result_2g").show();$("div#result_5g").hide();$("div#result_2g").grid("runProgress");$("#refreshBtn_2g").button("disable");V.load({},function(){$("div#result_2g").grid("prompt",true);$("#refreshBtn_2g").button("enable")});$("div#survey").msg("show")},cls:"inline-block more_pad ml5"});$("input#bssid_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.MAC,vtype:"mac",maxLength:17,allowBlank:false,labelCls:"l",tips:$.su.CHAR.SYSPARA.MACUNIT});$("#wpa_cnt_24g").fieldset({fields:[{name:"psk_key"}]}).hide();$("input#encryption_2g").radio({fieldLabel:$.su.CHAR.WIRELESS.SECURITY,columns:3,labelCls:"l",cls:"part-separate",items:[{boxlabel:$.su.CHAR.SYSPARA.NONE,inputValue:"none"},{boxlabel:$.su.CHAR.SYSPARA.WPA,inputValue:"psk"},{boxlabel:$.su.CHAR.SYSPARA.WEP,inputValue:"wep"}]}).on("ev_change",function(aB,ay,aA){var az=$("input#wep_select_2g").combobox("getValue")[0];$("#wpa_cnt_24g").fieldset((aA=="psk")?"show":"hide");$("#wep_cnt_24g").fieldset((aA=="wep")?"show":"hide");$("#key1_cnt_2g").fieldset(((aA=="wep")&&az=="1")?"show":"hide");$("#key2_cnt_2g").fieldset(((aA=="wep")&&az=="2")?"show":"hide");$("#key3_cnt_2g").fieldset(((aA=="wep")&&az=="3")?"show":"hide");$("#key4_cnt_2g").fieldset(((aA=="wep")&&az=="4")?"show":"hide")});$("input#psk_key_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:64,autoTrim:false,labelCls:"l",});$("input#wep_key1_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l",});$("input#wep_key2_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l",});$("input#wep_key3_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l",});$("input#wep_key4_2g").textbox({fieldLabel:$.su.CHAR.SYSPARA.PASSWORD,maxLength:32,autoTrim:false,labelCls:"l",});$("#key1_cnt_2g").fieldset({fields:[{name:"wep_format1"},{name:"wep_key1"}]}).hide();$("#key2_cnt_2g").fieldset({fields:[{name:"wep_format2"},{name:"wep_key2"}]}).hide();$("#key3_cnt_2g").fieldset({fields:[{name:"wep_format3"},{name:"wep_key3"}]}).hide();$("#key4_cnt_2g").fieldset({fields:[{name:"wep_format4"},{name:"wep_key4"}]}).hide();$("input#wep_mode_2g").radio({fieldLabel:$.su.CHAR.SYSPARA.AUTH_TYPE,labelCls:"l",columns:3,items:[{boxlabel:$.su.CHAR.SYSPARA.AUTO,inputValue:"auto"},{boxlabel:$.su.CHAR.SYSPARA.OPEN,inputValue:"open",checked:true},{boxlabel:$.su.CHAR.SYSPARA.SHARED,inputValue:"shared"}]});$("input#wep_format1_2g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("input#wep_format2_2g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("input#wep_format3_2g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("input#wep_format4_2g").radio({fieldLabel:$.su.CHAR.SYSPARA.WEP_KEY_FORMAT,columns:3,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ASC,inputValue:"asic",checked:true},{boxlabel:$.su.CHAR.SYSPARA.HEX,inputValue:"hex"}]});$("#ssid_cnt_2g").fieldset({fields:[{name:"ssid"},{name:"wds_mode"},{name:"bssid"},{name:"encryption"}]}).hide();$("#wep_cnt_24g").fieldset({fields:[{name:"wep_select"},{name:"wep_mode"}]}).hide();$("#w24g-wds").css({display:"none"});var al=new $.su.Proxy({url:ad});var i=new $.su.Proxy({url:ad});$("form#w24g-setting").form({proxy:al,fields:[{name:"beacon_int",mapping:"beacon_int"},{name:"rts",mapping:"rts"},{name:"frag",mapping:"frag"},{name:"dtim_period",mapping:"dtim_period"},{name:"wpa_group_rekey",mapping:"wpa_group_rekey"},{name:"wmm",mapping:"wmm"},{name:"shortgi",mapping:"shortgi"},{name:"enable",mapping:"enable"},{name:"ssid",mapping:"ssid"},{name:"wds_mode",mapping:"wds_mode"},{name:"bssid",mapping:"bssid"},{name:"encryption",mapping:"encryption"},{name:"psk_key",mapping:"psk_key"},{name:"wep_key1",mapping:"wep_key1"},{name:"wep_key2",mapping:"wep_key2"},{name:"wep_key3",mapping:"wep_key3"},{name:"wep_key4",mapping:"wep_key4"},{name:"isolate",mapping:"isolate"},{name:"wep_format1",mapping:"wep_format1"},{name:"wep_format2",mapping:"wep_format2"},{name:"wep_format3",mapping:"wep_format3"},{name:"wep_format4",mapping:"wep_format4"},{name:"wep_select",mapping:"wep_select"},{name:"wep_mode",mapping:"wep_mode"}],submitBtn:"default"}).on("ev_loadData",function(aA,az){C=az.extinfo.support_wds_show;if(C=="yes"){$("#w24g-wds").css({display:"block"})}var ay=az.extinfo.support_band;if((ay=="2G")||(ay=="none")){$("div#w5g").panel("hide")}});var a=false;$("form#w24g-wds-setting").form({proxy:i,fields:[{name:"enable",mapping:"enable"},{name:"ssid",mapping:"ssid"},{name:"wds_mode",mapping:"wds_mode"},{name:"bssid",mapping:"bssid"},{name:"encryption",mapping:"encryption"},{name:"psk_key",mapping:"psk_key"},{name:"wep_key1",mapping:"wep_key1"},{name:"wep_key2",mapping:"wep_key2"},{name:"wep_key3",mapping:"wep_key3"},{name:"wep_key4",mapping:"wep_key4"},{name:"isolate",mapping:"isolate"},{name:"wep_format1",mapping:"wep_format1"},{name:"wep_format2",mapping:"wep_format2"},{name:"wep_format3",mapping:"wep_format3"},{name:"wep_format4",mapping:"wep_format4"},{name:"wep_select",mapping:"wep_select"},{name:"wep_mode",mapping:"wep_mode"},{name:"syspara_survey"}],validator:function(){N.write($.extend(true,aq,{enable:($("#enable_dhcp_2g").checkbox("getValue").length==0?"off":"on")}),function(aL){aq=aL;$("#enable_dhcp_2g").checkbox("setValue",aL.enable);$("#enable_dhcp_5g").checkbox("setValue",aL.enable)});var aF=$("input#enable_2g").checkbox("getValue");var az=$("input#ssid_2g").textbox("getValue");var aI=$("input#bssid_2g").textbox("getValue");if(aF=="enable"){if((az=="")&&(aI=="")){$("input#ssid_2g").textbox("setError",$.su.CHAR.ERROR["00000040"]);return false}}var aJ=$("input#encryption_2g").radio("getValue");if(aJ=="none"){return true}if(aJ=="psk"){var aC=$("input#psk_key_2g").textbox("getValue");var aB=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(aB.test(aC)){return true}else{$("input#psk_key_2g").textbox("setError",$.su.CHAR.ERROR["00000066"]);return false}}if(aJ=="wep"){var aD=$("input#wep_select_2g").combobox("getValue");var aA=aD[0];var ay="input#wep_key"+aA+"_2g";var aH="input#wep_format"+aA+"_2g";var aK=$(aH).radio("getValue");var aC=$(ay).textbox("getValue");var aG=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{5}|[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{13})$/;var aE=/^([0-9a-fA-F]{10}|[0-9a-fA-F]{26})$/;if(aK=="asic"){if(aG.test(aC)){return true}else{$(ay).textbox("setError",$.su.CHAR.ERROR["00000120"]);return false}}else{if(aE.test(aC)){return true}else{$(ay).textbox("setError",$.su.CHAR.ERROR["00000121"]);return false}}}},submitBtn:"default"}).on("ev_loadData",function(aD,aC){if(aC.encryption==""||!aC.encryption){$("#encryption_2g").radio("setValue","none")}if(aC.wep_mode==""||!aC.wep_mode){$("#wep_mode_2g").radio("setValue","open")}if(aC.wep_format1==""||!aC.wep_format1){$("#wep_format1_2g").radio("setValue","hex")}if(aC.wep_format2==""||!aC.wep_format2){$("#wep_format2_2g").radio("setValue","hex")}if(aC.wep_format3==""||!aC.wep_format3){$("#wep_format3_2g").radio("setValue","hex")}if(aC.wep_format4==""||!aC.wep_format4){$("#wep_format4_2g").radio("setValue","hex")}$("form#w5g-wds-setting").form("enable");au();var aB=aC.extinfo.support_band;if((aB=="2G")||(aB=="none")){$("div#w5g-wds").panel("hide")}var az=aC.extinfo.wds2g_wds5g_compatible;if(az=="no"){var aA=aC.enable;if(aA=="on"){ao=true;if(aw){$("input#enable_5g").checkbox("disable");if(!am&&!ak){$("input#enable_5g").checkbox("setTips",$.su.CHAR.SYSPARA.WDS_BAND_NOTICE)}}else{$("input#enable_5g").checkbox("disable");if(!am&&!ak){$("input#enable_5g").checkbox("setTips",$.su.CHAR.SYSPARA.WDS_BAND_NOTICE2)}}}else{ao=false;var ay=ao||n;if(!am&&!ak&&!aj&&!ay){$("input#enable_5g").checkbox("enable");$("input#enable_5g").checkbox("setTips","")}}}if(aC.extinfo.support_wds_dualmode=="no"){ap=false;$("#wds_mode_2g").combobox("disable");$("#wds_mode_2g").combobox("hide")}an=aC.disabled}).on("beforeSubmit",function(){if($("form#w24g-wds-setting").form("validate")){$("form#w5g-wds-setting").form("disable");var ay=$("#enable_2g").checkbox("getValue");if(ay.length){$("#enable_5g").checkbox("setValue","off");$("#syspara_survey_2g").button("disable");clearTimeout(a);a=setTimeout(function(){$("#syspara_survey_2g").button("enable")},6000)}}});$("div#wps").panel({title:$.su.CHAR.SYSPARA.WPS,collapsible:false});$("input#wps_status").checkbox({fieldLabel:$.su.CHAR.SYSPARA.WPS,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ENABLE_WPS,uncheckedValue:"off",inputValue:"on"}]});$("form#wps-setting").form({proxy:{url:Q},fields:[{name:"wps",mapping:"wps"}],submitBtn:"default"});$("div#nat").panel({title:$.su.CHAR.SYSPARA.NAT,collapsible:false});$("input#nat_enable").checkbox({fieldLabel:$.su.CHAR.SYSPARA.NAT,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ENABLE_NAT,uncheckedValue:"off",inputValue:"on"}]});$("input#nat_boost_enable").checkbox({fieldLabel:$.su.CHAR.SYSPARA.NAT_BOOST,tips:"",labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ENABLE_NAT_BOOST,uncheckedValue:"off",inputValue:"on"}]});k.read({},function(az){var ay=az.boost_qos_compatible;if(ay=="no"){qosenable=az.enable;if(qosenable=="on"){$("input#nat_boost_enable").checkbox("disable");$("input#nat_boost_enable").checkbox("setTips",$.su.CHAR.ERROR["00000119"])}else{ac.read({},function(aA){var aB=aA.boost_traffic_compatible;if(aB=="no"){t=aA.enable;if(t=="on"){$("input#nat_boost_enable").checkbox("disable");$("input#nat_boost_enable").checkbox("setTips",$.su.CHAR.ERROR["00000119"])}}})}}});$("input#nat_save_btn").button({text:$.su.CHAR.OPERATION.SAVE,handler:function(){var az="";var ay=$("#nat_boost_enable").checkbox("getValue");if(ay.length==0){az="off"}else{az="on"}if(U!=az){$("#notice_nat_boost").msg("show")}else{$("#nat-setting").form("submit")}},cls:"submit submitBtn"});$("form#nat-setting").form({proxy:{url:o},fields:[{name:"enable",mapping:"enable"},{name:"boost_enable",mapping:"hw_enable"}],submitBtn:"#nat_save_btn"}).on("ev_loadData",function(az,ay){af=ay.reboot_time*1000||af;U=ay.hw_enable;D=ay.boost_support;if(D=="yes"){$("input#nat_boost_enable").checkbox("show")}else{$("input#nat_boost_enable").checkbox("hide")}});$("div#level").panel({title:$.su.CHAR.SYSPARA.DOS_PROTECTION,collapsible:false});$("#syspara_level_icmp").html($.su.CHAR.SYSPARA.ICMP);$("#icmp_low").textbox({fieldLabel:$.su.CHAR.SYSPARA.LOW,tips:$.su.CHAR.SYSPARA.UNIT,tipsCls:"m",vtype:"number",maxLength:4,allowBlank:false,validator:function(ay){if((ay>=O)&&(ay<=ai)){return true}else{return $.su.CHAR.ERROR["00000034"]}},inputCls:"s",labelCls:"xxs"});$("#icmp_middle").textbox({fieldLabel:$.su.CHAR.SYSPARA.MIDDLE,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ay){if((ay>=O)&&(ay<=ai)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#icmp_high").textbox({fieldLabel:$.su.CHAR.SYSPARA.HIGH,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ay){if((ay>=O)&&(ay<=ai)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#syspara_level_udp").html($.su.CHAR.SYSPARA.UDP);$("#udp_low").textbox({fieldLabel:$.su.CHAR.SYSPARA.LOW,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ay){if((ay>=O)&&(ay<=ai)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#udp_middle").textbox({fieldLabel:$.su.CHAR.SYSPARA.MIDDLE,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ay){if((ay>=O)&&(ay<=ai)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#udp_high").textbox({fieldLabel:$.su.CHAR.SYSPARA.HIGH,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ay){if((ay>=O)&&(ay<=ai)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#syspara_level_tcp").html($.su.CHAR.SYSPARA.TCP);$("#tcp_low").textbox({fieldLabel:$.su.CHAR.SYSPARA.LOW,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ay){if((ay>=O)&&(ay<=ai)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#tcp_middle").textbox({fieldLabel:$.su.CHAR.SYSPARA.MIDDLE,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ay){if((ay>=O)&&(ay<=ai)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("#tcp_high").textbox({fieldLabel:$.su.CHAR.SYSPARA.HIGH,tips:$.su.CHAR.SYSPARA.UNIT,inputCls:"s",vtype:"number",maxLength:4,allowBlank:false,validator:function(ay){if((ay>=O)&&(ay<=ai)){return true}else{return $.su.CHAR.ERROR["00000034"]}},labelCls:"xxs"});$("form#level-setting").form({proxy:{url:B},fields:[{name:"icmp_low",mapping:"icmp_low"},{name:"icmp_middle",mapping:"icmp_middle"},{name:"icmp_high",mapping:"icmp_high"},{name:"udp_low",mapping:"udp_low"},{name:"udp_middle",mapping:"udp_middle"},{name:"udp_high",mapping:"udp_high"},{name:"syn_low",mapping:"syn_low"},{name:"syn_middle",mapping:"syn_middle"},{name:"syn_high",mapping:"syn_high"}],validator:function(){var aF=parseInt($("#icmp_low").textbox("getValue"),10);var aD=parseInt($("#icmp_middle").textbox("getValue"),10);var aG=parseInt($("#icmp_high").textbox("getValue"),10);if(aF<aD){$("#icmp_middle").textbox("setError",$.su.CHAR.ERROR["00000032"]);return false}if(aD<aG){$("#icmp_high").textbox("setError",$.su.CHAR.ERROR["00000033"]);return false}var aC=parseInt($("#udp_low").textbox("getValue"),10);var az=parseInt($("#udp_middle").textbox("getValue"),10);var aE=parseInt($("#udp_high").textbox("getValue"),10);if(aC<az){$("#udp_middle").textbox("setError",$.su.CHAR.ERROR["00000032"]);return false}if(az<aE){$("#udp_high").textbox("setError",$.su.CHAR.ERROR["00000033"]);return false}var aB=parseInt($("#tcp_low").textbox("getValue"),10);var ay=parseInt($("#tcp_middle").textbox("getValue"),10);var aA=parseInt($("#tcp_high").textbox("getValue"),10);if(aB<ay){$("#tcp_middle").textbox("setError",$.su.CHAR.ERROR["00000032"]);return false}if(ay<aA){$("#tcp_high").textbox("setError",$.su.CHAR.ERROR["00000033"]);return false}return true},autoLoad:true,submitBtn:"default"});$("div#debug-mode").panel({title:$.su.CHAR.SYSPARA.SYSLOG,collapsible:false});$("input#debug-mode-status").checkbox({fieldLabel:$.su.CHAR.SYSPARA.DEBUG_MODE,labelCls:"l",items:[{boxlabel:$.su.CHAR.SYSPARA.ENABLE_DEBUG_MODE,uncheckedValue:"off",inputValue:"on"}]});$("form#debug-mode-setting").form({proxy:{url:H},fields:[{name:"debug_mode"}],submitBtn:"default"});$("div#survey").msg({autoshow:false,title:$.su.CHAR.SYSPARA.SURVEY,cls:"xxl",type:"window"});var V=new $.su.Store({proxy:{url:F,timeout:30000},fields:[{name:"bssid"},{name:"ssid"},{name:"signal"},{name:"channel"},{name:"encryption"}],autoLoad:false});var l=new $.su.Store({proxy:{url:ax,timeout:30000},fields:[{name:"bssid"},{name:"ssid"},{name:"signal"},{name:"channel"},{name:"encryption"}],autoLoad:false});grid_suvery_2g=$("div#result_2g").grid({store:V,minLines:0,maxLines:5,columns:[{text:$.su.CHAR.GRID.ID,xtype:"rownumberer",width:40},{text:$.su.CHAR.SYSPARA.SSID,width:130,dataIndex:"ssid"},{text:$.su.CHAR.SYSPARA.MAC_ADDRESS,width:140,dataIndex:"bssid"},{text:$.su.CHAR.SYSPARA.SIGNAL,width:100,dataIndex:"signal",renderer:function(az){var ay="";var aA=az.toString();switch(aA){case"0":case"1":case"2":case"3":case"4":case"5":ay+='<span class="signal-level-'+aA+' signal-icon"></span>';break;default:ay+='<span class="signal-level-0 signal-icon"></span>';break}return ay}},{text:$.su.CHAR.SYSPARA.CHANNEL,width:100,dataIndex:"channel"},{text:$.su.CHAR.SYSPARA.SECURITY,width:100,dataIndex:"encryption",renderer:function(ay){if(ay.toUpperCase()=="NONE"){return $.su.CHAR.SYSPARA.NONE}else{return ay.toUpperCase()}}},{text:$.su.CHAR.GRID.OPERATION,renderer:function(aA,ay,az){return'<a href="void(0);" index="'+ay+'" class="choose" >'+$.su.CHAR.OPERATION.CHOOSE+"</a>"}}],operation:[{xtype:"totalCount",cls:"left",fieldLabel:$.su.CHAR.SYSPARA.AP_NUMBER},{xtype:"button",text:$.su.CHAR.OPERATION.REFRESH,id:"refreshBtn_2g",iconCls:"btn-refresh",handler:function(ay){ay.stopPropagation();ay.preventDefault();$("#refreshBtn_2g").button("disable");grid_suvery_2g.grid("runProgress");grid_suvery_2g.grid("getStore").load({},function(){grid_suvery_2g.grid("prompt",true);$("#refreshBtn_2g").button("enable")},function(){grid_suvery_2g.grid("prompt",false);$("#refreshBtn_2g").button("enable")},function(){grid_suvery_2g.grid("prompt",false);enableButton()});return true}}]}).on("ev_load",function(aA,ay){var az=$(this);$(ay).each(function(aC,aD){var aB=aD.encryption.toUpperCase();if(aB!="NONE"&&aB!="WEP"&&aB!="PSK"){az.grid("disableRow",aC)}})});$("div#result_2g").delegate("a.choose","click",function(aF){var aA=$("div#result_2g").grid("getStore");var aB=$(this).attr("index");aF.preventDefault();var aD=$(this).parents("tr.grid-content-tr")[0];var az=aA.data[aB].bssid;var aE=aA.data[aB].ssid;var aC=aA.data[aB].channel;r=aC;var ay=$(aD).find("td.grid-content-td-encryption span").eq(0).html().toLowerCase();if(ay=="no security"){ay="none"}if(ay!="none"&&ay!="wep"&&ay!="psk"){return}$("input#ssid_2g").textbox("setValue",aE);$("input#bssid_2g").textbox("setValue",az);$("#encryption_2g").radio("setValue",ay);$("div#survey").msg("close")});var J=$("div#result_5g").grid({store:l,minLines:0,maxLines:5,columns:[{text:$.su.CHAR.GRID.ID,xtype:"rownumberer",width:40},{text:$.su.CHAR.SYSPARA.SSID,width:130,dataIndex:"ssid"},{text:$.su.CHAR.SYSPARA.MAC_ADDRESS,width:140,dataIndex:"bssid"},{text:$.su.CHAR.SYSPARA.SIGNAL,width:100,dataIndex:"signal",renderer:function(az){var ay="";var aA=az.toString();switch(aA){case"0":case"1":case"2":case"3":case"4":case"5":ay+='<span class="signal-level-'+aA+' signal-icon"></span>';break;default:ay+='<span class="signal-level-0 signal-icon"></span>';break}return ay}},{text:$.su.CHAR.SYSPARA.CHANNEL,width:100,dataIndex:"channel"},{text:$.su.CHAR.SYSPARA.SECURITY,width:100,dataIndex:"encryption",renderer:function(ay){if(ay.toUpperCase()=="NONE"){return $.su.CHAR.SYSPARA.NONE}else{return ay.toUpperCase()}}},{text:$.su.CHAR.GRID.OPERATION,renderer:function(aA,ay,az){return'<a href="void(0);" index="'+ay+'" class="choose" >'+$.su.CHAR.OPERATION.CHOOSE+"</a>"}}],operation:[{xtype:"totalCount",cls:"left",fieldLabel:$.su.CHAR.SYSPARA.AP_NUMBER},{xtype:"button",text:$.su.CHAR.OPERATION.REFRESH,id:"refreshBtn_5g",iconCls:"btn-refresh",handler:function(ay){ay.stopPropagation();ay.preventDefault();$("#refreshBtn_5g").button("disable");J.grid("runProgress");J.grid("getStore").load({},function(){J.grid("prompt",true);$("#refreshBtn_5g").button("enable")},function(){J.grid("prompt",false);$("#refreshBtn_5g").button("enable")},function(){J.grid("prompt",false);$("#refreshBtn_5g").button("enable")});return true}}]}).on("ev_load",function(aA,ay){var az=$(this);$(ay).each(function(aC,aD){var aB=aD.encryption.toUpperCase();if(aB!="NONE"&&aB!="WEP"&&aB!="PSK"){az.grid("disableRow",aC)}})});$("div#result_5g").delegate("a.choose","click",function(aF){var aA=$("div#result_5g").grid("getStore");var aB=$(this).attr("index");aF.preventDefault();var aD=$(this).parents("tr.grid-content-tr")[0];var az=aA.data[aB].bssid;var aE=aA.data[aB].ssid;var aC=aA.data[aB].channel;ab=aC;var ay=$(aD).find("td.grid-content-td-encryption span").eq(0).html().toLowerCase();if(ay=="no security"){ay="none"}if(ay!="none"&&ay!="wep"&&ay!="psk"){return}$("input#ssid_5g").textbox("setValue",aE);$("input#bssid_5g").textbox("setValue",az);$("#encryption_5g").radio("setValue",ay);$("div#survey").msg("close")});$("input#wep_select_5g").combobox({fieldLabel:$.su.CHAR.SYSPARA.WEP_INDEX,labelCls:"l",items:[{value:"1",name:$.su.CHAR.SYSPARA.KEY1},{value:"2",name:$.su.CHAR.SYSPARA.KEY2},{value:"3",name:$.su.CHAR.SYSPARA.KEY3},{value:"4",name:$.su.CHAR.SYSPARA.KEY4}]}).on("ev_change",function(aC,ay,aB){var aA=$("input#encryption_5g").radio("getValue");var az=aB[0];$("#wpa_cnt_5g").fieldset((aA=="psk")?"show":"hide");$("#wep_cnt_5g").fieldset((aA=="wep")?"show":"hide");$("#key1_cnt_5g").fieldset(((aA=="wep")&&az=="1")?"show":"hide");$("#key2_cnt_5g").fieldset(((aA=="wep")&&az=="2")?"show":"hide");$("#key3_cnt_5g").fieldset(((aA=="wep")&&az=="3")?"show":"hide");$("#key4_cnt_5g").fieldset(((aA=="wep")&&az=="4")?"show":"hide")});$("input#wep_select_5g").combobox("hide");$("input#wep_select_5g").combobox("setValue","1");$("input#wep_select_2g").combobox({fieldLabel:$.su.CHAR.SYSPARA.WEP_INDEX,labelCls:"l",items:[{value:"1",name:$.su.CHAR.SYSPARA.KEY1},{value:"2",name:$.su.CHAR.SYSPARA.KEY2},{value:"3",name:$.su.CHAR.SYSPARA.KEY3},{value:"4",name:$.su.CHAR.SYSPARA.KEY4}]}).on("ev_change",function(aC,ay,aB){var aA=$("input#encryption_2g").radio("getValue");var az=aB[0];$("#wpa_cnt_24g").fieldset((aA=="psk")?"show":"hide");$("#wep_cnt_24g").fieldset((aA=="wep")?"show":"hide");$("#key1_cnt_2g").fieldset(((aA=="wep")&&az=="1")?"show":"hide");$("#key2_cnt_2g").fieldset(((aA=="wep")&&az=="2")?"show":"hide");$("#key3_cnt_2g").fieldset(((aA=="wep")&&az=="3")?"show":"hide");$("#key4_cnt_2g").fieldset(((aA=="wep")&&az=="4")?"show":"hide")});$("input#wep_select_2g").combobox("hide");$("input#wep_select_2g").combobox("setValue","1");$("#notice_2g").msg({autoshow:false,cls:"xl",okHandler:function(){$("#w24g-setting").form("submit")},cls:"m warning",cancelHandler:function(){return true},type:"prompt"});$("#notice_content_2g").html($.su.CHAR.SYSPARA.NOTICE);$("#notice_content_5g").html($.su.CHAR.SYSPARA.NOTICE);$("#notice_5g").msg({autoshow:false,cls:"xl",okHandler:function(){$("#w5g-setting").form("submit")},cls:"m warning",cancelHandler:function(){return true},type:"prompt"});$("#factory_note").html($.su.CHAR.SYSPARA.NOTICE_NAT_REBOOT);$("#notice_content_nat_boost").html($.su.CHAR.SYSPARA.NOTICE_NAT_BOOST);$("#notice_nat_boost").msg({autoshow:false,cls:"xl",okHandler:function(){$("#nat-setting").form("submit",{},function(){},null,null,false);W.progressbar("animate",0,1,af,function(){if(localStorage){localStorage.setItem("token","")}location.href="http://tplinkwifi.net"});W.progressbar("show");$("#reboot_nat_boost").msg("show");$("#notice_nat_boost").msg("hide")},cls:"m warning",cancelHandler:function(){return true},type:"confirm"});$("#reboot_nat_boost").msg({autoshow:false,cls:"xl",cls:"m warning",type:"window",closeBtn:false});var W=$("input#factory_pro_bar").progressbar({fieldLabel:null,cls:"inline",width:300,height:6,value:0});var at=new $.su.Proxy({url:ah});at.read({},function(az){if(typeof az=="undefined"){return}var ay=az.extinfo.wds_guest_compatible;h=az.channel;P=az.disabled;d=az.disabled_all;$("input#shortgi_2g").checkbox("disable");if(az.hwmode=="n"||az.hwmode=="bgn"||az.hwmode=="gn"){$("input#shortgi_2g").checkbox("enable")}$("div#feature2g_container").show();if(P=="on"){w=true}else{if(d=="on"){v=true;$("input#enable_2g").checkbox("disable");$("input#enable_2g").checkbox("setTips",$.su.CHAR.SYSPARA.ENABLE_TIPS);$("#ssid_cnt_2g").fieldset("hide")}else{if($("input#enable_2g").checkbox("getValue")[0]=="enable"){$("#ssid_cnt_2g").fieldset("show")}if(ay=="no"){Z.read({},function(aC){var aA=aC.extinfo.wds_guest_compatible;var aB=aC.enable;if(aA=="no"){if(aB=="on"){u=true;$("input#enable_2g").checkbox("disable");$("input#enable_2g").checkbox("setTips",$.su.CHAR.ERROR["00000113"])}}})}}}if(an=="on"){$("form#w24g-wds-setting").form("disable");$("#syspara_survey_2g").button("disable");$("#wds_note_title_2g").removeClass("hidden")}});var y=new $.su.Proxy({url:s});y.read({},function(az){if(typeof az=="undefined"){return}var ay=az.extinfo.wds_guest_compatible;T=az.channel;X=az.disabled;R=az.disabled_all;$("input#shortgi_5g").checkbox("enable");if(az.hwmode=="a_5"){$("input#shortgi_5g").checkbox("disable")}$("div#feature5g_container").show();if(X=="on"){am=true}else{if(R=="on"){ak=true;$("input#enable_5g").checkbox("disable");$("input#enable_5g").checkbox("setTips",$.su.CHAR.SYSPARA.ENABLE_TIPS);$("#ssid_cnt_5g").fieldset("hide")}else{if($("input#enable_5g").checkbox("getValue")[0]=="enable"){$("#ssid_cnt_5g").fieldset("show")}if(ay=="no"){p.read({},function(aC){var aA=aC.extinfo.wds_guest_compatible;var aB=aC.enable;if(aA=="no"){if(aB=="on"){aj=true;$("input#enable_5g").checkbox("disable");$("input#enable_5g").checkbox("setTips",$.su.CHAR.ERROR["00000113"])}}})}}}if(I=="on"){$("form#w5g-wds-setting").form("disable");$("#syspara_survey_5g").button("disable");$("#wds_note_title_5g").removeClass("hidden")}});var x=["SYSTEM_PARA_WIRELESS","SYSTEM_PARA_WDS","SYSTEM_PARA_WPS","SYSTEM_PARA_NAT","SYSTEM_PARA_DOS","SYSTEM_PARA_DUPLEX","SYSTEM_DEBUG_MODE"];setTimeout(function(){if(C=="no"){x.splice(x.indexOf("SYSTEM_PARA_WDS"),1)}var ay=new $.su.Help({container:"div#help_system_para",content:x,afterLoad:function(){if(D=="yes"){$("#sys_para_nat_boost").show();$("#sys_para_nat_boost_note").show()}else{$("#sys_para_nat_boost").hide();$("#sys_para_nat_boost_note").hide()}if(aw){$("#help_syspara_wifi_title").html($.su.CHAR.SYSPARA.HELP_TRIBAND_WIFI_TITLE);$("#help_syspara_wds_title").html($.su.CHAR.SYSPARA.HELP_TRIBAND_WDS_TITLE)}else{$("#help_syspara_wifi_title").html($.su.CHAR.SYSPARA.HELP_DBLBAND_WIFI_TITLE);$("#help_syspara_wds_title").html($.su.CHAR.SYSPARA.HELP_DBLBAND_WDS_TITLE)}if(ap){$("#wds_mode").show()}else{$("#wds_mode").hide()}}});$.su.layout.doLayout()},1800)});</script>
</body>
</html>
