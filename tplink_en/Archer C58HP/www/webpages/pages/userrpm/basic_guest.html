<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Guest</title>
</head>
<body>
<div class="func-container">
	<div id="guest_cnt">
	    <form id="guest_network">
			<div>
    		<input type="checkbox" id="isolate" name="guest_isolate"/>
			<input type="checkbox" id="access" name="guest_access"/>
			</div>
			<div>
		    	<input type="text"  id="status_2g" name="guest_2g_enable" value="" />
		    	<input type="text"  id="network_name_2g" name="guest_2g_ssid" value="" />
		    	<input type="checkbox"  id="enable_ssid_2g" name="guest_2g_hidden" value="" />
		    	<input type="hidden" name="guest_2g_encryption" id="guest_2g_encryption" disabled="disabled"  />
		    	<input type="hidden" name="guest_2g_psk_version" id="guest_2g_psk_version" disabled="disabled"  />
		    	<input type="hidden" name="guest_2g_psk_cipher" id="guest_2g_psk_cipher" disabled="disabled"   />
			</div>
			<div id="guest_password_2g">
				<div id="guest_static_dynamic_2g" class="hidden">
					<input type="text" name="guest_2g_passwd_cycle" id="guest_password_cycle_2g" />
					<div id="guest_password1_2g">
						<input type="text" id="guest_dynamic_password_2g"/>
					</div>
				</div>
				<div id="guest_password2_2g">
		    		<input type="text" id="guest_static_password_2g" />
					<input type="text"  class="hidden" name="guest_2g_psk_key" id="guest_2g_password"/>
		    	</div>
		    </div>
	    	<br/>
	    	<br/>
			<div>
		    	<input type="text"  id="status_5g" name="guest_5g_enable" value="" />
		    	<input type="text"  id="network_name_5g" name="guest_5g_ssid" value="" />
		    	<input type="checkbox"  id="enable_ssid_5g" name="guest_5g_hidden" value="" />
				<input type="hidden" name="guest_5g_encryption" id="guest_5g_encryption" disabled="disabled"  />
		    	<input type="hidden" name="guest_5g_psk_version" id="guest_5g_psk_version" disabled="disabled"  />
		    	<input type="hidden" name="guest_5g_psk_cipher" id="guest_5g_psk_cipher" disabled="disabled"   />
			</div>
			<div id="guest_password_5g">
				<div id="guest_static_dynamic_5g" class="hidden">
					<input type="text" name="guest_5g_passwd_cycle" id="guest_password_cycle_5g" />
					<div id="guest_password1_5g">
						<input type="text" id="guest_dynamic_password_5g"/>
					</div>
				</div>
				<div id="guest_password2_5g">
		    		<input type="text" id="guest_static_password_5g" />
					<input type="text"  class="hidden" name="guest_5g_psk_key" id="guest_5g_password"/>
		    	</div>
		    </div>
			<p class="note hidden" id="not_support_5g">
		    	<span class="title note-title"></span>
		    	<span class="text" id="not_support_5g_text"></span>
		    </p>
	    	<p class="note hidden" id="note_title_all">
		    	<span class="title note-title"></span>
		    	<span class="text" id="note_title_text"></span>
		    </p>
	    </form>
	    <button id="total_save" type="button"></button> 
	</div>
	<div id="help_basic_guest_network"></div>
</div>
<script type="text/javascript">try{$}catch(e){location.href="/"}$(document).ready(function(E){var s="./data/wireless.24g.json";var l=$.su.url("/admin/wireless?form=guest&form=guest_2g&form=guest_5g");var p=$.su.url("/admin/wireless?form=wireless_2g");var G=$.su.url("/admin/wireless?form=wireless_5g");var x=$.su.url("/admin/wireless?form=syspara_2g");var q=$.su.url("/admin/wireless?form=syspara_5g");var F=$.su.url("/admin/wireless?form=region");var H=new $.su.Proxy({url:x});var h=new $.su.Proxy({url:q});var d="off";var a="off";var f="off";var t="off";var y="psk";var u="auto";var B="auto";var A="psk";var w="auto";var D="auto";var b="";var v="";var k="";var n="";$("span.note-title").text($.su.CHAR.OPERATION.NOTE);$("#not_support_5g_text").html($.su.CHAR.ERROR["00000100"]);$("#note_title_text").html($.su.CHAR.ERROR["00000101"]);$("div#guest_cnt").panel({title:$.su.CHAR.BASIC_GUEST.TITLE,collapsible:false});$("input#isolate").checkbox({fieldLabel:"",labelCls:"l",items:[{boxlabel:$.su.CHAR.GUEST_SETTINGS.ALLOW_EACH,uncheckedValue:"off",inputValue:"on",id:"chk_allow_each"}]});$("input#access").checkbox({fieldLabel:"",labelCls:"l",items:[{boxlabel:$.su.CHAR.GUEST_SETTINGS.ALLOW_LOCAL,uncheckedValue:"off",inputValue:"on",id:"chk_allow_local"}]});if(window.sysMode=="ap"){$("input#access").checkbox("hide")}else{$("input#access").checkbox("show")}$("input#status_2g").checkbox({fieldLabel:$.su.CHAR.BASIC_GUEST.MODE_2G,labelCls:"l",tips:"",tipsCls:"s",cls:"part-separate",items:[{boxlabel:$.su.CHAR.BASIC_GUEST.ENABLE_WIRELESS,uncheckedValue:"off",inputValue:"on",id:"chk_enable_guest_24g"}]});$("input#guest_2g_password").textbox({});$("input#guest_5g_password").textbox({});$("input#network_name_2g").textbox({fieldLabel:$.su.CHAR.BASIC_GUEST.WIRELESS_NETWORK_NAME,labelCls:"l",vtype:{vtype:"string_visible_allow_blank",maxLength:32},maxLength:32,autoTrim:false,tipsCls:"after-checkbox",allowBlank:false,cls:"inline-block",validator:function(K){var J=encodeURIComponent(K);J=J.replace(/%[A-F\d]{2}/g,"U").length;if(J>32){return $.su.CHAR.ERROR["00000210"]}return true}}).on("ev_change",function(J,L){var K=encodeURIComponent(L);K=K.replace(/%[A-F\d]{2}/g,"U").length;if(K==32){$(this).attr("maxLength",L.length)}else{if(K>32){$(this).attr("maxLength",L.length-1)}else{if(K<32){$(this).attr("maxLength",32)}}}});$("input#enable_ssid_2g").checkbox({fieldLabel:null,cls:"inline-block",items:[{boxlabel:$.su.CHAR.BASIC_GUEST.HIDE_SSID,uncheckedValue:"off",inputValue:"on",id:"chk_enable_ssid_broadcast"}]});$("input#status_5g").checkbox({fieldLabel:$.su.CHAR.BASIC_GUEST.MODE_5G,labelCls:"l",tips:"",tipsCls:"s",cls:"part-separate",items:[{boxlabel:$.su.CHAR.BASIC_GUEST.ENABLE_WIRELESS,uncheckedValue:"off",inputValue:"on",id:"chk_enable_guest_5g"}]});$("input#network_name_5g").textbox({fieldLabel:$.su.CHAR.BASIC_GUEST.WIRELESS_NETWORK_NAME,labelCls:"l",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:false,autoTrim:false,tipsCls:"after-checkbox l",cls:"inline",validator:function(K){var J=encodeURIComponent(K);J=J.replace(/%[A-F\d]{2}/g,"U").length;if(J>32){return $.su.CHAR.ERROR["00000210"]}return true}}).on("ev_change",function(J,L){var K=encodeURIComponent(L);K=K.replace(/%[A-F\d]{2}/g,"U").length;if(K==32){$(this).attr("maxLength",L.length)}else{if(K>32){$(this).attr("maxLength",L.length-1)}else{if(K<32){$(this).attr("maxLength",32)}}}});$("input#enable_ssid_5g").checkbox({fieldLabel:null,cls:"inline-block",items:[{boxlabel:$.su.CHAR.BASIC_GUEST.HIDE_SSID,uncheckedValue:"off",inputValue:"on",id:"chk_enable_ssid_broadcast"}]});var c={};var C=false;var o=new $.su.Proxy({url:F,async:false});o.read({},function(J){c=J.capability});var r=c.channel_5g;var j=$($("input#status_5g").get(0)).closest(".checkbox-group-container").find(".checkbox-group-label");var I=new $.su.Proxy({url:l});var m=I;var g=$("form#guest_network").form({proxy:m,fields:[{name:"guest_access"},{name:"guest_isolate"},{name:"guest_2g_enable"},{name:"guest_2g_ssid"},{name:"guest_2g_hidden"},{name:"guest_2g_passwd_cycle"},{name:"guest_2g_psk_key"},{name:"guest_5g_enable"},{name:"guest_5g_ssid"},{name:"guest_5g_hidden"},{name:"guest_5g_passwd_cycle"},{name:"guest_5g_psk_key"},{name:"guest_5g_2_enable"},{name:"guest_5g_2_ssid"},{name:"guest_5g_2_hidden"}],autoLoad:true,submitBtn:"#total_save",validator:function(){var M=$("input#guest_password_cycle_2g").radio("getValue");var K=M=="never"?$("input#guest_static_password_2g").textbox("getValue"):$("input#guest_dynamic_password_2g").textbox("getValue");if(M=="never"){if(K==""){$("#guest_2g_encryption").val("none");$("#guest_2g_psk_version").val(B);$("#guest_2g_psk_cipher").val(u);$("#guest_2g_encryption").prop("disabled",false);$("#guest_2g_psk_version").prop("disabled",false);$("#guest_2g_psk_cipher").prop("disabled",false);$("#guest_2g_password").val(b)}}if(K!=""){if(y=="none"){var O=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(O.test(K)){}else{M=="never"?$("input#guest_static_password_2g").textbox("setError",$.su.CHAR.ERROR["00000066"]):$("input#guest_dynamic_password_2g").textbox("setError",$.su.CHAR.ERROR["00000066"]);return false}$("#guest_2g_encryption").val("psk");$("#guest_2g_psk_version").val("auto");$("#guest_2g_psk_cipher").val("auto");$("#guest_2g_encryption").prop("disabled",false);$("#guest_2g_psk_version").prop("disabled",false);$("#guest_2g_psk_cipher").prop("disabled",false)}if(y=="psk"){var O=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(O.test(K)){}else{M=="never"?$("input#guest_static_password_2g").textbox("setError",$.su.CHAR.ERROR["00000066"]):$("input#guest_dynamic_password_2g").textbox("setError",$.su.CHAR.ERROR["00000066"]);return false}$("#guest_2g_encryption").val(y);$("#guest_2g_psk_version").val(B);$("#guest_2g_psk_cipher").val(u);$("#guest_2g_encryption").prop("disabled",false);$("#guest_2g_psk_version").prop("disabled",false);$("#guest_2g_psk_cipher").prop("disabled",false)}$("#guest_2g_password").val(K)}var J=$("input#guest_password_cycle_5g").radio("getValue");var N=J=="never"?$("input#guest_static_password_5g").textbox("getValue"):$("input#guest_dynamic_password_5g").textbox("getValue");if(J=="never"){if(N==""){$("#guest_5g_encryption").val("none");$("#guest_5g_psk_version").val(D);$("#guest_5g_psk_cipher").val(w);$("#guest_5g_encryption").prop("disabled",false);$("#guest_5g_psk_version").prop("disabled",false);$("#guest_5g_psk_cipher").prop("disabled",false);$("#guest_5g_password").val(v)}}if(N!=""){if(A=="none"){var L=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(L.test(N)){}else{J=="never"?$("input#guest_static_password_5g").textbox("setError",$.su.CHAR.ERROR["00000066"]):$("input#guest_dynamic_password_5g").textbox("setError",$.su.CHAR.ERROR["00000066"]);return false}$("#guest_5g_encryption").val("psk");$("#guest_5g_psk_version").val("auto");$("#guest_5g_psk_cipher").val("auto");$("#guest_5g_encryption").prop("disabled",false);$("#guest_5g_psk_version").prop("disabled",false);$("#guest_5g_psk_cipher").prop("disabled",false)}if(A=="psk"){var L=/^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;if(L.test(N)){}else{J=="never"?$("input#guest_static_password_2g").textbox("setError",$.su.CHAR.ERROR["00000066"]):$("input#guest_dynamic_password_5g").textbox("setError",$.su.CHAR.ERROR["00000066"]);return false}$("#guest_5g_encryption").val(A);$("#guest_5g_psk_version").val(D);$("#guest_5g_psk_cipher").val(w);$("#guest_5g_encryption").prop("disabled",false);$("#guest_5g_psk_version").prop("disabled",false);$("#guest_5g_psk_cipher").prop("disabled",false)}$("#guest_5g_password").val(N)}return true}}).on("ev_loadData",function(M,L){var J=$("input#guest_2g_password").textbox("getValue");$("#guest_password_2g").css({display:"block"});b=L.guest_2g_psk_key;k=L.guest_2g_extinfo.support_guest_dynpasswd;if(k=="no"){$("#guest_password_cycle_2g").radio("setValue","never");$("#guest_static_dynamic_2g").css({display:"none"})}$("#guest_static_password_2g").textbox("setValue",J);$("#guest_dynamic_password_2g").textbox("setValue",J);if(L.guest_2g_passwd_cycle=="never"){if(L.guest_2g_encryption=="none"){$("#guest_static_password_2g").textbox("setValue","")}else{$("div#guest_password1_2g").css({display:"none"})}}else{$("div#guest_password2_2g").css({display:"none"})}y=L.guest_2g_encryption;u=L.guest_2g_psk_cipher;B=L.guest_2g_psk_version;if($.isEmptyObject(r)){$("input#status_5g").checkbox("disable");$("input#network_name_5g").textbox("disable");$("input#enable_ssid_5g").checkbox("disable");if(d=="on"){$("#not_support_5g").addClass("hidden")}else{$("#not_support_5g").removeClass("hidden")}}var K=$("input#guest_5g_password").textbox("getValue");$("#guest_password_5g").css({display:"block"});v=L.guest_5g_psk_key;n=L.guest_5g_extinfo.support_guest_dynpasswd;if(n=="no"){$("#guest_password_cycle_5g").radio("setValue","never");$("#guest_static_dynamic_5g").css({display:"none"})}$("#guest_static_password_5g").textbox("setValue",K);$("#guest_dynamic_password_5g").textbox("setValue",K);if(L.guest_5g_passwd_cycle=="never"){if(L.guest_5g_encryption=="none"){$("#guest_static_password_5g").textbox("setValue","")}else{$("div#guest_password1_5g").css({display:"none"})}}else{$("div#guest_password2_5g").css({display:"none"})}A=L.guest_5g_encryption;w=L.guest_5g_psk_cipher;D=L.guest_5g_psk_version;if(y=="none"){$("#guest_2g_encryption").prop("disabled",false);$("#guest_2g_psk_version").prop("disabled",false);$("#guest_2g_psk_cipher").prop("disabled",false)}if(y=="psk"){$("#guest_2g_encryption").prop("disabled",true);$("#guest_2g_psk_version").prop("disabled",true);$("#guest_2g_psk_cipher").prop("disabled",true)}if(A=="none"){$("#guest_5g_encryption").prop("disabled",false);$("#guest_5g_psk_version").prop("disabled",false);$("#guest_5g_psk_cipher").prop("disabled",false)}if(A=="psk"){$("#guest_5g_encryption").prop("disabled",true);$("#guest_5g_psk_version").prop("disabled",true);$("#guest_5g_psk_cipher").prop("disabled",true)}});$("#total_save").button({text:$.su.CHAR.BASIC_GUEST.SAVE,cls:"submit",handler:function(){var K=$("input#guest_password_cycle_2g").radio("getValue");if(K=="never"){switch(y){case"none":break;case"psk":$("#guest_network input[name='guest_2g_psk_key']").val($("#guest_static_password_2g").textbox("getValue"));break}}else{$("#guest_network input[name='guest_2g_psk_key']").val($("#guest_dynamic_password_2g").textbox("getValue"))}var J=$("input#guest_password_cycle_5g").radio("getValue");if(J=="never"){switch(A){case"none":break;case"psk":$("#guest_network input[name='guest_5g_psk_key']").val($("#guest_static_password_5g").textbox("getValue"));break}}else{$("#guest_network input[name='guest_5g_psk_key']").val($("#guest_dynamic_password_5g").textbox("getValue"))}$("form#guest_network").form("submit")}});$.post(p,function(K){if(typeof K.data=="undefined"){return}d=K.data.disabled;a=K.data.disabled_all;var J=K.data.extinfo.wds_guest_compatible;if(d=="on"){$("input#status_2g").checkbox("disable");$("input#network_name_2g").textbox("disable");$("input#enable_ssid_2g").checkbox("disable");$("input#guest_password_cycle_2g").radio("disable");$("input#guest_dynamic_password_2g").textbox("disable");$("input#guest_static_password_2g").textbox("disable");$("#note_title_all").removeClass("hidden")}else{$("input#status_2g").checkbox("enable");$("input#network_name_2g").textbox("enable");$("input#enable_ssid_2g").checkbox("enable");$("input#guest_password_cycle_2g").radio("enable");$("input#guest_dynamic_password_2g").textbox("enable");$("input#guest_static_password_2g").textbox("enable");$("#note_title_all").addClass("hidden");if(a=="on"){$("#status_2g").checkbox("disable");$("#status_2g").checkbox("setTips",$.su.CHAR.WIRELESS.ENABLE_TIPS)}else{$("#status_2g").checkbox("enable");$("#status_2g").checkbox("setTips","");if(J=="no"){H.read({},function(L){enable=L.enable;if(enable=="on"){$("input#status_2g").checkbox("disable");$("input#status_2g").checkbox("setTips",$.su.CHAR.ERROR["00000113"])}else{}})}}}},"json");$.post(G,function(K){if(typeof K.data=="undefined"){return}f=K.data.disabled;t=K.data.disabled_all;var J=K.data.extinfo.wds_guest_compatible;if(f=="on"){$("input#status_5g").checkbox("disable");$("input#network_name_5g").textbox("disable");$("input#enable_ssid_5g").checkbox("disable");$("input#guest_password_cycle_5g").radio("disable");$("input#guest_dynamic_password_5g").textbox("disable");$("input#guest_static_password_5g").textbox("disable");$("#note_title_all").removeClass("hidden")}else{$("input#status_5g").checkbox("enable");$("input#network_name_5g").textbox("enable");$("input#enable_ssid_5g").checkbox("enable");$("input#guest_password_cycle_5g").radio("enable");$("input#guest_dynamic_password_5g").textbox("enable");$("input#guest_static_password_5g").textbox("enable");$("#note_title_all").addClass("hidden");if(t=="on"){$("#status_5g").checkbox("disable");$("#status_5g").checkbox("setTips",$.su.CHAR.WIRELESS.ENABLE_TIPS)}else{$("#status_5g").checkbox("enable");$("#status_5g").checkbox("setTips","");if(J=="no"){h.read({},function(L){enable=L.enable;if(enable=="on"){$("input#status_5g").checkbox("disable");$("input#status_5g").checkbox("setTips",$.su.CHAR.ERROR["00000113"])}else{}})}}}},"json");var i=new $.su.Help({container:"div#help_basic_guest_network",content:["BASIC_GUEST_NETWORK"],afterLoad:function(){if(k=="no"&&n=="no"){$("#pwd_mode").hide();$("#pwd_no_random").show();$("#pwd_random").hide()}else{$("#pwd_mode").show();$("#pwd_no_random").hide();$("#pwd_random").show()}if(window.sysMode=="ap"){$("#guest_local").hide()}else{$("#guest_local").show()}}});$("input#guest_password_cycle_2g").radio({fieldLabel:$.su.CHAR.BASIC_GUEST.PASSWORD_CHANGE_CYCLE,columns:4,labelCls:"l",cls:"hidden",items:[{boxlabel:$.su.CHAR.BASIC_GUEST.PER_DAY,inputValue:"daily"},{boxlabel:$.su.CHAR.BASIC_GUEST.PER_WEEK,inputValue:"weekly"},{boxlabel:$.su.CHAR.BASIC_GUEST.PER_MONTH,inputValue:"monthly"},{boxlabel:$.su.CHAR.BASIC_GUEST.NEVER,inputValue:"never"}]}).on("ev_change",function(L,J,K){switch(K){case"never":$("div#guest_password1_2g").css({display:"none"});$("div#guest_password2_2g").css({display:"block"});$("div#guest_password2_2g").fadeIn(150);break;default:if(J!="never"){break}$("div#guest_password1_2g").css({display:"block"});$("div#guest_password2_2g").css({display:"none"});$("div#guest_password1_2g").fadeIn(150);$("input#guest_dynamic_password_2g").textbox("setValue",z());break}});$("#guest_password_2g").css({display:"none"});$("input#guest_static_password_2g").textbox({fieldLabel:$.su.CHAR.BASIC_GUEST.WIRELESS_PASSWORD,labelCls:"l",autoTrim:false,maxLength:64});$("input#guest_dynamic_password_2g").textbox({fieldLabel:$.su.CHAR.BASIC_GUEST.DYNAMIC_PASSWORD,labelCls:"l",readOnly:true});$("input#guest_dynamic_password_2g").css({"margin-left":"15px"});$("input#guest_password_cycle_5g").radio({fieldLabel:$.su.CHAR.BASIC_GUEST.PASSWORD_CHANGE_CYCLE,columns:4,labelCls:"l",cls:"hidden",items:[{boxlabel:$.su.CHAR.BASIC_GUEST.PER_DAY,inputValue:"daily"},{boxlabel:$.su.CHAR.BASIC_GUEST.PER_WEEK,inputValue:"weekly"},{boxlabel:$.su.CHAR.BASIC_GUEST.PER_MONTH,inputValue:"monthly"},{boxlabel:$.su.CHAR.BASIC_GUEST.NEVER,inputValue:"never"}]}).on("ev_change",function(L,J,K){switch(K){case"never":$("div#guest_password1_5g").css({display:"none"});$("div#guest_password2_5g").css({display:"block"});$("div#guest_password2_5g").fadeIn(150);break;default:if(J!="never"){break}$("div#guest_password1_5g").css({display:"block"});$("div#guest_password2_5g").css({display:"none"});$("div#guest_password1_5g").fadeIn(150);$("input#guest_dynamic_password_5g").textbox("setValue",z());break}});$("#guest_password_5g").css({display:"none"});$("input#guest_static_password_5g").textbox({fieldLabel:$.su.CHAR.BASIC_GUEST.WIRELESS_PASSWORD,labelCls:"l",autoTrim:false,maxLength:64});$("input#guest_dynamic_password_5g").textbox({fieldLabel:$.su.CHAR.BASIC_GUEST.DYNAMIC_PASSWORD,labelCls:"l",readOnly:true});$("input#guest_dynamic_password_5g").css({"margin-left":"15px"});var z=function(){var J="";J+=parseInt(Math.random()*100000000,10);while(J.length<8){J="0"+J}return J};$("input#guest_dynamic_password_2g").textbox("setValue",z());$("input#guest_dynamic_password_5g").textbox("setValue",z())});</script>
</body>
</html>
