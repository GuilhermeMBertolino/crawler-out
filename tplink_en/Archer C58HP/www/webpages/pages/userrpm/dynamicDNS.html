<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>dynamicDNS</title>
</head>
<body>
<div class="func-container">
	<div id="ddns-panel">
        <form id="ip-setting">
	        <input class="connection-type" id="radio_service_provider" name="provider" />
			<a style="position:relative; top:6px;" id="btn-go-register" target="_window" class="link" href="javascript:void(0)"></a>	
	    </form> 
		<div id="dyndns-cnt">
			<input id="dyndns-username" name="username"/>
			<input id="dyndns-password" name="password" type="password"/>
			<input id="dyndns-domainname" name="domain" />
			<input id="dyndns-update-time" name="update_time" />
		   <div class="setting-buttons part-seperate button-context">
				<button class="renew" id="dyndns-login" name="dyndns_login" type="button"></button>
				<button class="release" id="dyndns-logout" name="dyndns_logout" type="button"></button>
				<input id="dyndns-status" name="status" />
		   </div>
		</div>
		<div id="no-ip-cnt" class="hidden">
			<input id="no-ip-username" name="username"/>
			<input id="no-ip-password" name="password" type="password"/>
			<input id="no-ip-domainname" name="domain" />
			<input id="no-ip-update-time" name="update_time" />
			<input class="" id="wan-ip-binding" name="wan_bind" />
		   <div class="setting-buttons part-seperate button-context">
				<button class="renew" id="no-ip-login" name="no_ip_login" type="button"></button>
				<button class="release" id="no-ip-logout" name="no_ip_logout" type="button"></button>
				<input id="no-ip-status" name="status" />
		   </div>
		</div>
    </div>
    <div id="ddns_help"></div>
	<div id="help_ddns"></div>
</div>
<script type="text/javascript">try{$}catch(e){location.href="/"}$(document).ready(function(p){var v=$.su.url("/admin/ddns?form=provider");var d=$.su.url("/admin/ddns?form=dyndns");var t=$.su.url("/admin/ddns?form=noip");$("div.func-container").page({title:$.su.CHAR.DDNS.DDNS,help:""});$("div#ddns-panel").panel({title:$.su.CHAR.DDNS.DDNS,collapsible:false});var m=function(x,w){if((x[0].text==$.su.CHAR.DDNS.LOGIN_SAVE)&&(w==0)){x.button("setText",$.su.CHAR.DDNS.UPDATE)}else{if((x[0].text==$.su.CHAR.DDNS.UPDATE)&&(w!=2)&&(w!=0)){x.button("setText",$.su.CHAR.DDNS.LOGIN_SAVE)}}};function c(){clearInterval(r);r=0;if(j==0){j=setInterval(function(){n.status("refresh",{},function(x,w,y){var x=x||{};if(typeof x.status!="undefined"){switch(parseInt(x.status,10)){case 0:n.status("setSuccess",$.su.CHAR.DDNS[k[x.status]]);break;case 2:n.status("setLoading",$.su.CHAR.DDNS[k[x.status]]);break;default:n.status("setFailed",$.su.CHAR.DDNS[k[x.status]])}}m(h,parseInt(x.status,10))},function(){n.status("setFailed",$.su.CHAR.DDNS[k[data.status]])})},5*1000)}}function a(){clearInterval(j);j=0;if(r==0){r=setInterval(function(){b.status("refresh",{},function(x,w,y){var x=x||{};if(typeof x.status!="undefined"){switch(parseInt(x.status,10)){case 0:b.status("setSuccess",$.su.CHAR.DDNS[k[x.status]]);break;case 2:b.status("setLoading",$.su.CHAR.DDNS[k[x.status]]);break;default:b.status("setFailed",$.su.CHAR.DDNS[k[x.status]])}}m(u,parseInt(x.status,10))},function(){b.status("setFailed",$.su.CHAR.DDNS[k[data.status]])})},5*1000)}}$("input#radio_service_provider").radio({fieldLabel:$.su.CHAR.DDNS.SERVICEPROVIDER,columns:2,cls:"inline-block",items:[{boxlabel:$.su.CHAR.DDNS.NOIP,cls:"",inputValue:"noip"},{boxlabel:$.su.CHAR.DDNS.DYNDNS,cls:"",inputValue:"dyndns"}]}).on("ev_change",function(y,w,x){if(x=="dyndns"){$("div#comexe-cnt").form("hide");$("div#dyndns-cnt").form("reset");$("div#dyndns-cnt").form("setNormal");$("div#dyndns-cnt").form("show");$("div#no-ip-cnt").form("hide");f.read();a();$("a#btn-go-register").attr("href","http://www.dyn.com")}else{$("div#comexe-cnt").form("hide");$("div#dyndns-cnt").form("hide");$("div#no-ip-cnt").form("reset");$("div#no-ip-cnt").form("setNormal");$("div#no-ip-cnt").form("show");q.read();c();$("a#btn-go-register").attr("href","http://www.noip.com")}});$("a#btn-go-register").html($.su.CHAR.DDNS.GO_TO_REGISTER);$("input#dyndns-username").textbox({fieldLabel:$.su.CHAR.DDNS.USERNAME,allowBlank:false,maxLength:128,vtype:"string_visible"});$("input#dyndns-password").textbox({fieldLabel:$.su.CHAR.DDNS.PASSWORD,allowBlank:false,maxLength:128,vtype:"ascii_visible"});$("input#dyndns-domainname").textbox({fieldLabel:$.su.CHAR.DDNS.DOMAIN_NAME,allowBlank:false,vtype:"domain"});$("#dyndns-update-time").combobox({fieldLabel:$.su.CHAR.DDNS.UPDATE_INTERVAL,cls:"inline-block",items:[{value:"1h",name:$.su.CHAR.DDNS.ONE_HOUR},{value:"6h",name:$.su.CHAR.DDNS.SIX_HOUR},{value:"12h",name:$.su.CHAR.DDNS.TWETEEN_HOUR},{value:"1d",name:$.su.CHAR.DDNS.ONE_DAY},{value:"2d",name:$.su.CHAR.DDNS.TWO_DAY},{value:"3d",name:$.su.CHAR.DDNS.THREE_DAY},{value:"never",name:$.su.CHAR.DDNS.NEVER}]});var b=$("input#dyndns-status").status({cls:"inline-block",proxy:{url:d}});var r=0;var k=["STATU_SUCCESS","STATU_NO_LAUNCH","STATU_CONN","STATU_INCORRENT","STATU_ERR_DOMAIN"];var u=$("button#dyndns-login").button({fieldLabel:null,text:$.su.CHAR.DDNS.LOGIN_SAVE,cls:"inline gap field-buttons",handler:function(w){clearInterval(r);r=0;$("div#dyndns-cnt").form("submit",{operation:"login"},function(y,x,z){a()},function(x,y){},null)}});$("button#dyndns-logout").button({text:$.su.CHAR.DDNS.LOGOUT,cls:"inline field-buttons",handler:function(){f.write({operation:"logout"},function(w){clearInterval(r);r=0;if(typeof w.status!="undefined"){switch(parseInt(w.status,10)){case 0:b.status("setSuccess",$.su.CHAR.DDNS[k[w.status]]);break;case 2:b.status("setLoading",$.su.CHAR.DDNS[k[w.status]]);break;default:b.status("setFailed",$.su.CHAR.DDNS[k[w.status]]);u.button("setText",$.su.CHAR.DDNS.LOGIN_SAVE)}}})}});$("input#no-ip-username").textbox({fieldLabel:$.su.CHAR.DDNS.USERNAME,allowBlank:false,maxLength:128,vtype:"string_visible"});$("input#no-ip-password").textbox({fieldLabel:$.su.CHAR.DDNS.PASSWORD,allowBlank:false,maxLength:128,vtype:"ascii_visible"});$("input#no-ip-domainname").textbox({fieldLabel:$.su.CHAR.DDNS.DOMAIN_NAME,allowBlank:false,vtype:"domain"});$("#no-ip-update-time").combobox({fieldLabel:$.su.CHAR.DDNS.UPDATE_INTERVAL,cls:"inline-block",items:[{value:"1h",name:$.su.CHAR.DDNS.ONE_HOUR},{value:"6h",name:$.su.CHAR.DDNS.SIX_HOUR},{value:"12h",name:$.su.CHAR.DDNS.TWETEEN_HOUR},{value:"1d",name:$.su.CHAR.DDNS.ONE_DAY},{value:"2d",name:$.su.CHAR.DDNS.TWO_DAY},{value:"3d",name:$.su.CHAR.DDNS.THREE_DAY},{value:"never",name:$.su.CHAR.DDNS.NEVER}]});$("input#wan-ip-binding").radio({fieldLabel:$.su.CHAR.DDNS.WAN_IP_BIND,columns:2,cls:"",items:[{boxlabel:$.su.CHAR.DDNS.DISABLE,cls:"",inputValue:"disable",checked:"checked"},{boxlabel:$.su.CHAR.DDNS.ENABLE,cls:"",inputValue:"enable"}]});var n=$("input#no-ip-status").status({cls:"inline-block",proxy:{url:t}});var j=0;var h=$("button#no-ip-login").button({fieldLabel:null,text:$.su.CHAR.DDNS.LOGIN_SAVE,cls:"inline gap field-buttons",handler:function(w){clearInterval(j);j=0;$("div#no-ip-cnt").form("submit",{operation:"login"},function(y,x,z){c()},function(x,y){})}});$("button#no-ip-logout").button({text:$.su.CHAR.DDNS.LOGOUT,cls:"inline field-buttons",handler:function(){q.write({operation:"logout"},function(w){clearInterval(j);j=0;if(typeof w.status!="undefined"){switch(parseInt(w.status,10)){case 0:n.status("setSuccess",$.su.CHAR.DDNS[k[w.status]]);break;case 2:n.status("setLoading",$.su.CHAR.DDNS[k[w.status]]);break;default:n.status("setFailed",$.su.CHAR.DDNS[k[w.status]]);h.button("setText",$.su.CHAR.DDNS.LOGIN_SAVE)}}})}});var s=new $.su.Proxy({url:v});$("form#ip-setting").form({proxy:s,fields:[{name:"provider",mapping:"provider"}],submitBtn:false,autoLoad:false}).on("ev_loadData",function(x,w){if(w.provider==""||!w.provider){$("#radio_service_provider").radio("setValue","dyndns")}});s.read();var f=new $.su.Proxy({url:d});var o=$("div#dyndns-cnt").form({proxy:f,cls:"no-padding",fields:[{name:"username",mapping:"username"},{name:"password",mapping:"password"},{name:"domain",mapping:"domain"},{name:"update_time",mapping:"update_time"},{name:"status",mapping:"status"}],autoLoad:false,submitBtn:false}).on("ev_loadData",function(x,w){if(typeof w.status!="undefined"){switch(parseInt(w.status,10)){case 0:b.status("setSuccess",$.su.CHAR.DDNS[k[0]]);if(w.logined==1){u.button("setText",$.su.CHAR.DDNS.UPDATE)}break;case 2:b.status("setLoading",$.su.CHAR.DDNS[k[w.status]]);if(w.logined==1){u.button("setText",$.su.CHAR.DDNS.UPDATE)}break;default:b.status("setFailed",$.su.CHAR.DDNS[k[w.status]])}}});var q=new $.su.Proxy({url:t});var l=$("div#no-ip-cnt").form({proxy:q,fields:[{name:"username",mapping:"username"},{name:"password",mapping:"password"},{name:"domain",mapping:"domain"},{name:"update_time",mapping:"update_time"},{name:"status",mapping:"status"},{name:"wan_bind",mapping:"wan_bind"}],cls:"no-padding",autoLoad:false,submitBtn:false}).on("ev_loadData",function(x,w){if(typeof w.status!="undefined"){switch(parseInt(w.status,10)){case 0:n.status("setSuccess",$.su.CHAR.DDNS[k[0]]);if(w.logined==1){h.button("setText",$.su.CHAR.DDNS.UPDATE)}break;case 2:n.status("setLoading",$.su.CHAR.DDNS[k[w.status]]);if(w.logined==1){h.button("setText",$.su.CHAR.DDNS.UPDATE)}break;default:n.status("setFailed",$.su.CHAR.DDNS[k[w.status]])}}});$.su.app.runningModule.addUnloadHandler(function(){clearInterval(r);r=0;clearInterval(j);j=0});var g=new $.su.Help({container:"div#help_ddns",content:"DDNS"});var i=new $.su.Help({container:"div#ddns_help",content:"DDNS"})});</script>
</body>
</html>
