!function(u){u.su.moduleManager.define("qsWirelessSettingAp",{services:["moduleLoader","moduleManager","device"],deps:["quickSetupAp"],stores:[],models:["quickSetupModel"],views:["qsWirelessSettingApView"],listeners:{"ev_on_launch":function(e,s,i,l,t,r,a){s.smartEnable=l.quickSetupModel.wirelessSmartEnable.getValue(),"on"===s.smartEnable?l.quickSetupModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO):s.smartEnableOn(),a.device.getIsTriband()||(i.qsWirelessSettingApView.qsWireless5g2.hide(),s.visualDisable5g2())}},init:function(t,l,r,e,a,n){this.control({"#qs-wireless-next-step-btn":{"ev_button_click":function(){var e=["wireless2gSsid","wireless2gPskKey"];"off"===r.quickSetupModel.wirelessSmartEnable.getValue()&&(e.push("wireless5gSsid","wireless5gPskKey"),n.device.getIsTriband())&&e.push("wireless5g2Ssid","wireless5g2PskKey");for(var s=0,i=e.length;s<i;s++)if(!r.quickSetupModel[e[s]].validate())return;t.syncQsWirelessData(),a.quickSetupAp.goTo("transitionAp",!0)}},"#reboot-alert-msg":{"ev_msg_ok":function(){a.quickSetupAp.goTo("qsSummaryAp")}}}),this.listen({"models.quickSetupModel.wirelessSmartEnable":{"ev_value_change":function(e,s){"on"==s?(l.qsWirelessSettingApView.qsWireless5g.hide(),l.qsWirelessSettingApView.qsWirelessSetSeparately.hide(),r.quickSetupModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO)):t.smartEnableOn()}},"models.quickSetupModel.wireless2gEnable":{"ev_value_change":function(e,s){l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue()||(r.quickSetupModel.wireless5gEnable.setValue(s),n.device.getIsTriband()&&r.quickSetupModel.wireless5g2Enable.setValue(s))}},"models.quickSetupModel.wireless2gSsid":{"ev_value_change":function(e,s){var i=l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue();""===s||i||(n.device.getIsTriband()?(r.quickSetupModel.wireless5gSsid.setValue(s+("gaming"==GLOBAL_STYLE?"_5G":"_5G_1")),r.quickSetupModel.wireless5g2Ssid.setValue(s+("gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2"))):r.quickSetupModel.wireless5gSsid.setValue(s+"_5G"))}},"models.quickSetupModel.wireless2gEncryption":{"ev_value_change":function(e,s){"psk_sae"==s?r.quickSetupModel.wireless2gPskKey.setVtype("wpa3_password"):r.quickSetupModel.wireless2gPskKey.setVtype("psk_password")}},"models.quickSetupModel.wireless2gPskKey":{"ev_value_change":function(e,s){var i=l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue();""===s||i||(r.quickSetupModel.wireless5gPskKey.setValue(s),n.device.getIsTriband()&&r.quickSetupModel.wireless5g2PskKey.setValue(s))}},"models.quickSetupModel.wireless5gEncryption":{"ev_value_change":function(e,s){"psk_sae"==s?r.quickSetupModel.wireless5gPskKey.setVtype("wpa3_password"):r.quickSetupModel.wireless5gPskKey.setVtype("psk_password")}},"models.quickSetupModel.wireless5g2Encryption":{"ev_value_change":function(e,s){"psk_sae"==s?r.quickSetupModel.wireless5g2PskKey.setVtype("wpa3_password"):r.quickSetupModel.wireless5g2PskKey.setVtype("psk_password")}},"views.qsWirelessSettingApView.qsWirelessSetSeparately":{"ev_value_change":function(e,s){var i,l;s?(t.visualEnable5g(),n.device.getIsTriband()&&t.visualEnable5g2()):(t.visualDisable5g(),s=r.quickSetupModel.wireless2gEnable.getValue(),i=r.quickSetupModel.wireless2gSsid.getValue(),l=r.quickSetupModel.wireless2gPskKey.getValue(),r.quickSetupModel.wireless5gEnable.setValue(s),r.quickSetupModel.wireless5gPskKey.setValue(l),n.device.getIsTriband()?(r.quickSetupModel.wireless5gSsid.setValue(i+("gaming"==GLOBAL_STYLE?"_5G":"_5G_1")),t.visualDisable5g2(),r.quickSetupModel.wireless5g2Enable.setValue(s),r.quickSetupModel.wireless5g2Ssid.setValue(i+("gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2")),r.quickSetupModel.wireless5g2PskKey.setValue(l)):r.quickSetupModel.wireless5gSsid.setValue(i+"_5G"))}}})}},function(t,l,a,e,s,r){t=this;return{smartEnableOn:function(){l.qsWirelessSettingApView.qsWireless5g.show(),l.qsWirelessSettingApView.qsWirelessSetSeparately.show(),a.quickSetupModel.wireless2gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_2G);var e=a.quickSetupModel.wireless2gEnable.getValue(),s=a.quickSetupModel.wireless2gSsid.getValue(),i=a.quickSetupModel.wireless2gPskKey.getValue();a.quickSetupModel.wireless5gEnable.setValue(e),a.quickSetupModel.wireless5gSsid.setValue(s+"_5G"),a.quickSetupModel.wireless5gPskKey.setValue(i),l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue()||t.visualDisable5g(),r.device.getIsTriband()?(a.quickSetupModel.wireless5gEnable.setLabelField(u.su.CHAR.WIRELESS_SETTINGS.MODE_5G1),a.quickSetupModel.wireless5gSsid.setValue(s+("gaming"==GLOBAL_STYLE?"_5G":"_5G_1")),l.qsWirelessSettingApView.qsWireless5g2.show(),a.quickSetupModel.wireless5g2Enable.setValue(e),a.quickSetupModel.wireless5g2Ssid.setValue(s+("gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2")),a.quickSetupModel.wireless5g2PskKey.setValue(i),l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue()||t.visualDisable5g2()):l.qsWirelessSettingApView.qsWireless5g2.hide()},visualDisable5g:function(){a.quickSetupModel.wireless5gEnable.disable(!0),a.quickSetupModel.wireless5gSsid.disable(!0),a.quickSetupModel.wireless5gPskKey.disable(!0)},visualEnable5g:function(){a.quickSetupModel.wireless5gEnable.enable(),a.quickSetupModel.wireless5gSsid.enable(),a.quickSetupModel.wireless5gPskKey.enable()},visualDisable5g2:function(){a.quickSetupModel.wireless5g2Enable.disable(!0),a.quickSetupModel.wireless5g2Ssid.disable(!0),a.quickSetupModel.wireless5g2PskKey.disable(!0)},visualEnable5g2:function(){a.quickSetupModel.wireless5g2Enable.enable(),a.quickSetupModel.wireless5g2Ssid.enable(),a.quickSetupModel.wireless5g2PskKey.enable()},syncQsWirelessData:function(){var e=t.syncQsWireless2gData(),s=t.syncQsWireless5gData(),i=t.syncQsWireless5g2Data(),e=u.extend({},e,s,i);a.quickSetupModel.replaceData(e)},syncQsWireless2gData:function(){var e=a.quickSetupModel.getData().wireless2gEnable,s=t.syncPskConfig("2g"),e={wireless2gDisabledAll:"on"==e?"off":"on",wireless2gEncryption:s.encryption,wireless2gPskVersion:s.version,wireless2gPskCipher:s.cipher};return a.quickSetupModel.replaceData(e),e},syncQsWireless5gData:function(){var e=a.quickSetupModel.getData(),s=e.wirelessSmartEnable,i=e.wireless5gEnable,l={wireless5gRegionEnable:"on"};return"on"==s?(l.wireless5gEnable=e.wireless2gEnable,l.wireless5gDisabledAll=e.wireless2gDisabledAll,l.wireless5gSsid=e.wireless2gSsid,l.wireless5gPskKey=e.wireless2gPskKey,l.wireless5gEncryption=e.wireless2gEncryption,l.wireless5gPskVersion=e.wireless2gPskVersion,l.wireless5gPskCipher=e.wireless2gPskCipher):(s=t.syncPskConfig("5g"),l.wireless5gEncryption=s.encryption,l.wireless5gPskVersion=s.version,l.wireless5gPskCipher=s.cipher,l.wireless5gDisabledAll="on"==i?"off":"on"),l},syncQsWireless5g2Data:function(){var e,s,i,l;return r.device.getIsTriband()?(l=(e=a.quickSetupModel.getData()).wirelessSmartEnable,s=e.wireless5g2Enable,i={wireless5gRegionEnable:"on"},"on"==l?(i.wireless5g2Enable=e.wireless2gEnable,i.wireless5g2DisabledAll=e.wireless2gDisabledAll,i.wireless5g2Ssid=e.wireless2gSsid,i.wireless5g2PskKey=e.wireless2gPskKey,i.wireless5g2Encryption=e.wireless2gEncryption,i.wireless5g2PskVersion=e.wireless2gPskVersion,i.wireless5g2PskCipher=e.wireless2gPskCipher):(l=t.syncPskConfig("5g2"),i.wireless5g2Encryption=l.encryption,i.wireless5g2PskVersion=l.version,i.wireless5g2PskCipher=l.cipher,i.wireless5g2DisabledAll="on"==s?"off":"on"),i):{}},syncPskConfig:function(e){var s={},i=a.quickSetupModel.getData(),l="wireless2gEncryption".replace("2g",e),t="wireless2gPskVersion".replace("2g",e),r="wireless2gPskCipher".replace("2g",e);switch(i[l]){case"psk":case"psk_sae":s.encryption=i[l],s.version=i[t],s.cipher=i[r];break;default:s.encryption="psk",s.version="rsn",s.cipher="aes"}return s}}})}(jQuery);