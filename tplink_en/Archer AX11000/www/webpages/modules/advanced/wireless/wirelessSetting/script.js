!function(h){h.su.moduleManager.define("wirelessSettings",{models:["lanAdvLanModel","regionWirelessModel","regionWirelessCapabilityModel","wirelessSettingsControl","ofdmaModel","twtModel","wirelessSmartConn","wireless24g","wireless5g1","wireless5g2","ffsModel"],stores:["regionStore"],services:["moduleLoader","ajax","device","moduleManager"],views:["wirelessSettingsView"],deps:["utils"],listeners:{"ev_on_launch":function(e,s,a,i,n,r,l){i.ofdmaModel.enable.hide(),l.device.getOFDMA()&&(i.ofdmaModel.enable.show(),i.ofdmaModel.load()),l.device.getConfig().supportTWT&&(i.twtModel.enable.show(),i.twtModel.load()),s.isTriband||a.wirelessSettingsView.wirelessDisappearDfsNote.hide(),this.prepare().done(function(){s.launchModules()})},ev_region_reload:function(){}},init:function(_,e,f,s,a,S){this.control({".index-common-save-btn":{"ev_will_auto_save":function(e,s,a){for(var i=!1,n=0,r=a.length;n<r;n++)-1<a[n].dataObj.name.indexOf("wireless")&&(i=!0);var l,t,o,d,g,u,w,p,m,c=f.wireless24g.enable.getValue();S.device.getConfig().supportAmazonFFS&&f.ffsModel.isDirty()&&"on"===c&&f.ffsModel.submit(),i&&("on"===f.wirelessSmartConn.smartEnable.getValue()&&_.replaceData(),l=S.moduleManager.get("wirelessAdv24g"),t=S.moduleManager.get("wirelessAdv5g1"),c="/admin/wireless?form=wireless_2g&form=wireless_5g",d=l.getHwMode(),g=t.getHwMode(),_.isTriband&&(o=S.moduleManager.get("wirelessAdv5g2"),u=o.getHwMode(),c="/admin/wireless?form=wireless_2g&form=wireless_5g&form=wireless_5g_2"),l.beforeSubmit())&&t.beforeSubmit()&&(!o||o.beforeSubmit())&&(w=l.syncMainModel(),p=t.syncMainModel(),m=o&&o.syncMainModel(),1!=f.wirelessSmartConn.isDirty()&&f.wirelessSmartConn.submit(),S.ajax.request({url:h.su.url(c),data:h.extend(!0,{operation:"write_spf"},w,p,m),success:function(){var e,s=l.getWifiInfo(),a=t.getWifiInfo();_.isTriband?(e=o.getWifiInfo(),"bgn"==d&&"anac_5"==g&&"anac_5"==u?(f.ofdmaModel.enable.disable(),f.twtModel.enable.disable()):(f.ofdmaModel.enable.enable(),f.twtModel.enable.enable())):"bgn"==d&&"anac_5"==g?(f.ofdmaModel.enable.disable(),f.twtModel.enable.disable()):(f.ofdmaModel.enable.enable(),f.twtModel.enable.enable()),s.enable||a.enable||_.isTriband&&e.enable?(_.loadWifiInfo(s,a,e),_.showWlanOnSmartOffSaveNote()):_.showWlanOffSaveNote(),l.syncWifiSharingData(),t.syncWifiSharingData(),o&&o.syncWifiSharingData(),_.updateGuestNetwork(),f.wireless24g.record(),f.wireless5g1.record(),f.wireless5g2.record()}}))}}}),this.listen({"models.regionWirelessModel":{"ev_loaded":function(e,s){var a=f.regionWirelessModel.capability.getValue();f.regionWirelessCapabilityModel.loadData(a,!0),_.region=s.country.toUpperCase(),_.initRegionData(),_.trigger("ev_region_reload")}},"models.ffsModel":{"ev_will_auto_save":function(e,s){s.preventDefault()}},"models.wireless24g":{"ev_will_auto_save":function(e,s){s.preventDefault()}},"models.wireless5g1":{"ev_will_auto_save":function(e,s){s.preventDefault()}},"models.wireless5g2":{"ev_will_auto_save":function(e,s){s.preventDefault()}},"models.wirelessSmartConn":{"ev_will_auto_save":function(e,s){s.preventDefault()}},"models.wirelessSmartConn.smartEnable":{"ev_value_change":function(e,s,a){"on"===s?(_.hideDetailFreqConfig(),S.moduleManager.get("wirelessAdv24g").setEnableLabel(!0)):(_.showDetailFreqConfig(),S.moduleManager.get("wirelessAdv24g").setEnableLabel())}}})}},function(t,o,d,e,i,g){var u=null,n=!0,r=!0,l=!0,s=!0;return{isTriband:g.device.getIsTriband(),getLanIP:function(){return d.lanAdvLanModel.ipaddr.getValue()},prepare:function(){var e=h.Deferred(),s=!1,a=!1;return d.regionWirelessModel.load({success:function(){a=!0,s&&e.resolve(!0)}}),d.lanAdvLanModel.load({success:function(){s=!0,a&&e.resolve(!0)}}),e.promise()},MODE:{"ADVANCED":"advanced","BASIC":"basic","QUICK_SETUP":"qs"},setMode:function(e){u=e},getMode:function(){return u},launchChildrenModules:function(){var e;switch(u){case t.MODE.ADVANCED:e="wirelessAdvSmartConnView";break;case t.MODE.BASIC:e="wirelessAdvSmartConnViewBasic"}g.moduleLoader.load({module:"wirelessSettings"},{module:"wirelessAdvSmartConn",view:e},d.wirelessSettingsControl.wirelessSettingsSmartConnLoader)},has2g:function(){return n},has5g1:function(){return r},has5g2:function(){return l},launchModules:function(){var e=function(e){var s;switch(u){case t.MODE.ADVANCED:s=e+"View";break;case t.MODE.BASIC:s=e+"ViewBasic";break;case t.MODE.QUICK_SETUP:s=e+"ViewQs";break;default:s=e+"View"}return s},s=(d.wirelessSettingsControl.detailFreqConfigField.show(),h.Deferred()),a=h.Deferred(),i=h.Deferred(),n="",r="",l="";t.has2g()&&g.moduleLoader.load({module:"wirelessSettings"},{module:"wirelessAdv24g",view:e("wirelessAdv24g")},d.wirelessSettingsControl.wirelessSettings24gLoader,function(){var e=g.moduleManager.get("wirelessAdv24g");h.when(e.dfd).then(function(){n=e.getHwMode(),s.resolve()})}),t.has5g1()&&g.moduleLoader.load({module:"wirelessSettings"},{module:"wirelessAdv5g1",view:e("wirelessAdv5g1")},d.wirelessSettingsControl.wirelessSettings5g1Loader,function(){t.isTriband||(g.moduleManager.get("wirelessAdv5g1").set5g1Name(),o.wirelessSettingsView.wirelessTitle5g.setLabelField(h.su.CHAR.WIRELESS_SETTINGS.NETWORK_5G));var e=g.moduleManager.get("wirelessAdv5g1");h.when(e.dfd).then(function(){r=e.getHwMode(),a.resolve()})}),t.isTriband?(g.moduleLoader.load({module:"wirelessSettings"},{module:"wirelessAdv5g2",view:e("wirelessAdv5g2")},d.wirelessSettingsControl.wirelessSettings5g2Loader,function(){var e=g.moduleManager.get("wirelessAdv5g2");h.when(e.dfd).then(function(){l=e.getHwMode(),i.resolve()})}),h.when(s,a,i).then(function(){"bgn"==n&&"anac_5"==r&&"anac_5"==l?(d.ofdmaModel.enable.disable(),d.twtModel.enable.disable()):(d.ofdmaModel.enable.enable(),d.twtModel.enable.enable())})):h.when(s,a).then(function(){"bgn"==n&&"anac_5"==r?(d.ofdmaModel.enable.disable(),d.twtModel.enable.disable()):(d.ofdmaModel.enable.enable(),d.twtModel.enable.enable())})},showDetailFreqConfig:function(){d.wirelessSettingsControl.detailFreqConfigField.show()},hideDetailFreqConfig:function(){d.wirelessSettingsControl.detailFreqConfigField.hide()},initRegionData:function(){var e=d.regionWirelessCapabilityModel.channel2g.getValue(),s=d.regionWirelessCapabilityModel.channel5g.getValue(),a=d.regionWirelessCapabilityModel.channel5g2.getValue();i.utils.isEmptyObject(e)&&(n=!1),i.utils.isEmptyObject(s)&&(r=!1),i.utils.isEmptyObject(a)&&(l=!1)},showWlanOffSaveNote:function(){o.wirelessSettingsView.wirelessOffNote.show()},showWlanOnSaveNote:function(e,s){o.wirelessSettingsView.wirelessName.setValue(e),o.wirelessSettingsView.wirelessPassword.setValue(s),o.wirelessSettingsView.wirelessOnNote.show()},showWlanOnSmartOffSaveNote:function(){o.wirelessSettingsView.wirelessOnSmartOffNote.show()},loadWifiInfo:function(e,s,a){var i=o.wirelessSettingsView,n=d.wirelessSmartConn.smartEnable.getValue();"on"===n?o.wirelessSettingsView.wirelessNetwork24g.setLabelField(h.su.CHAR.WIRELESS_SETTINGS.SMART_CONN):o.wirelessSettingsView.wirelessNetwork24g.setLabelField(h.su.CHAR.WIRELESS_SETTINGS.NETWORK_24G),e.enable?(i.wirelessNote24g.show(),i.wirelessName24g.setValue(e.ssid),i.wirelessPassword24g.setValue(""===e.password?h.su.CHAR.WIRELESS_SETTINGS.NO_PASSWORD:e.password)):i.wirelessNote24g.hide(),s.enable&&"on"!==n?(i.wirelessNote5g.show(),i.wirelessName5g.setValue(s.ssid),i.wirelessPassword5g.setValue(""===s.password?h.su.CHAR.WIRELESS_SETTINGS.NO_PASSWORD:s.password)):i.wirelessNote5g.hide(),a&&a.enable&&"on"!==n?(i.wirelessNote5g2.show(),i.wirelessName5g2.setValue(a.ssid),i.wirelessPassword5g2.setValue(""===a.password?h.su.CHAR.WIRELESS_SETTINGS.NO_PASSWORD:a.password)):i.wirelessNote5g2.hide()},showWlanScheduleNote:function(){o.wirelessSettingsView.wirelessSwitchNote.setText(h.su.CHAR.WIRELESS_SETTINGS.NOTICE2),o.wirelessSettingsView.wirelessSwitchNote.show()},hideWlanOffNote:function(){o.wirelessSettingsView.wirelessSwitchNote.hide()},getSwitchSt:function(){return s},setSwitchSt:function(e){s=e},updateGuestNetwork:function(){var e;"basic"==t.getMode()&&(e=g.moduleManager.get("guestNetworkModule"))&&e.checkStatus()},replaceData:function(){var e=d.wireless24g.getData();delete e.htmode,delete e.hwmode,delete e.channel,d.wireless5g1.replaceData(e),t.isTriband&&d.wireless5g2.replaceData(e)}}})}(jQuery),$.su.storeManager.define("encryptionStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{"value":$.su.securityCode.no_security,"name":$.su.CHAR.WIRELESS_SETTINGS.NO_SECURITY},{"value":$.su.securityCode.psk_aes,"name":$.su.CHAR.WIRELESS_SETTINGS.WPA2_AES},{"value":$.su.securityCode.psk_aes_tkip,"name":$.su.CHAR.WIRELESS_SETTINGS.WPA2_AES_TKIP},{"value":$.su.securityCode.psk_sae_personal,"name":$.su.CHAR.WIRELESS_SETTINGS.WPA3_PERSONAL},{"value":$.su.securityCode.psk_sae_personal_aes,"name":$.su.CHAR.WIRELESS_SETTINGS.WPA3_PERSONAL_AES},{"value":$.su.securityCode.wpa_enterprise,"name":$.su.CHAR.WIRELESS_SETTINGS.WPA2_ENTERPRISE},{"value":$.su.securityCode.wpa_enterprise_tkip,"name":$.su.CHAR.WIRELESS_SETTINGS.WPA_WPA2_ENTERPRISE}]}),$.su.storeManager.define("wirelessVersionStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{name:$.su.CHAR.WIRELESS_SETTINGS.WPA_WPA2_PSK,value:"auto"},{name:$.su.CHAR.WIRELESS_SETTINGS.WPA2_PSK,value:"rsn"}]}),$.su.storeManager.define("wirelessVersionEpStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{name:$.su.CHAR.WIRELESS_SETTINGS.WPA_WPA2,value:"auto"},{name:$.su.CHAR.WIRELESS_SETTINGS.WPA2,value:"rsn"}]}),$.su.storeManager.define("wirelessWpa3VersionStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{name:$.su.CHAR.WIRELESS_SETTINGS.AUTO,value:"sae_transition"},{name:$.su.CHAR.WIRELESS_SETTINGS.WPA3_SAE,value:"sae_only"}]}),$.su.storeManager.define("wirelessCipherStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{name:$.su.CHAR.WIRELESS_SETTINGS.TKIP_AES,value:"auto"},{name:$.su.CHAR.WIRELESS_SETTINGS.AES,value:"aes"}]}),$.su.storeManager.define("wireless24gWpa3CipherStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{name:$.su.CHAR.WIRELESS_SETTINGS.AUTO,value:"aes"}]}),$.su.storeManager.define("wireless5gWpa3CipherStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{name:$.su.CHAR.WIRELESS_SETTINGS.AUTO,value:"ccmp"}]}),$.su.storeManager.define("wepTypeStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{name:$.su.CHAR.WIRELESS_SETTINGS.AUTO,value:"auto",itemCls:"fix_min",checked:!0},{name:$.su.CHAR.WIRELESS_SETTINGS.OPEN_SYSTEM,value:"open"},{name:$.su.CHAR.WIRELESS_SETTINGS.SHARED_KEY,value:"shared"}]}),$.su.storeManager.define("wepKeySelectedStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{"value":"1","name":$.su.CHAR.WIRELESS_SETTINGS.KEY1},{"value":"2","name":$.su.CHAR.WIRELESS_SETTINGS.KEY2},{"value":"3","name":$.su.CHAR.WIRELESS_SETTINGS.KEY3},{"value":"4","name":$.su.CHAR.WIRELESS_SETTINGS.KEY4}]}),$.su.storeManager.define("wepKeyFormatStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{name:$.su.CHAR.WIRELESS_SETTINGS.ASCII,value:"asic",checked:!0},{name:$.su.CHAR.WIRELESS_SETTINGS.HEXADECIMAL,value:"hex"}]}),$.su.storeManager.define("wepKeyTypeStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{name:$.su.CHAR.WIRELESS_SETTINGS.BIT64,value:"64",checked:!0},{name:$.su.CHAR.WIRELESS_SETTINGS.BIT128,value:"128"}]}),$.su.storeManager.define("transPowerStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[{name:$.su.CHAR.WIRELESS_SETTINGS.LOW,value:"low",checked:!0},{name:$.su.CHAR.WIRELESS_SETTINGS.MIDDLE,value:"middle"},{name:$.su.CHAR.WIRELESS_SETTINGS.HIGH,value:"high"}]}),$.su.modelManager.define("regionWirelessModel",{type:"model",fields:[{name:"country",mapping:"country"},{name:"capability",mapping:"capability"}],proxy:{url:$.su.url("/admin/wireless?form=region")}}),$.su.modelManager.define("regionWirelessCapabilityModel",{type:"model",fields:[{name:"hwmode2g",mapping:"hwmode_2g"},{name:"hwmode5g",mapping:"hwmode_5g"},{name:"hwmode5g2",mapping:"hwmode_5g_2"},{name:"htmode2g",mapping:"htmode_2g"},{name:"htmode5g",mapping:"htmode_5g"},{name:"htmode5g2",mapping:"htmode_5g_2"},{name:"channel2g",mapping:"channel_2g"},{name:"channel5g",mapping:"channel_5g"},{name:"channel5g2",mapping:"channel_5g_2"}]}),$.su.modelManager.define("localeCountryModel",{type:"model",fields:[{name:"country",mapping:"country"}],proxy:{url:"./data/locale.country.json"}}),$.su.storeManager.define("regionStore",{type:"store",fields:[{name:"name",convert:function(e){return $.su.CHAR.REGION[e]}},{name:"value"},{name:"noAutodetect",mapping:"no_autodetect"}],proxy:{url:"./data/region.json"}}),$.su.modelManager.define("wirelessSettingsControl",{type:"model",fields:[{name:"wirelessSettingsSmartConnLoader"},{name:"detailFreqConfigField"},{name:"wirelessSettings24gLoader"},{name:"wirelessSettings5g1Loader"},{name:"wirelessSettings5g2Loader"}]}),$.su.modelManager.define("ofdmaModel",{type:"model",fields:[{name:"enable",mapping:"enable"}],proxy:{url:$.su.url("/admin/wireless?form=ofdma")}}),$.su.modelManager.define("twtModel",{type:"model",fields:[{name:"enable",mapping:"enable"}],proxy:{url:$.su.url("/admin/wireless?form=twt")}}),function(w){w.su.moduleManager.define("wirelessAdv24g",{services:["moduleManager","ajax","device"],stores:["encryptionStore","wirelessVersionStore","wirelessVersionEpStore","wirelessCipherStore","wirelessWpa3VersionStore","wireless24gWpa3CipherStore","wepTypeStore","wepKeySelectedStore","wepKeyFormatStore","wepKeyTypeStore","transPowerStore","hwmode2gStore","htmode2gStore","channel2gStore"],models:["wireless24g","wireless24gControl","regionWirelessCapabilityModel","quickSetupModel","wirelessSmartConn","ffsModel"],views:["wirelessAdv24gView","wirelessAdv24gViewBasic","wirelessAdv24gViewQs"],listeners:{"ev_on_launch":function(e,s,a,i,n,r,l){s.handleRegionInfo(),s.dfd=w.Deferred(),i.wirelessSmartConn.load(),i.wireless24g.load({success:function(){s.dfd.resolve()}}),s.supportAmazonFFS()&&(i.ffsModel.enable.show(),i.ffsModel.load())}},deps:["utils","wirelessSettings"],init:function(l,e,t,r,o,n){this.listen({"models.wirelessSmartConn.smartEnable":{"ev_value_change":function(e,s,a){var i=n.moduleManager.get("wirelessSettings").getMode();"on"!==t.wireless24g.enable.getValue()&&"on"!==s?t.wireless24gControl.editField.hide():t.wireless24gControl.editField.show(),"advanced"===i&&("on"===s?w(".mode-channel").hide():w(".mode-channel").show())}},"models.wireless24g.enable":{"ev_value_change":function(e,s,a){var i=t.wirelessSmartConn.smartEnable.getValue(),n=l.supportAmazonFFS(),r="";"on"===s?(this.disableAll=!1,t.wireless24gControl.editField.show(),n&&(t.ffsModel.enable.enable(),t.ffsModel.enable.setTips(r))):(this.disableAll=!0,r="on"!==i?(t.wireless24gControl.editField.hide(),w.su.CHAR.WIRELESS_SETTINGS.AMAZON_WIFI_24G_DISABLE_NOTE):w.su.CHAR.WIRELESS_SETTINGS.AMAZON_WIFI_DISABLE_NOTE,n&&(t.ffsModel.enable.disable(),t.ffsModel.enable.setTips(r)))}},"models.wireless24g.encryption":{"ev_value_change":function(e,s,a){switch(t.wireless24gControl.wpaPersonal24g.hide(),t.wireless24gControl.wpaEnterprise24g.hide(),s){case w.su.securityCode.no_security:t.wireless24gControl.wpaPersonal24g.hide(),t.wireless24gControl.wpaEnterprise24g.hide();break;case w.su.securityCode.psk_aes:case w.su.securityCode.psk_aes_tkip:t.wireless24g.pskKey.setVtype("psk_password"),t.wireless24gControl.wpaPersonal24g.show(),t.wireless24gControl.wpaEnterprise24g.hide();case w.su.securityCode.psk_sae_personal:case w.su.securityCode.psk_sae_personal_aes:t.wireless24g.pskKey.setVtype("wpa3_password"),t.wireless24gControl.wpaPersonal24g.show(),t.wireless24gControl.wpaEnterprise24g.hide();break;case w.su.securityCode.wpa_enterprise:case w.su.securityCode.wpa_enterprise_tkip:t.wireless24gControl.wpaEnterprise24g.show(),t.wireless24gControl.wpaPersonal24g.hide()}s==w.su.securityCode.psk_aes_tkip||s==w.su.securityCode.wpa_enterprise_tkip?t.wireless24g.hwmode.disableItems(["ax"]):t.wireless24g.hwmode.enableItems(["ax"]),s==w.su.securityCode.no_security||s==w.su.securityCode.psk_aes_tkip?t.wireless24g.encryption.setTips(w.su.CHAR.WIRELESS_SETTINGS.NOT_CONSIDERED_TIP):t.wireless24g.encryption.setTips("")}},"models.wireless24g.hwmode":{"ev_value_change":function(e,s,a){var i,n=t.regionWirelessCapabilityModel.channel2g.getValue();switch(n&&13<n.length&&(i=t.wireless24g.channel.getValue(),n=l.getHtChannel(n,20),"b"!=s&&n.pop(),r.channel2gStore.loadItems(n),o.utils.valInObjArr(i,n)?t.wireless24g.channel.setValue(i):t.wireless24g.channel.setValue("auto")),s){case"b":case"g":case"bg":t.wireless24g.htmode.disableItems(["40"]),t.wireless24g.htmode.setValue("auto"),t.wireless24g.htmode.hide();break;default:t.wireless24g.htmode.enableItems(["40"]),t.wireless24g.htmode.show()}"ax"==s?t.wireless24g.encryption.disableItems([w.su.securityCode.psk_aes_tkip,w.su.securityCode.wpa_enterprise_tkip]):t.wireless24g.encryption.enableItems([w.su.securityCode.psk_aes_tkip,w.su.securityCode.wpa_enterprise_tkip])}},"models.wireless24g":{"ev_loaded":function(e,s){n.ajax.request({proxy:"sysWireless2gProxy",data:{"operation":"read"},success:function(e){e&&t.wireless24g&&t.wireless24g.channel&&("on"==e.ENABLE?t.wireless24g.channel.disable():t.wireless24g.channel.enable(),t.wireless24g.hwmode.getValue())}}),this.syncWifiSharingData()},"ev_model_submit":function(e,s){this.syncWifiSharingData()},"ev_will_auto_save":function(e,s){s.preventDefault()}},"models.ffsModel":{"ev_will_auto_save":function(e,s){s.preventDefault()}}})}},function(s,n,g,u,i,a){return{dfd:null,SYS_WIRELESS_2G_URL:w.su.url("/admin/wireless?form=syspara_2g"),supportAmazonFFS:function(){var e=a.moduleManager.get("wirelessSettings").getMode();return a.device.getConfig().supportAmazonFFS&&"router"===a.device.getCurrentMode()&&"advanced"===e},onDestroy:function(){var e=a.moduleManager.get("wirelessSettings");e&&e.off("ev_region_reload",s.handleRegionInfo)},handleRegionInfo:function(){var e=g.regionWirelessCapabilityModel.hwmode2g.getValue();if(e){for(var s=[],a=e.length,i=0;i<a;i++){var n={},r="MODE_"+e[i].toUpperCase();n.name=w.su.CHAR.WIRELESS_SETTINGS[r],n.value=e[i],s.push(n)}u.hwmode2gStore.loadData(s)}var l=g.regionWirelessCapabilityModel.htmode2g.getValue();if(l){var t=[],a=l.length;t[0]={name:w.su.CHAR.WIRELESS_SETTINGS.AUTO,value:"auto"};for(i=0;i<a;i++)(n={}).name=l[i]+w.su.CHAR.WIRELESS_SETTINGS.MHZ,n.value=l[i],t.push(n);u.htmode2gStore.loadData(t)}var o=g.regionWirelessCapabilityModel.channel2g.getValue();if(o){var d=[],a=o.length;d[0]={name:w.su.CHAR.WIRELESS_SETTINGS.AUTO,value:"auto"};for(i=0;i<a;i++)(n={}).name=o[i],n.value=o[i],d.push(n);u.channel2gStore.loadData(d)}},disableAll:!1,getHtChannel:function(e,s){if(!e)return[];var a=[],i=(a[0]={"name":w.su.CHAR.WIRELESS_SETTINGS.AUTO,"value":"auto"},e.length);if(!(s%20))for(var n=-1,r=0,l=0;l<=i;l++){var t={},o=parseInt(e[l]);if(n<0||n+4==o)r+=20;else{for(;r%s;)a.pop(),r-=20;if(isNaN(o))break;r=20}t.name=n=o,t.value=o,a.push(t)}return a},beforeSubmit:function(){var e=g.wireless24g.server.getValue(),s=g.wireless24g.encryption.getValue(),a=g.wireless24g.enable.getValue();return g.wireless24g.disabled_all.setValue(this.disableAll?"on":"off"),"on"==a&&"wpa"==s&&g.wireless24g.server.setValidator(function(){return i.utils.ipToInt(e)!=i.utils.ipToInt(i.wirelessSettings.getLanIP())||w.su.CHAR.ERROR["00000077"]}),g.wireless24g.validate()},syncQsData:function(e){var s=g.wireless24g.getData();return!(!g.wireless24g.pskKey.validate()||!g.wireless24g.ssid.validate()||(g.quickSetupModel.replaceData({wireless2gEnable:s.enable,wireless2gSsid:s.ssid,wireless2gEncryPassword:s.pskKey,wireless2gDisabledAll:"on"===s.enable?"off":"on"}),e&&(g.quickSetupModel.replaceData({wireless5gEnable:s.enable,wireless5gSsid:s.ssid,wireless5gEncryPassword:s.pskKey,wireless5gDisabledAll:"on"===s.enable?"off":"on",wireless5gRegionEnable:"on"}),g.quickSetupModel.replaceData({wireless5g2Enable:s.enable,wireless5g2Ssid:s.ssid,wireless5g2EncryPassword:s.pskKey,wireless5g2DisabledAll:"on"===s.enable?"off":"on",wireless5g2regionEnable:"on"})),s.pskKey?(g.quickSetupModel.replaceData({wireless2gPskKey:s.pskKey,wireless2gEncryption:"psk",wireless2gPskVersion:"auto",wireless2gPskCipher:"auto"}),e&&(g.quickSetupModel.replaceData({wireless5gPskKey:s.pskKey,wireless5gEncryption:"psk",wireless5gPskVersion:"auto",wireless5gPskCipher:"auto"}),g.quickSetupModel.replaceData({wireless5g2PskKey:s.pskKey,wireless5g2Encryption:"psk",wireless5g2PskVersion:"auto",wireless5g2PskCipher:"auto"}))):(g.quickSetupModel.replaceData({wireless2gEncryption:"none"}),e&&(g.quickSetupModel.replaceData({wireless5gEncryption:"none"}),g.quickSetupModel.replaceData({wireless5g2Encryption:"none"}))),0))},isQsDirty:function(){for(var e=g.wireless24g,s=[e.enable,e.ssid,e.pskKey],a=0,i=s.length;a<i;a++)if(s[a].isDirty())return!0},syncWifiSharingData:function(){var e=this.getWifiInfo(),s=e.ssid,a=e.password,e=e.security,i=n[this.getEffectiveView()].wifisharing;i&&i.setValue({ssid:s,password:a,security:e})},getWifiInfo:function(){var e,s="on"===g.wireless24g.enable.getValue(),a=g.wireless24g.ssid.getValue(),i=g.wireless24g.encryption.getValue();switch(g.wireless24g.encryption.getValue()){case w.su.securityCode.no_security:e="";break;case w.su.securityCode.psk_aes:case w.su.securityCode.psk_aes_tkip:case w.su.securityCode.psk_sae_personal:case w.su.securityCode.psk_sae_personal_aes:e=g.wireless24g.pskKey.getValue();break;case w.su.securityCode.wpa_enterprise:case w.su.securityCode.wpa_enterprise_tkip:e=g.wireless24g.wpaKey.getValue()}return{enable:s,ssid:a,password:e,security:i}},setEnableLabel:function(e){e?g.wireless24g.enable.setLabelField(w.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO):g.wireless24g.enable.setLabelField(w.su.CHAR.WIRELESS_SETTINGS.MODE_2G)},syncMainModel:function(){var e,s=g.wireless24g.getData("submit",!0),a=[];for(e in s)a.push(e);for(var i=0;i<a.length;i++){var n=s[a[i]];s["wireless_2g_"+a[i]]=n,delete s[a[i]]}return s},getHwMode:function(){return g.wireless24g.hwmode.getValue()}}})}(jQuery),$.su.modelManager.define("ffsModel",{type:"model",fields:[{name:"enable"}],proxy:{url:$.su.url("/admin/ffs?form=config")}}),$.su.modelManager.define("wireless24g",{type:"model",fields:[{name:"enable",mapping:"enable"},{name:"disabled_all"},{name:"disabled_by",disabled:!0},{name:"ssid",mapping:"ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"hidden",mapping:"hidden"},{name:"encryption",mapping:"encryption",allowBlank:!1},{name:"pskKey",mapping:"psk_key",allowBlank:!1,vtype:"psk_password"},{name:"server",mapping:"server",vtype:"ip",allowBlank:!1},{name:"port",mapping:"port",vtype:{vtype:"number",min:1,max:65535},allowBlank:!1},{name:"wpaKey",mapping:"wpa_key",vtype:"password",maxLength:64,allowBlank:!1},{name:"hwmode",mapping:"hwmode"},{name:"htmode",mapping:"htmode"},{name:"channel",mapping:"channel"},{name:"txpower",mapping:"txpower"},{name:"disabled",mapping:"disabled",disabled:!0}],convert:function(e){var s,a=!0;for(s in $.su.securityCode)$.su.securityCode[s]==e.encryption&&(a=!1);a&&(e.encryption="");var i=e.hwmode,n=e.capability&&e.capability.channel_2g,r=e.channel;if(n)switch(n&&13<n.length&&(n=function(e,s){if(!e)return[];var a=[],i=(a[0]={"name":$.su.CHAR.WIRELESS_SETTINGS.AUTO,"value":"auto"},e.length);if(!(s%20))for(var n=-1,r=0,l=0;l<=i;l++){var t={},o=parseInt(e[l]);if(n<0||n+4==o)r+=20;else{for(;r%s;)a.pop(),r-=20;if(isNaN(o))break;r=20}t.name=n=o,t.value=o,a.push(t)}return a}(n,20),"b"!=i&&n.pop(),!function(e,s){for(var a=s.length,i=0;i<a;i++)if(e==s[i].value)return 1;return}(r,n))&&(e.channel="auto"),i){case"b":case"g":case"bg":e.htmode="auto"}return e},proxy:"wirelessModule24gProxy"}),$.su.define("wirelessModule24gProxy",{extend:"IPFProxy",url:$.su.url("/admin/wireless?form=wireless_2g"),writeFilter:function(e){return{operation:"read_spf"}},sync:function(e){var s=e.operation,a=this,i=e.success;"read"===s?this.read.call(this,$.extend({},e,{success:function(s){a.read.call(a,$.extend({},e,{success:function(e){e=$.extend(s,e);a.trigger("ev_load",[e]),i.call(a,e)},url:$.su.url("/admin/wireless?form=region")}),!1)}}),!1):this.write.apply(this,[e])}}),$.su.modelManager.define("wireless24gControl",{type:"model",fields:[{name:"totalField"},{name:"editField"},{name:"wpaPersonal24g"},{name:"wpa3Personal24g"},{name:"wpaEnterprise24g"},{name:"wep24g"}]}),$.su.storeManager.define("hwmode2gStore",{type:"store",fields:[{name:"name"},{name:"value"}]}),$.su.storeManager.define("htmode2gStore",{type:"store",fields:[{name:"name"},{name:"value"}]}),$.su.storeManager.define("channel2gStore",{type:"store",fields:[{name:"name"},{name:"value"}]}),$.su.define("sysWireless2gProxy",{extend:"IPFProxy",url:$.su.url("/admin/wireless?form=syspara_2g"),readFilter:function(e){return void 0!==(e=e.data)&&{ENABLE:e.enable}}}),function(w){w.su.moduleManager.define("wirelessAdv5g1",{services:["moduleManager","ajax","device"],stores:["encryptionStore","wirelessVersionStore","wirelessVersionEpStore","wirelessCipherStore","wirelessWpa3VersionStore","wireless5gWpa3CipherStore","wepTypeStore","wepKeySelectedStore","wepKeyFormatStore","wepKeyTypeStore","transPowerStore","hwmode5g1Store","htmode5g1Store","channel5g1Store"],models:["wireless5g1","wireless5g1Control","regionWirelessCapabilityModel","quickSetupModel"],deps:["utils","wirelessSettings"],views:["wirelessAdv5g1View","wirelessAdv5g1ViewBasic","wirelessAdv5g1ViewQs"],listeners:{"ev_on_launch":function(e,s,a,i,n,r,l){s.handleRegionInfo(),s.dfd=w.Deferred(),i.wireless5g1.load({success:function(){s.dfd.resolve()}})},"ev_before_destroy":function(){}},init:function(i,e,n,s,a,r){this.listen({"models.wireless5g1.enable":{"ev_value_change":function(e,s,a){"on"===s?(this.disableAll=!1,n.wireless5g1Control.editField.show(),0!=r.device.getConfig().supportMUMIMO&&0!=r.device.getConfig().support5G1MUMIMO||(n.wireless5g1.mimo.hide(),n.wireless5g1.mimo.disable())):(this.disableAll=!0,n.wireless5g1Control.editField.hide())}},"models.wireless5g1.encryption":{"ev_value_change":function(e,s,a){switch(n.wireless5g1Control.wpaPersonal5g1.hide(),n.wireless5g1Control.wpaEnterprise5g1.hide(),s){case w.su.securityCode.no_security:n.wireless5g1Control.wpaPersonal5g1.hide(),n.wireless5g1Control.wpaEnterprise5g1.hide();break;case w.su.securityCode.psk_aes:case w.su.securityCode.psk_aes_tkip:n.wireless5g1.pskKey.setVtype("psk_password"),n.wireless5g1Control.wpaPersonal5g1.show(),n.wireless5g1Control.wpaEnterprise5g1.hide();case w.su.securityCode.psk_sae_personal:case w.su.securityCode.psk_sae_personal_aes:n.wireless5g1.pskKey.setVtype("wpa3_password"),n.wireless5g1Control.wpaPersonal5g1.show(),n.wireless5g1Control.wpaEnterprise5g1.hide();break;case w.su.securityCode.wpa_enterprise:case w.su.securityCode.wpa_enterprise_tkip:n.wireless5g1Control.wpaEnterprise5g1.show(),n.wireless5g1Control.wpaPersonal5g1.hide()}s==w.su.securityCode.no_security||s==w.su.securityCode.psk_aes_tkip?n.wireless5g1.encryption.setTips(w.su.CHAR.WIRELESS_SETTINGS.NOT_CONSIDERED_TIP):n.wireless5g1.encryption.setTips("")}},"models.wireless5g1.hwmode":{"ev_value_change":function(e,s,a){switch(s){case"a_5":n.wireless5g1.htmode.disableItems(["40"]),n.wireless5g1.htmode.disableItems(["80"]),n.wireless5g1.htmode.setValue("auto"),n.wireless5g1.htmode.hide();break;case"n_5":case"an_5":var i=n.wireless5g1.htmode.getValue();n.wireless5g1.htmode.enableItems(["40"]),n.wireless5g1.htmode.disableItems(["80"]),"80"==i&&n.wireless5g1.htmode.setValue("auto"),n.wireless5g1.htmode.show();break;default:n.wireless5g1.htmode.enableItems(["40"]),n.wireless5g1.htmode.enableItems(["80"]),n.wireless5g1.htmode.show()}}},"models.wireless5g1.htmode":{"ev_value_change":function(e,s,a){null!==a&&i.resetChannel(s)}},"models.wireless5g1":{"ev_loaded":function(e,s){r.ajax.request({proxy:"sysWireless5g1Proxy",data:{"operation":"read"},success:function(e){e&&n.wireless5g1&&n.wireless5g1.channel&&("on"==e.ENABLE?n.wireless5g1.channel.disable():n.wireless5g1.channel.enable())}}),i.resetChannel(s.htmode),this.syncWifiSharingData()},"ev_model_submit":function(e,s){this.syncWifiSharingData()},"ev_will_auto_save":function(e,s){s.preventDefault()}}})}},function(n,r,d,g,u,s){return{dfd:null,SYS_WIRELESS_5G1_URL:w.su.url("/admin/wireless?form=syspara_5g"),onDestroy:function(){var e=s.moduleManager.get("wirelessSettings");e&&e.off("ev_region_reload",n.handleRegionInfo)},handleRegionInfo:function(){var e=d.regionWirelessCapabilityModel.channel5g.getValue();if(u.utils.isEmptyObject(e))d.wireless5g1Control.totalField.hide();else{d.wireless5g1Control.totalField.show();var s=d.regionWirelessCapabilityModel.hwmode5g.getValue();if(s){for(var a=[],i=s.length,n=0;n<i;n++){var r={},l="MODE_"+s[n].toUpperCase();r.name=w.su.CHAR.WIRELESS_SETTINGS[l],r.value=s[n],a.push(r)}g.hwmode5g1Store.loadData(a)}var t=d.regionWirelessCapabilityModel.htmode5g.getValue();if(t){var o=[],i=t.length;o[0]={name:w.su.CHAR.WIRELESS_SETTINGS.AUTO,value:"auto"};for(n=0;n<i;n++)(r={}).name=t[n]+w.su.CHAR.WIRELESS_SETTINGS.MHZ,r.value=t[n],o.push(r);g.htmode5g1Store.loadData(o)}}},disableAll:!1,getHtChannel:function(e,s){if(!e)return[];var a=[],i=(a[0]={"name":w.su.CHAR.WIRELESS_SETTINGS.AUTO,"value":"auto"},e.length);if(!(s%20))for(var n=-1,r=0,l=0;l<=i;l++){var t={},o=parseInt(e[l]);if(n<0||n+4==o)r+=20;else{for(;r%s;)a.pop(),r-=20;if(isNaN(o))break;r=20}t.name=n=o,t.value=o,a.push(t)}return a},get_ht_channel_160:function(e){for(var s=[],a=(s[0]={"name":w.su.CHAR.WIRELESS_SETTINGS.AUTO,"value":"auto"},e.length),i=u.wirelessSettings.region,n=-1<["CA","AU"].indexOf(i)?[36,40,44,48,52,56,60,64]:[36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128],r=0;r<=a;r++){var l={},t=parseInt(e[r]);-1<w.inArray(t,n)&&(l.name=t,l.value=t,s.push(l))}return s},channelDFS:function(e){for(var s=[],a=0;a<e.length;a++)s.push(e[a]),52!=e[a].value&&56!=e[a].value&&60!=e[a].value&&64!=e[a].value&&100!=e[a].value&&104!=e[a].value&&108!=e[a].value&&112!=e[a].value&&116!=e[a].value&&120!=e[a].value&&124!=e[a].value&&128!=e[a].value&&132!=e[a].value&&136!=e[a].value&&140!=e[a].value&&144!=e[a].value||(s[a].name+="(DFS)");return s},resetChannel:function(e){var s=d.regionWirelessCapabilityModel.channel5g.getValue(),a=d.wireless5g1.channel.getValue();switch(e){case"auto":case"20":var i=n.getHtChannel(s,20);g.channel5g1Store.loadData(n.channelDFS(i)),u.utils.valInObjArr(a,i)?d.wireless5g1.channel.setValue(a):d.wireless5g1.channel.setValue("auto");break;case"40":i=n.getHtChannel(s,40);g.channel5g1Store.loadData(n.channelDFS(i)),u.utils.valInObjArr(a,i)?d.wireless5g1.channel.setValue(a):d.wireless5g1.channel.setValue("auto");break;case"80":i=n.getHtChannel(s,80);g.channel5g1Store.loadData(n.channelDFS(i)),u.utils.valInObjArr(a,i)?d.wireless5g1.channel.setValue(a):d.wireless5g1.channel.setValue("auto");break;case"160":i=n.get_ht_channel_160(s,160);g.channel5g1Store.loadData(n.channelDFS(i)),u.utils.valInObjArr(a,i)?d.wireless5g1.channel.setValue(a):d.wireless5g1.channel.setValue("auto")}},beforeSubmit:function(){var e=d.wireless5g1.server.getValue(),s=d.wireless5g1.encryption.getValue(),a=d.wireless5g1.enable.getValue();return d.wireless5g1.disabled_all.setValue(this.disableAll?"on":"off"),"on"==a&&"wpa"==s&&d.wireless5g1.server.setValidator(function(){return u.utils.ipToInt(e)!=u.utils.ipToInt(u.wirelessSettings.getLanIP())||w.su.CHAR.ERROR["00000077"]}),d.wireless5g1.validate()},syncQsData:function(){var e=d.wireless5g1.getData();return!(!d.wireless5g1.pskKey.validate()||!d.wireless5g1.ssid.validate()||(d.quickSetupModel.replaceData({wireless5gEnable:e.enable,wireless5gSsid:e.ssid,wireless5gEncryPassword:e.pskKey,wireless5gDisabledAll:"on"===e.enable?"off":"on",wireless5gRegionEnable:"on"}),e.pskKey?d.quickSetupModel.replaceData({wireless5gPskKey:e.pskKey,wireless5gEncryption:"psk",wireless5gPskVersion:"auto",wireless5gPskCipher:"auto"}):d.quickSetupModel.replaceData({wireless5gEncryption:"none"}),0))},isQsDirty:function(){for(var e=d.wireless5g1,s=[e.enable,e.ssid,e.pskKey],a=0,i=s.length;a<i;a++)if(s[a].isDirty())return!0},syncWifiSharingData:function(){var e=this.getWifiInfo(),s=e.ssid,a=e.password,e=e.security,i=r[this.getEffectiveView()].wifisharing;i&&i.setValue({ssid:s,password:a,security:e})},getWifiInfo:function(){var e,s="on"===d.wireless5g1.enable.getValue(),a=d.wireless5g1.ssid.getValue(),i=d.wireless5g1.encryption.getValue();switch(d.wireless5g1.encryption.getValue()){case w.su.securityCode.no_security:e="";break;case w.su.securityCode.psk_aes:case w.su.securityCode.psk_aes_tkip:case w.su.securityCode.psk_sae_personal:case w.su.securityCode.psk_sae_personal_aes:e=d.wireless5g1.pskKey.getValue();break;case w.su.securityCode.wpa_enterprise:case w.su.securityCode.wpa_enterprise_tkip:e=d.wireless5g1.wpaKey.getValue()}return{enable:s,ssid:a,password:e,security:i}},syncMainModel:function(){var e,s=d.wireless5g1.getData("submit",!0),a=[];for(e in s)a.push(e);for(var i=0;i<a.length;i++){var n=s[a[i]];s["wireless_5g_"+a[i]]=n,delete s[a[i]]}return s},set5g1Name:function(){d.wireless5g1.enable.setLabelField(w.su.CHAR.WIRELESS_SETTINGS.MODE_5G)},dataChangeOn24g:function(e,s){e!==undefined?(r.wirelessAdv5g1ViewQs.wirelessQsAll.disable(),d.wireless5g1.ssid.setValue(e),d.wireless5g1.pskKey.setValue(s)):r.wirelessAdv5g1ViewQs.wirelessQsAll.enable()},disableQsAll:function(){r.wirelessAdv5g1ViewQs.wirelessQsAll.disable()},getHwMode:function(){return d.wireless5g1.hwmode.getValue()}}})}(jQuery),$.su.modelManager.define("wireless5g1",{type:"model",fields:[{name:"enable",mapping:"enable"},{name:"disabled_all"},{name:"disabled_by",disabled:!0},{name:"ssid",mapping:"ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"hidden",mapping:"hidden"},{name:"encryption",mapping:"encryption",allowBlank:!1},{name:"pskKey",mapping:"psk_key",allowBlank:!1,vtype:"psk_password"},{name:"server",mapping:"server",vtype:"ip",allowBlank:!1},{name:"port",mapping:"port",vtype:{vtype:"number",min:1,max:65535},allowBlank:!1},{name:"wpaKey",mapping:"wpa_key",vtype:"password",maxLength:64,allowBlank:!1},{name:"hwmode",mapping:"hwmode"},{name:"htmode",mapping:"htmode"},{name:"channel",mapping:"channel"},{name:"txpower",mapping:"txpower"},{name:"disabled",mapping:"disabled",disabled:!0},{name:"mimo",mapping:"mu_mimo"}],convert:function(e){var s,a,i,n=e.htmode,r=e.capability&&e.capability.channel_5g,l=e.channel,t=!0;for(i in $.su.securityCode)$.su.securityCode[i]==e.encryption&&(t=!1);t&&(e.encryption="");var o=e.hwmode;if(r){switch(n){case"auto":case"20":a(l,s(r,20))||(e.channel="auto");break;case"40":a(l,s(r,40))||(e.channel="auto");break;case"80":a(l,s(r,80))||(e.channel="auto");break;case"160":a(l,function(e,s){for(var a,i=[],n=(i[0]={"name":$.su.CHAR.WIRELESS_SETTINGS.AUTO,"value":"auto"},e.length),r=-1<["CA","AU"].indexOf(s)?[36,40,44,48,52,56,60,64]:[36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128],l=0;l<=n;l++){var t={};a=parseInt(e[l]),-1<$.inArray(a,r)&&(t.name=a,t.value=a,i.push(t))}return i}(r,e.country.toUpperCase()))||(e.channel="auto")}switch(o){case"a_5":e.htmode="auto";break;case"n_5":case"an_5":"80"==n&&(e.htmode="auto")}}return e;function s(e,s){if(!e)return[];var a=[],i=(a[0]={"name":$.su.CHAR.WIRELESS_SETTINGS.AUTO,"value":"auto"},e.length);if(!(s%20))for(var n=-1,r=0,l=0;l<=i;l++){var t={},o=parseInt(e[l]);if(n<0||n+4==o)r+=20;else{for(;r%s;)a.pop(),r-=20;if(isNaN(o))break;r=20}t.name=n=o,t.value=o,a.push(t)}return a}function a(e,s){for(var a=s.length,i=0;i<a;i++)if(e==s[i].value)return 1}},proxy:"wirelessModule5g1Proxy"}),$.su.define("wirelessModule5g1Proxy",{extend:"IPFProxy",url:$.su.url("/admin/wireless?form=wireless_5g"),writeFilter:function(e){return{operation:"read_spf"}},sync:function(e){var s=e.operation,a=this,i=e.success;"read"===s?this.read.call(this,$.extend({},e,{success:function(s){a.read.call(a,$.extend({},e,{success:function(e){e=$.extend(s,e);a.trigger("ev_load",[e]),i.call(a,e)},url:$.su.url("/admin/wireless?form=region")}),!1)}}),!1):this.write.apply(this,[e])}}),$.su.modelManager.define("wireless5g1Control",{type:"model",fields:[{name:"editField"},{name:"totalField"},{name:"wpaPersonal5g1"},{name:"wpa3Personal5g1"},{name:"wpaEnterprise5g1"},{name:"wep5g1"}]}),$.su.storeManager.define("hwmode5g1Store",{type:"store",fields:[{name:"name"},{name:"value"}]}),$.su.storeManager.define("htmode5g1Store",{type:"store",fields:[{name:"name"},{name:"value"}]}),$.su.storeManager.define("channel5g1Store",{type:"store",fields:[{name:"name"},{name:"value"}]}),$.su.define("sysWireless5g1Proxy",{extend:"IPFProxy",url:$.su.url("/admin/wireless?form=syspara_5g"),readFilter:function(e){return void 0!==(e=e.data)&&{ENABLE:e.enable}}}),function(w){w.su.moduleManager.define("wirelessAdv5g2",{services:["moduleManager","ajax","device"],stores:["encryptionStore","wirelessVersionStore","wirelessVersionEpStore","wirelessCipherStore","wirelessWpa3VersionStore","wireless5gWpa3CipherStore","wepTypeStore","wepKeySelectedStore","wepKeyFormatStore","wepKeyTypeStore","transPowerStore","hwmode5g2Store","htmode5g2Store","channel5g2Store"],models:["wireless5g2","wireless5g2Control","regionWirelessCapabilityModel","quickSetupModel"],deps:["utils","wirelessSettings"],views:["wirelessAdv5g2View","wirelessAdv5g2ViewBasic","wirelessAdv5g2ViewQs"],listeners:{"ev_on_launch":function(e,s,a,i,n,r,l){s.handleRegionInfo(),s.dfd=w.Deferred(),i.wireless5g2.load({success:function(){s.dfd.resolve()}})},"ev_before_destroy":function(){}},init:function(l,e,t,o,d,i){this.listen({"models.wireless5g2.enable":{"ev_value_change":function(e,s,a){"on"===s?(this.disableAll=!1,t.wireless5g2Control.editField.show(),0==i.device.getConfig().supportMUMIMO&&(t.wireless5g2.mimo.hide(),t.wireless5g2.mimo.disable())):(this.disableAll=!0,t.wireless5g2Control.editField.hide())}},"models.wireless5g2.encryption":{"ev_value_change":function(e,s,a){switch(t.wireless5g2Control.wpaPersonal5g2.hide(),t.wireless5g2Control.wpaEnterprise5g2.hide(),s){case w.su.securityCode.no_security:t.wireless5g2Control.wpaPersonal5g2.hide(),t.wireless5g2Control.wpaEnterprise5g2.hide();break;case w.su.securityCode.psk_aes:case w.su.securityCode.psk_aes_tkip:t.wireless5g2.pskKey.setVtype("psk_password"),t.wireless5g2Control.wpaPersonal5g2.show(),t.wireless5g2Control.wpaEnterprise5g2.hide();case w.su.securityCode.psk_sae_personal:case w.su.securityCode.psk_sae_personal_aes:t.wireless5g2.pskKey.setVtype("wpa3_password"),t.wireless5g2Control.wpaPersonal5g2.show(),t.wireless5g2Control.wpaEnterprise5g2.hide();break;case w.su.securityCode.wpa_enterprise:case w.su.securityCode.wpa_enterprise_tkip:t.wireless5g2Control.wpaEnterprise5g2.show(),t.wireless5g2Control.wpaPersonal5g2.hide()}s==w.su.securityCode.no_security||s==w.su.securityCode.psk_aes_tkip?t.wireless5g2.encryption.setTips(w.su.CHAR.WIRELESS_SETTINGS.NOT_CONSIDERED_TIP):t.wireless5g2.encryption.setTips("")}},"models.wireless5g2.hwmode":{"ev_value_change":function(e,s,a){switch(s){case"a_5":t.wireless5g2.htmode.disableItems(["40"]),t.wireless5g2.htmode.disableItems(["80"]),t.wireless5g2.htmode.setValue("auto"),t.wireless5g2.htmode.hide();break;case"n_5":case"an_5":var i=t.wireless5g2.htmode.getValue();t.wireless5g2.htmode.enableItems(["40"]),t.wireless5g2.htmode.disableItems(["80"]),"80"==i&&t.wireless5g2.htmode.setValue("auto"),t.wireless5g2.htmode.show();break;default:t.wireless5g2.htmode.enableItems(["40"]),t.wireless5g2.htmode.enableItems(["80"]),t.wireless5g2.htmode.show()}}},"models.wireless5g2.htmode":{"ev_value_change":function(e,s,a){var i=t.regionWirelessCapabilityModel.channel5g2.getValue(),n=t.wireless5g2.channel.getValue();switch(s){case"auto":case"20":var r=l.getHtChannel(i,20);o.channel5g2Store.loadData(l.channelDFS(r)),d.utils.valInObjArr(n,r)?t.wireless5g2.channel.setValue(n):t.wireless5g2.channel.setValue("auto");break;case"40":r=l.getHtChannel(i,40);o.channel5g2Store.loadData(l.channelDFS(r)),d.utils.valInObjArr(n,r)?t.wireless5g2.channel.setValue(n):t.wireless5g2.channel.setValue("auto");break;case"80":r=l.getHtChannel(i,80);o.channel5g2Store.loadData(l.channelDFS(r)),d.utils.valInObjArr(n,r)?t.wireless5g2.channel.setValue(n):t.wireless5g2.channel.setValue("auto");break;case"160":r=l.get_ht_channel_160(i,160);o.channel5g2Store.loadData(l.channelDFS(r)),d.utils.valInObjArr(n,r)?t.wireless5g2.channel.setValue(n):t.wireless5g2.channel.setValue("auto")}}},"models.wireless5g2":{"ev_loaded":function(e,s){i.ajax.request({proxy:"sysWireless5g2Proxy",data:{"operation":"read"},success:function(e){e&&t.wireless5g2&&t.wireless5g2.channel&&("on"==e.ENABLE?t.wireless5g2.channel.disable():t.wireless5g2.channel.enable())}}),this.syncWifiSharingData()},"ev_model_submit":function(e,s){this.syncWifiSharingData()},"ev_will_auto_save":function(e,s){s.preventDefault()}}})}},function(s,n,d,g,u,a){return{dfd:null,SYS_WIRELESS_5g2_URL:w.su.url("/admin/wireless?form=syspara_5g_2"),onDestroy:function(){var e=a.moduleManager.get("wirelessSettings");e&&e.off("ev_region_reload",s.handleRegionInfo)},handleRegionInfo:function(){var e=d.regionWirelessCapabilityModel.channel5g.getValue();if(u.utils.isEmptyObject(e))d.wireless5g2Control.totalField.hide();else{d.wireless5g2Control.totalField.show();var s=d.regionWirelessCapabilityModel.hwmode5g2.getValue();if(s){for(var a=[],i=s.length,n=0;n<i;n++){var r={},l="MODE_"+s[n].toUpperCase();r.name=w.su.CHAR.WIRELESS_SETTINGS[l],r.value=s[n],a.push(r)}g.hwmode5g2Store.loadData(a)}var t=d.regionWirelessCapabilityModel.htmode5g2.getValue();if(t){var o=[],i=t.length;o[0]={name:w.su.CHAR.WIRELESS_SETTINGS.AUTO,value:"auto"};for(n=0;n<i;n++)(r={}).name=t[n]+w.su.CHAR.WIRELESS_SETTINGS.MHZ,r.value=t[n],o.push(r);g.htmode5g2Store.loadData(o)}}},disableAll:!1,getHtChannel:function(e,s){if(!e)return[];var a=[],i=(a[0]={"name":w.su.CHAR.WIRELESS_SETTINGS.AUTO,"value":"auto"},e.length);if(!(s%20))for(var n=-1,r=0,l=0;l<=i;l++){var t={},o=parseInt(e[l]);if(n<0||n+4==o)r+=20;else{for(;r%s;)a.pop(),r-=20;if(isNaN(o))break;r=20}t.name=n=o,t.value=o,a.push(t)}return a},get_ht_channel_160:function(e){for(var s=[],a=(s[0]={"name":w.su.CHAR.WIRELESS_SETTINGS.AUTO,"value":"auto"},e.length),i=[36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128],n=0;n<=a;n++){var r={},l=parseInt(e[n]);-1<w.inArray(l,i)&&(r.name=l,r.value=l,s.push(r))}return s},channelDFS:function(e){for(var s=[],a=0;a<e.length;a++)s.push(e[a]),52!=e[a].value&&56!=e[a].value&&60!=e[a].value&&64!=e[a].value&&100!=e[a].value&&104!=e[a].value&&108!=e[a].value&&112!=e[a].value&&116!=e[a].value&&120!=e[a].value&&124!=e[a].value&&128!=e[a].value&&132!=e[a].value&&136!=e[a].value&&140!=e[a].value&&144!=e[a].value||(s[a].name+="(DFS)");return s},beforeSubmit:function(){var e=d.wireless5g2.server.getValue(),s=d.wireless5g2.encryption.getValue(),a=d.wireless5g2.enable.getValue();return d.wireless5g2.disabled_all.setValue(this.disableAll?"on":"off"),"on"==a&&"wpa"==s&&d.wireless5g2.server.setValidator(function(){return u.utils.ipToInt(e)!=u.utils.ipToInt(u.wirelessSettings.getLanIP())||w.su.CHAR.ERROR["00000077"]}),d.wireless5g2.validate()},syncQsData:function(){var e=d.wireless5g2.getData();return!(!d.wireless5g2.pskKey.validate()||!d.wireless5g2.ssid.validate()||(d.quickSetupModel.replaceData({wireless5g2Enable:e.enable,wireless5g2Ssid:e.ssid,wireless5g2EncryPassword:e.pskKey,wireless5g2DisabledAll:"on"===e.enable?"off":"on",wireless5g2regionEnable:"on"}),e.pskKey?d.quickSetupModel.replaceData({wireless5g2PskKey:e.pskKey,wireless5g2Encryption:"psk",wireless5g2PskVersion:"auto",wireless5g2PskCipher:"auto"}):d.quickSetupModel.replaceData({wireless5g2Encryption:"none"}),0))},isQsDirty:function(){for(var e=d.wireless5g2,s=[e.enable,e.ssid,e.pskKey],a=0,i=s.length;a<i;a++)if(s[a].isDirty())return!0},syncWifiSharingData:function(){var e=this.getWifiInfo(),s=e.ssid,a=e.password,e=e.security,i=n[this.getEffectiveView()].wifisharing;i&&i.setValue({ssid:s,password:a,security:e})},getWifiInfo:function(){var e,s="on"===d.wireless5g2.enable.getValue(),a=d.wireless5g2.ssid.getValue(),i=d.wireless5g2.encryption.getValue();switch(d.wireless5g2.encryption.getValue()){case w.su.securityCode.no_security:e="";break;case w.su.securityCode.psk_aes:case w.su.securityCode.psk_aes_tkip:case w.su.securityCode.psk_sae_personal:case w.su.securityCode.psk_sae_personal_aes:e=d.wireless5g2.pskKey.getValue();break;case w.su.securityCode.wpa_enterprise:case w.su.securityCode.wpa_enterprise_tkip:e=d.wireless5g2.wpaKey.getValue()}return{enable:s,ssid:a,password:e,security:i}},syncMainModel:function(){var e,s=d.wireless5g2.getData("submit",!0),a=[];for(e in s)a.push(e);for(var i=0;i<a.length;i++){var n=s[a[i]];s["wireless_5g_2_"+a[i]]=n,delete s[a[i]]}return s},dataChangeOn24g:function(e,s){e!==undefined?(n.wirelessAdv5g2ViewQs.wirelessQsAll.disable(),currentSsid=d.wireless5g2.ssid.getValue(),d.wireless5g2.ssid.setValue(e),d.wireless5g2.pskKey.setValue(s)):n.wirelessAdv5g2ViewQs.wirelessQsAll.enable()},disableQsAll:function(){n.wirelessAdv5g2ViewQs.wirelessQsAll.disable()},getHwMode:function(){return d.wireless5g2.hwmode.getValue()}}})}(jQuery),$.su.modelManager.define("wireless5g2",{type:"model",fields:[{name:"enable",mapping:"enable"},{name:"disabled_all"},{name:"disabled_by",disabled:!0},{name:"ssid",mapping:"ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"hidden",mapping:"hidden"},{name:"encryption",mapping:"encryption",allowBlank:!1},{name:"pskKey",mapping:"psk_key",allowBlank:!1,vtype:"psk_password"},{name:"server",mapping:"server",vtype:"ip",allowBlank:!1},{name:"port",mapping:"port",vtype:{vtype:"number",min:1,max:65535},allowBlank:!1},{name:"wpaKey",mapping:"wpa_key",vtype:"password",maxLength:64,allowBlank:!1},{name:"hwmode",mapping:"hwmode"},{name:"htmode",mapping:"htmode"},{name:"channel",mapping:"channel"},{name:"txpower",mapping:"txpower"},{name:"disabled",mapping:"disabled",disabled:!0},{name:"mimo",mapping:"mu_mimo"}],convert:function(e){var s,a=!0;for(s in $.su.securityCode)$.su.securityCode[s]==e.encryption&&(a=!1);a&&(e.encryption="");e.hwmode;var i=e.hwmode,n=e.htmode,r=e.channel,l=e.capability&&e.capability.channel_5g_2;if(l){switch(i){case"a_5":e.htmode="auto";break;case"n_5":case"an_5":"80"==n&&(e.htmode="auto")}switch(n){case"auto":n="20";case"20":case"40":case"80":t(r,function(e,s){if(!e)return[];var a=[],i=(a[0]={"name":$.su.CHAR.WIRELESS_SETTINGS.AUTO,"value":"auto"},e.length);if(!(s%20))for(var n=-1,r=0,l=0;l<=i;l++){var t={},o=parseInt(e[l]);if(n<0||n+4==o)r+=20;else{for(;r%s;)a.pop(),r-=20;if(isNaN(o))break;r=20}t.name=n=o,t.value=o,a.push(t)}return a}(l,parseInt(n)))||(e.channel="auto");break;case"160":t(r,function(e){for(var s,a=[],i=(a[0]={"name":$.su.CHAR.WIRELESS_SETTINGS.AUTO,"value":"auto"},e.length),n=[36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128],r=0;r<=i;r++){var l={};s=parseInt(e[r]),-1<$.inArray(s,n)&&(l.name=s,l.value=s,a.push(l))}return a}(l,parseInt(n)))||(e.channel="auto")}}return e;function t(e,s){for(var a=s.length,i=0;i<a;i++)if(e==s[i].value)return 1}},proxy:"wirelessModule5g2Proxy"}),$.su.define("wirelessModule5g2Proxy",{extend:"IPFProxy",url:$.su.url("/admin/wireless?form=wireless_5g_2"),writeFilter:function(e){return{operation:"read_spf"}},sync:function(e){var s=e.operation,a=this,i=e.success;"read"===s?this.read.call(this,$.extend({},e,{success:function(s){a.read.call(a,$.extend({},e,{success:function(e){e=$.extend(s,e);a.trigger("ev_load",[e]),i.call(a,e)},url:$.su.url("/admin/wireless?form=region")}),!1)}}),!1):this.write.apply(this,[e])}}),$.su.modelManager.define("wireless5g2Control",{type:"model",fields:[{name:"editField"},{name:"totalField"},{name:"wpaPersonal5g2"},{name:"wpa3Personal5g2"},{name:"wpaEnterprise5g2"},{name:"wep5g2"}]}),$.su.storeManager.define("hwmode5g2Store",{type:"store",fields:[{name:"name"},{name:"value"}]}),$.su.storeManager.define("htmode5g2Store",{type:"store",fields:[{name:"name"},{name:"value"}]}),$.su.storeManager.define("channel5g2Store",{type:"store",fields:[{name:"name"},{name:"value"}]}),$.su.define("sysWireless5g2Proxy",{extend:"IPFProxy",url:$.su.url("/admin/wireless?form=syspara_5g_2"),readFilter:function(e){return void 0!==(e=e.data)&&{ENABLE:e.enable}}}),function(S){S.su.moduleManager.define("wirelessAdvSmartConn",{services:["device","ajax","moduleManager"],models:["wirelessSmartConn","wirelessSmartConnView","wirelessSmartConnEdit","wireless24g","wireless5g1","wireless5g2"],stores:["transPowerStore","encryptionStore","wirelessVersionStore","wirelessVersionEpStore","wirelessCipherStore","wirelessWpa3VersionStore","wireless24gWpa3CipherStore","wepTypeStore","wepKeySelectedStore","wepKeyFormatStore","wepKeyTypeStore"],deps:["wirelessSettings","utils"],views:["wirelessAdvSmartConnView","wirelessAdvSmartConnViewBasic"],listeners:{"ev_on_launch":function(e,s,a,i,n,r,l){s.isTriband=l.device.getIsTriband(),i.wirelessSmartConn.load(),i.wirelessSmartConnEdit.load()}},init:function(m,i,c,e,_,f){this.control({".index-common-save-btn":{"ev_will_auto_save":function(e,s,a){for(var i,n,r,l,t,o,d,g=c.wirelessSmartConnEdit.encryption.getValue(),u=!1,w=0,p=a.length;w<p;w++)-1<a[w].dataObj.name.indexOf("wireless")&&(u=!0);u&&("on"===c.wirelessSmartConn.smartEnable.getValue()?("wpa"==g?(i=c.wirelessSmartConnEdit.server.getValue(),c.wirelessSmartConnEdit.server.setValidator(function(){return _.utils.ipToInt(i)!=_.utils.ipToInt(_.wirelessSettings.getLanIP())||S.su.CHAR.ERROR["00000077"]})):"wep"==g&&m.setWepEncrpyVtype(),c.wirelessSmartConnEdit.validate()&&m.postWirelessSmartData()):(n=f.moduleManager.get("wirelessAdv24g"),r=f.moduleManager.get("wirelessAdv5g1"),g="/admin/wireless?form=wireless_2g&form=wireless_5g",m.isTriband&&(l=f.moduleManager.get("wirelessAdv5g2"),g="/admin/wireless?form=wireless_2g&form=wireless_5g&form=wireless_5g_2"),n.beforeSubmit()&&r.beforeSubmit()&&(!l||l.beforeSubmit())&&(t=n.syncMainModel(),o=r.syncMainModel(),d=l&&l.syncMainModel(),1!=c.wirelessSmartConn.isDirty()&&c.wirelessSmartConn.submit(),f.ajax.request({url:S.su.url(g),data:S.extend(!0,{operation:"write"},t,o,d),success:function(){var e,s=n.getWifiInfo(),a=r.getWifiInfo();m.isTriband&&(e=l.getWifiInfo()),s.enable||a.enable||m.isTriband&&e.enable?(_.wirelessSettings.loadWifiInfo(s,a,e),_.wirelessSettings.showWlanOnSmartOffSaveNote()):_.wirelessSettings.showWlanOffSaveNote(),n.syncWifiSharingData(),r.syncWifiSharingData(),l&&l.syncWifiSharingData(),m.showSmartOffNote(),m.updateGuestNetwork(),c.wireless24g.record(),c.wireless5g1.record(),c.wireless5g2.record()}}))))}}}),this.listen({"models.wirelessSmartConn":{"ev_will_auto_save":function(e,s){s.preventDefault()}},"models.wirelessSmartConn.smartEnable":{"ev_value_change":function(e,s,a){"on"===s?(_.wirelessSettings.hideDetailFreqConfig(),c.wirelessSmartConnView.editField.show(),i[this.getEffectiveView()].wifisharing.show()):(_.wirelessSettings.showDetailFreqConfig(),c.wirelessSmartConnView.editField.hide(),i[this.getEffectiveView()].wifisharing.hide())}},"models.wirelessSmartConnEdit.encryption":{"ev_value_change":function(e,s,a){switch(c.wirelessSmartConnView.pskEditField.hide(),c.wirelessSmartConnView.psk3EditField.hide(),c.wirelessSmartConnView.wpaEditField.hide(),c.wirelessSmartConnView.wepEditField.hide(),s){case"psk":c.wirelessSmartConnView.pskEditField.show(),c.wirelessSmartConnEdit.pskCipher.show();var i=c.wirelessSmartConnEdit.pskVersion.getValue();0<=S.inArray(i,["sae_transition","sae_only"])&&c.wirelessSmartConnEdit.pskVersion.setValue("auto"),c.wirelessSmartConnEdit.pskKey.setVtype("psk_password");break;case"psk_sae":c.wirelessSmartConnView.psk3EditField.show(),c.wirelessSmartConnEdit.pskCipher.hide();i=c.wirelessSmartConnEdit.pskVersion.getValue();S.inArray(i,["sae_transition","sae_only"])<0&&c.wirelessSmartConnEdit.pskVersion.setValue("sae_transition"),c.wirelessSmartConnEdit.pskKey.setVtype("wpa3_password");break;case"wpa":c.wirelessSmartConnView.wpaEditField.show();break;case"wep":c.wirelessSmartConnView.wepEditField.show()}}},"models.wirelessSmartConnEdit.pskVersion":{"ev_value_change":function(e,s,a){var i=c.wirelessSmartConnEdit.encryption.getValue();"psk"==i&&"rsn"==s?(c.wirelessSmartConnEdit.pskCipher.hideItems("auto"),"auto"==c.wirelessSmartConnEdit.pskCipher.getValue()&&c.wirelessSmartConnEdit.pskCipher.setValue("aes")):"psk"==i&&"rsn"!=s&&c.wirelessSmartConnEdit.pskCipher.showItems("auto")}},"models.wirelessSmartConnEdit.wpaVersion":{"ev_value_change":function(e,s,a){var i=c.wirelessSmartConnEdit.encryption.getValue();"wpa"==i&&"rsn"==s?(c.wirelessSmartConnEdit.wpaCipher.hideItems("auto"),"auto"==c.wirelessSmartConnEdit.wpaCipher.getValue()&&c.wirelessSmartConnEdit.wpaCipher.setValue("aes")):"wpa"==i&&"rsn"!=s&&c.wirelessSmartConnEdit.wpaCipher.showItems("auto")}},"models.wirelessSmartConnEdit":{"ev_loaded":function(){this.syncWifiSharingData()},"ev_will_auto_save":function(e,s){s.preventDefault()},"ev_model_submit":function(e,s){var a=this.getWifiInfo(),i=a.password;this.syncWifiSharingData(),this.updateGuestNetwork(),"on"===c.wirelessSmartConnEdit.enable.getValue()?_.wirelessSettings.showWlanOnSaveNote(a.ssid,""===i?S.su.CHAR.WIRELESS_SETTINGS.NO_PASSWORD:i):_.wirelessSettings.showWlanOffSaveNote()}},"models.wireless24g":{"ev_will_auto_save":function(e,s){s.preventDefault()}},"models.wireless5g1":{"ev_will_auto_save":function(e,s){s.preventDefault()}},"models.wireless5g2":{"ev_will_auto_save":function(e,s){s.preventDefault()}}})}},function(i,n,r,e,l,t){return{isTriband:!0,setWepEncrpyVtype:function(){var e,s=r.wirelessSmartConnEdit.wepFormat1.getValue(),a=r.wirelessSmartConnEdit.wepType1.getValue();"asic"==s?"64"==a?e="asic_64":"128"==a&&(e="asic_128"):"hex"==s&&("64"==a?e="hex_64":"128"==a&&(e="hex_128")),r.wirelessSmartConnEdit.wepKey1.setVtype(e)},postWirelessSmartData:function(){r.wirelessSmartConn.submit(),i.isTriband?r.wirelessSmartConnEdit.submit({url:S.su.url("/admin/wireless?form=wireless_2g&form=wireless_5g&form=wireless_5g_2")}):r.wirelessSmartConnEdit.submit({url:S.su.url("/admin/wireless?form=wireless_2g&form=wireless_5g")})},syncWifiSharingData:function(){var e=this.getWifiInfo(),s=e.ssid,a=e.password,e=e.security,i=n[this.getEffectiveView()].wifisharing;i&&i.setValue({ssid:s,password:a,security:e})},getWifiInfo:function(){var e,s,a=r.wirelessSmartConnEdit.ssid.getValue();switch(r.wirelessSmartConnEdit.encryption.getValue()){case"psk":e=r.wirelessSmartConnEdit.pskKey.getValue(),s="psk";break;case"psk_sae":e=r.wirelessSmartConnEdit.pskKey.getValue(),s="psk_sae";break;case"wpa":e=r.wirelessSmartConnEdit.wpaKey.getValue(),s="wpa";break;case"wep":e=r.wirelessSmartConnEdit.wepKey1.getValue(),s="wep";break;default:e="",s="none"}return{ssid:a,password:e,security:s}},showSmartOffNote:function(){var e,s=t.moduleManager.get("wirelessAdv24g"),a=t.moduleManager.get("wirelessAdv5g1"),s=s.getWifiInfo(),a=a.getWifiInfo();i.isTriband&&(e=t.moduleManager.get("wirelessAdv5g2").getWifiInfo()),s.enable||a.enable||i.isTriband&&e.enable?(l.wirelessSettings.loadWifiInfo(s,a,e),l.wirelessSettings.showWlanOnSmartOffSaveNote()):l.wirelessSettings.showWlanOffSaveNote()},updateGuestNetwork:function(){"basic"==t.moduleManager.get("wirelessSettings").getMode()&&t.moduleManager.get("guestNetworkModule").checkStatus()}}})}(jQuery),$.su.modelManager.define("wirelessSmartConn",{type:"model",fields:[{name:"smartEnable",mapping:"smart_enable"}],proxy:{url:$.su.url("/admin/wireless?form=smart_connect")}}),$.su.modelManager.define("wirelessSmartConnEdit",{type:"model",fields:[{name:"isTriband"},{name:"2gEnable",mapping:"wireless_2g_enable"},{name:"5gEnable",mapping:"wireless_5g_enable"},{name:"5g2Enable",mapping:"wireless_5g_2_enable"},{name:"wireless2gSsid",mapping:"wireless_2g_ssid"},{name:"wireless5gSsid",mapping:"wireless_5g_ssid"},{name:"wireless5g2Ssid",mapping:"wireless_5g_2_ssid"},{name:"wireless2gHidden",mapping:"wireless_2g_hidden"},{name:"wireless5gHidden",mapping:"wireless_5g_hidden"},{name:"wireless5g2Hidden",mapping:"wireless_5g_2_hidden"},{name:"wireless2gEncryption",mapping:"wireless_2g_encryption"},{name:"wireless5gEncryption",mapping:"wireless_5g_encryption"},{name:"wireless5g2Encryption",mapping:"wireless_5g_2_encryption"},{name:"wireless2gPskVersion",mapping:"wireless_2g_psk_version"},{name:"wireless5gPskVersion",mapping:"wireless_5g_psk_version"},{name:"wireless5g2PskVersion",mapping:"wireless_5g_2_psk_version"},{name:"wireless2gPskCipher",mapping:"wireless_2g_psk_cipher"},{name:"wireless5gPskCipher",mapping:"wireless_5g_psk_cipher"},{name:"wireless5g2PskCipher",mapping:"wireless_5g_2_psk_cipher"},{name:"wireless2gPskKey",mapping:"wireless_2g_psk_key"},{name:"wireless5gPskKey",mapping:"wireless_5g_psk_key"},{name:"wireless5g2PskKey",mapping:"wireless_5g_2_psk_key"},{name:"wireless2gWpaVersion",mapping:"wireless_2g_wpa_version"},{name:"wireless5gWpaVersion",mapping:"wireless_5g_wpa_version"},{name:"wireless5g2WpaVersion",mapping:"wireless_5g_2_wpa_version"},{name:"wireless2gWpaCipher",mapping:"wireless_2g_wpa_cipher"},{name:"wireless5gWpaCipher",mapping:"wireless_5g_wpa_cipher"},{name:"wireless5g2WpaCipher",mapping:"wireless_5g_2_wpa_cipher"},{name:"wireless2gServer",mapping:"wireless_2g_server"},{name:"wireless5gServer",mapping:"wireless_5g_server"},{name:"wireless5g2Server",mapping:"wireless_5g_2_server"},{name:"wireless2gPort",mapping:"wireless_2g_port"},{name:"wireless5gPort",mapping:"wireless_5g_port"},{name:"wireless5g2Port",mapping:"wireless_5g_2_port"},{name:"wireless2gWpaKey",mapping:"wireless_2g_wpa_key"},{name:"wireless5gWpaKey",mapping:"wireless_5g_wpa_key"},{name:"wireless5g2WpaKey",mapping:"wireless_5g_2_wpa_key"},{name:"wireless2gWepMode",mapping:"wireless_2g_wep_mode"},{name:"wireless5gWepMode",mapping:"wireless_5g_wep_mode"},{name:"wireless5g2WepMode",mapping:"wireless_5g_2_wep_mode"},{name:"wireless2gWepFormat1",mapping:"wireless_2g_wep_format1"},{name:"wireless5gWepFormat1",mapping:"wireless_5g_wep_format1"},{name:"wireless5g2WepFormat1",mapping:"wireless_5g_2_wep_format1"},{name:"wireless2gWepType1",mapping:"wireless_2g_wep_type1"},{name:"wireless5gWepType1",mapping:"wireless_5g_wep_type1"},{name:"wireless5g2WepType1",mapping:"wireless_5g_2_wep_type1"},{name:"wireless2gWepKey1",mapping:"wireless_2g_wep_key1"},{name:"wireless5gWepKey1",mapping:"wireless_5g_wep_key1"},{name:"wireless5g2WepKey1",mapping:"wireless_5g_2_wep_key1"},{name:"wireless2gTxpower",mapping:"wireless_2g_txpower"},{name:"wireless5gTxpower",mapping:"wireless_5g_txpower"},{name:"wireless5g2Txpower",mapping:"wireless_5g_2_txpower"},{name:"wireless_2g_hwmode"},{name:"wireless_5g_hwmode"},{name:"wireless_5g_2_hwmode"},{name:"enable"},{name:"disabled_all"},{name:"ssid",mapping:"ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"hidden",mapping:"hidden"},{name:"encryption",mapping:"encryption"},{name:"pskVersion",mapping:"psk_version"},{name:"pskCipher",mapping:"psk_cipher"},{name:"pskKey",mapping:"psk_key",maxLength:64,vtype:"psk_password",allowBlank:!1},{name:"wpaVersion",mapping:"wpa_version"},{name:"wpaCipher",mapping:"wpa_cipher"},{name:"server",mapping:"server",vtype:"ip",allowBlank:!1},{name:"port",mapping:"port",vtype:{vtype:"number",min:1,max:65535},allowBlank:!1},{name:"wpaKey",mapping:"wpa_key",vtype:"password",maxLength:64,allowBlank:!1},{name:"wepMode",mapping:"wep_mode"},{name:"wepFormat1",mapping:"wep_format1"},{name:"wepType1",mapping:"wep_type1"},{name:"wepKey1",mapping:"wep_key1"},{name:"txpower",mapping:"txpower"}],serialize:function(e){var s,a,i,n,r=$.su.serviceManager.get("device").getIsTriband(),l="on"===e.enable?"off":"on";for(n in e){var t=e[n];0<=n.indexOf("wireless_")||(s="wireless_2g_"+n,a="wireless_5g_"+n,i="wireless_5g_2_"+n,t!==undefined&&null!==t?(e[s]=t,e[a]=t,r&&(e[i]=t)):(delete e[s],delete e[a],delete e[i]),"disabled_all"===n&&(e[s]=l,e[a]=l,r)&&(e[i]=l),delete e[n])}return e["wireless_2g_hwmode"]=$.su.modelManager.get("wireless24g").hwmode.getValue()||"bgnax",e["wireless_5g_hwmode"]=$.su.modelManager.get("wireless5g1").hwmode.getValue()||"anacax_5",r&&(e["wireless_5g_2_hwmode"]=$.su.modelManager.get("wireless5g2").hwmode.getValue()||"anacax_5"),e},proxy:{url:$.su.url("/admin/wireless?form=wireless_2g")}}),$.su.modelManager.define("wirelessSmartConnView",{type:"model",fields:[{name:"editField"},{name:"pskEditField"},{name:"psk3EditField"},{name:"wpaEditField"},{name:"wepEditField"}]}),$.su.define("sysWirelessAdv2gAnd5gProxy",{extend:"IPFProxy",url:$.su.url("/admin/wireless?form=wireless_2g&form=wireless_5g"),writeFilter:function(e){return $.extend({operation:"write"},e)}}),$.su.define("sysWirelessAdv2gAnd5g2Proxy",{extend:"IPFProxy",url:$.su.url("/admin/wireless?form=wireless_2g&form=wireless_5g&form=wireless_5g_2"),writeFilter:function(e){return $.extend({operation:"write"},e)}});