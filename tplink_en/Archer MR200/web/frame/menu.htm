<script>var menuBasic={netMap:[{name:menu_str.map,url:"networkMap.htm"}],internet:[{name:menu_str.internet,url:INCLUDE_LTEWAN&&"LTE"==$.sysMode?"basicLte.htm":INCLUDE_EWAN_VLAN&&"ETH"==$.sysMode?"ethWanBasic.htm":"USB_3G"==$.sysMode?"basic3g.htm":"wanBasic.htm"}],wireless:[{name:menu_str.wl,url:"wirelessBasic.htm"}],oneMesh:[{name:menu_str.mesh,url:INCLUDE_ONEMESH?"oneMesh.htm":0}],guestNtw:[{name:menu_str.wlguest,url:"wlGuestDulBandBasic.htm"}],voip:[{name:menu_str.voip,url:"voice_basic.htm"},{name:menu_str.voicetel,url:"voice_basic.htm"},{name:menu_str.voicedev,url:"voice_telephony.htm"},{name:menu_str.usbmail,url:"voice_usbmailBasic.htm"}],usb:[{name:menu_str.usb,url:"usbManage.htm"},{name:menu_str.disk,url:"usbManage.htm"},{name:menu_str.printer,url:"printSrv.htm"},{name:menu_str.usb3g,url:INCLUDE_USB_3G_DONGLE?0:"basic3g.htm"}],parentCtrl:[{name:menu_str.pc,url:"parentCtrl.htm"}],iptv:[{name:menu_str.iptv,url:INCLUDE_IPTV_V2?"DSL"==$.sysMode?"iptvDsl.htm":INCLUDE_EWAN_IPTV&&"ETH"==$.sysMode?"iptvEth.htm":0:INCLUDE_IPTV&&"ETH"==$.sysMode?"iptv.htm":0}],cloud:[{name:menu_str.cloud,url:INCLUDE_CLOUD_ACCOUNT?"cloudBasic.htm":0}]},menuAdv={status:[{name:menu_str.status,url:"status.htm"}],sysMode:[{name:menu_str.sysmod,url:"sysMode.htm"}],internet:[{name:menu_str.network,url:"LTE"==$.sysMode?"advanceLte.htm":"USB_3G"==$.sysMode?"usb3g.htm":"ETH"==$.sysMode&&INCLUDE_EWAN_VLAN?"wan.htm":"ETH"==$.sysMode?"ethWan.htm":"wan.htm"},{name:menu_str.internet,url:"LTE"==$.sysMode?"advanceLte.htm":"USB_3G"==$.sysMode?"usb3g.htm":"ETH"==$.sysMode&&INCLUDE_EWAN_VLAN?"wan.htm":"ETH"==$.sysMode?"ethWan.htm":"wan.htm"},{name:menu_str.usb3g,url:"ETH"==$.sysMode&&INCLUDE_USB_3G_BACKUP&&"1"==$.usb3gBackup?"usb3g.htm":0},{name:menu_str.ewan,url:"USB_3G"==$.sysMode&&INCLUDE_EWAN_BACKUP&&"1"==$.ewanBackup?"ethWan.htm":0},{name:menu_str.lteBackup,url:INCLUDE_LTEWAN&&"LTE"==$.sysMode||!INCLUDE_LTEWAN?0:"advanceLte.htm"},{name:menu_str.lteispupdate,url:INCLUDE_LTEWAN&&clientLocal?"lteIspUpdate.htm":0},{name:menu_str.ltepin,url:INCLUDE_LTEWAN?"PINManagement.htm":0},{name:menu_str.ltedata,url:INCLUDE_LTEWAN?"dataSettings.htm":0},{name:menu_str.lan,url:"dhcp.htm"},{name:menu_str.group,url:INCLUDE_LTEWAN||INCLUDE_USB_3G_DONGLE?0:"group.htm"},{name:menu_str.dsl,url:"DSL"==$.sysMode?"dslcfg.htm":0},{name:menu_str.ddns,url:"ddns.htm"},{name:menu_str.advroute,url:"route.htm"},{name:menu_str.tunnel6,url:"ipv6Tunnel.htm"},{name:menu_str.ussd,url:INCLUDE_LTEWAN&&"LTE"==$.sysMode&&INCLUDE_USSD?"lteUssd.htm":0}],sms:[{name:menu_str.sms,url:INCLUDE_LTEWAN?"lteSmsInbox.htm":0},{name:menu_str.inbox,url:INCLUDE_LTEWAN?"lteSmsInbox.htm":0},{name:menu_str.newMsg,url:INCLUDE_LTEWAN?"lteSmsNewMsg.htm":0},{name:menu_str.outbox,url:INCLUDE_LTEWAN?"lteSmsOutbox.htm":0},{name:menu_str.draftbox,url:INCLUDE_LTEWAN?"lteSmsDraftbox.htm":0},{name:menu_str.smsSettings,url:INCLUDE_LTEWAN?"lteSmsSettings.htm":0}],iptv:[{name:menu_str.iptv,url:INCLUDE_IPTV_V2?"DSL"==$.sysMode?"iptvDsl.htm":INCLUDE_EWAN_IPTV&&"ETH"==$.sysMode?"iptvEth.htm":0:INCLUDE_IPTV&&"ETH"==$.sysMode?"iptv.htm":0}],wireless:[{name:menu_str.wl,url:"wirelessSettings.htm"},{name:menu_str.wlset,url:"wirelessSettings.htm"},{name:menu_str.wps,url:"wps.htm"},{name:menu_str.wlsche,url:INCLUDE_LAN_WLAN_SCHEDULE?"wirelessSchedule.htm":0},{name:menu_str.stat,url:"wirelessStat.htm"},{name:menu_str.advset,url:"wirelessAdv.htm"}],oneMesh:[{name:menu_str.mesh,url:INCLUDE_ONEMESH?"oneMesh.htm":0}],guestNtw:[{name:menu_str.wlguest,url:"wlGuestDulBandAdv.htm"}],voip:[{name:menu_str.voip,url:"voice_advance.htm"},{name:menu_str.voicetel,url:"voice_advance.htm"},{name:menu_str.voicebook,url:"voice_telebook.htm"},{name:menu_str.voicedev,url:"voice_telephony.htm"},{name:menu_str.voicelog,url:"voice_calllog.htm"},{name:menu_str.voicerule,url:"voice_electionRule.htm"},{name:menu_str.voiceblock,url:"voice_callblocks.htm"},{name:menu_str.voicefwd,url:"voice_callforward.htm"},{name:menu_str.voiceth,url:"voice_callthrough.htm"},{name:menu_str.voicedect,url:"voice_dectadv.htm"},{name:menu_str.voiceapp,url:INCLUDE_VOICEAPP?"voice_voiceapp.htm":0},{name:menu_str.usbmail,url:"voice_usbmail.htm"}],fwd:[{name:menu_str.fwd,url:"alg.htm"},{name:menu_str.hwnat,url:"natBoost.htm"},{name:menu_str.alg,url:"alg.htm"},{name:menu_str.vs,url:"virtualServer.htm"},{name:menu_str.pt,url:"portTrigger.htm"},{name:menu_str.dmz,url:"dmz.htm"},{name:menu_str.upnp,url:"upnp.htm"}],usb:[{name:menu_str.usb,url:"folderSharing.htm"},{name:menu_str.disk,url:"folderSharing.htm"},{name:menu_str.printer,url:"printSrv.htm"},{name:menu_str.usb3g,url:INCLUDE_USB_3G_DONGLE?0:"usb3g.htm"}],parentCtrl:[{name:menu_str.pc,url:"parentCtrl.htm"}],qos:[{name:menu_str.qos,url:INCLUDE_APP_IQOS?"qosSettings.htm":0},{name:menu_str.qosSub,url:INCLUDE_APP_IQOS?"qosSettings.htm":0},{name:menu_str.qosdatabase,url:INCLUDE_APP_IQOS?"qosDatabase.htm":0}],trafficCtrl:[{name:menu_str.tc,url:INCLUDE_APP_IQOS?0:"trafficCtrl.htm"}],security:[{name:menu_str.sec,url:"ddos.htm"},{name:menu_str.ddos,url:"ddos.htm"},{name:menu_str.pf,url:"portFiltering.htm"},{name:menu_str.acc,url:"accessControl.htm"},{name:menu_str.arp,url:"arpBind.htm"},{name:menu_str.ipv6Firewall,url:INCLUDE_IPV6FIREWALL?"ipv6Firewall.htm":0},{name:menu_str.yandexDns,url:INCLUDE_YANDEX_DNS?"yandexDns.htm":0}],vpn:[{name:menu_str.vpn,url:INCLUDE_VPN?INCLUDE_OPENVPN_SERVER?"openvpnServer.htm":INCLUDE_PPTPVPN_SERVER?"pptpvpnServer.htm":INCLUDE_IPSEC?"ipsec.htm":0:0},{name:menu_str.openvpn,url:INCLUDE_VPN&&INCLUDE_OPENVPN_SERVER?"openvpnServer.htm":0},{name:menu_str.pptpvpn,url:INCLUDE_VPN&&INCLUDE_PPTPVPN_SERVER?"pptpvpnServer.htm":0},{name:menu_str.ipsec,url:INCLUDE_VPN&&INCLUDE_IPSEC?"ipsec.htm":0},{name:menu_str.vpnconn,url:INCLUDE_VPN&&(INCLUDE_OPENVPN_SERVER||INCLUDE_PPTPVPN_SERVER||INCLUDE_IPSEC)?"vpnStatus.htm":0}],tools:[{name:menu_str.tools,url:"time.htm"},{name:menu_str.time,url:"time.htm"},{name:menu_str.ledsche,url:INCLUDE_LED_SCHEDULE?"ledSchedule.htm":0},{name:menu_str.pushService,url:INCLUDE_MAIL?"pushService.htm":0},{name:menu_str.diag,url:"diagnostic.htm"},{name:menu_str.softup,url:clientLocal?"softup.htm":0},{name:menu_str.bnr,url:clientLocal?"backNRestore.htm":0},{name:menu_str.restart,url:INCLUDE_REBOOT_SCHEDULE?"restart.htm":0},{name:menu_str.admin,url:clientLocal?"manageCtrl.htm":"manageCtrl_remote.htm"},{name:menu_str.log,url:"log.htm"},{name:menu_str.cwmp,url:"cwmp.htm"},{name:menu_str.snmp,url:"snmp.htm"},{name:menu_str.tm,url:"stat.htm"}]},menuWanHide=["softup.htm","backNRestore.htm","ethWanBasic.htm","wanBasic.htm","wan.htm","ethWan.htm","quicksetup.htm","qsDsl.htm","qsEwan.htm","manageCtrl.htm","sysMode.htm","advanceLte.htm","basicLte.htm"];!function(e){"use strict";function t(){}t.prototype={constructor:t,instances:[],init:function(t,s){var n,a=this,m=/\w+.htm$/,u=0,r="";if(a.id=t,a.$menu=e("#"+t),e("#qs").hasClass("selected"))return e("#menu").tpMenu("destroy"),e("#con").fadeOut(200),e("#verticalFixed").fadeOut(0),e.loadPage("quicksetup","quicksetup.htm",function(){e("#main").empty(),e.emptyElem(e.bak),e.clearAsync(),e.unlock()}),e("#quicksetup").fadeIn(200),void(e.curPage="quicksetup.htm");e("#con").fadeIn(200),e("#verticalFixed").fadeIn(200),e("#quicksetup").fadeOut(200);var l='<div><ul class="mu1" id="menuTree">';e.cgi("./frame/menu.cgi",null,function(t){if(!t){for(var i=menulist.length,o=0;o<i;o++){if(!e.local&&0==clientLocal){e("#qs").css("visibility","hidden");for(var c=0;c<menuWanHide.length;c++)if(menulist[o]==menuWanHide[c]){menulist[o]=void 0;break}if(void 0==menulist[o])continue}var h=m.exec(menulist[o]);menulist[o]=h?h[0]:void 0}a.menuFilter(menulist,s);for(n in s)if(r="",u=0,1==s[n].length){if("DSL"!=e.sysMode&&"ETH"!=e.sysMode&&s[n][0].name==menu_str.iptv||"0"==s[n][0].url)continue;l+='<li class="ml1"><a class="click" href="javascript:void(0);" url="'+s[n][0].url+'">',l+='<span class="icon" id="'+n+'"></span>',l+='<span class="text T">'+s[n][0].name+"</span></a>",l+="</li>"}else{if("USB_3G"==e.sysMode&&s[n][0].url==menu_str.wan)continue;r+='<li class="ml1"><a class="click more" href="javascript:void(0);" url="'+s[n][0].url+'">',r+='<span class="icon" id="'+n+'"></span>',r+='<span class="text T">'+s[n][0].name+"</span></a>",r+='<ul class="mu2">';for(var d=1;d<s[n].length;d++)"USB_3G"==e.sysMode&&s[n][d].name==menu_str.wan||"0"==s[n][d].url||(u=1,r+='<li class="ml2"><a class="click" href="javascript:void(0);" url="'+s[n][d].url+'">',r+='<span class="text T">'+s[n][d].name+"</span></a>",r+="</li>");if(r+="</ul>",r+="</li>",0==u)continue;1==u&&void 0!==r&&(l+=r)}if(l+="</ul></div>",e("#menu").append(e(l)).find("ul.mu2").hide(),e("#menu").niceScroll({cursorcolor:"#36444b",cursoropacitymax:.15,cursoropacitymin:.15,touchbehavior:!1,cursorwidth:"8px",cursorborder:"0",cursorborderradius:"4px",scrollspeed:20,zindex:2}),a.$a=e("a.click"),a.$li=e("li"),a.registerHandlers(),a.$a.first().click(),0==e("#menu").prev(".menu-search-input-container").length){e("#menu").before('<div class="menu-search-input-container"><input type="text" class="menu-search-input" id="menu-search-input"/></div>').addClass("hasSearch");var _,p,v,E,N=[],C=[];!function(e,t){a.menuFilter(menulist,e);for(o in e){var s="";for(_=0,v=e[o].length;_<v;_++)v>1&&0==_?s=e[o][_].name+" -> ":0!=e[o][_].url&&((E={}).text=s+e[o][_].name,E.value={},E.value.url=e[o][_].url,E.value.navName=t,N.push(E),C.push(E))}}(menuBasic,"basic"),function(e,t){a.menuFilter(menulist,e);for(o in e){var s="";for(_=0,v=e[o].length;_<v;_++)if(v>1&&0==_)s=e[o][_].name+" -> ";else if(0!=e[o][_].url){for((E={}).text=s+e[o][_].name,p=0;p<C.length;p++)E.text==C[p].text&&(E.text+=" ("+s_str.adv+")");E.value={},E.value.url=e[o][_].url,E.value.navName=t,N.push(E)}}}(menuAdv,"advanced"),N.sort(function(e,t){return e.text.toUpperCase()<=t.text.toUpperCase()?-1:1}),e("#menu-search-input").tpSearchInput({data:N,width:e("#menuTree li.ml1").width(),placeholder:s_str.search,selectCallback:function(t,s){e.goToOtherPage(s.url,s.navName,function(){e("#menu-search-input").tpSearchInput("val","")})}})}}})},menuFilter:function(t,s){var n=0;for(var a in s)for(var m=0;m<s[a].length;m++)n=0,e.each(t,function(){if(this==s[a][m].url)return n=1,!1}),0==n&&(s[a][m].url="0")},registerHandlers:function(){function t(){var t=e(window).height()-e("#bot").offset().top;t=t<0?0:t,e("#menu").css("maxHeight",e(window).height()-t-e("#top").height()-parseInt(e("#menu").css("marginTop").match(/\d*/)))}var s=0;this.$a.on("click.tpMenu",function(t){var n,a=e(this),m=a.parent("li"),u=!1;if(e("li.ml1 a.more").hasClass("clicked")&&(u=!0),m.hasClass("ml2")){e("#menu").find("a").removeClass("sel").removeClass("clicked").parent("li.sel").removeClass("sel");var r=m.closest("li.ml1");r.children("a").addClass("sel").addClass("clicked"),a.addClass("sel").addClass("clicked"),m.addClass("sel"),s=r.position().top,0==e("#menu").find("li:not(:has(a.clicked)) ul.mu2:visible").length&&(u=!1),e("#menu").find("li:not(:has(a.clicked)) ul.mu2:visible").slideUp("fast",function(){e("#menu").scrollTop(r.position().top-e("#menu").children(":first").position().top-s)})}else{if(a.hasClass("more")){var l=a.next("ul.mu2");if(l.is(":visible"))0==l.find("a.sel.clicked").length&&a.removeClass("clicked"),l.slideUp("fast",function(){});else{a.addClass("clicked"),l.slideDown("fast",function(){e("#menu").scrollTop(a.position().top-e("#menu").children(":first").position().top)});var i=m.siblings("li:has(a.clicked:not(.sel))");i.find("a").removeClass("clicked"),i.find("ul.mu2").slideUp("fast")}return}e("#menu").find("a").removeClass("sel").removeClass("clicked").parent("li.sel").removeClass("sel"),s=m.position().top,e("ul.mu2:visible").slideUp("fast",function(){e("#menu").scrollTop(m.position().top-e("#menu").children(":first").position().top-s)}),a.addClass("sel").addClass("clicked")}n=a.attr("url"),e("#scroll").scrollTop(0),u?(u=!1,e.timeout(function(){e.loadMain(n)},200)):e.loadMain(n)}),e("#scroll").off("scroll.menu").on("scroll.menu",function(){t()}),e(window).off("resize.menu loadPage.menu").on("resize.menu loadPage.menu",function(){t()}),t()},destroy:function(){var e=this;e.$a&&e.$a.off(".tpMenu"),e.$li&&e.$li.off(".tpMenu"),delete Object.getPrototypeOf(e).instances[e.id]}},e.fn.tpMenu=function(s){this.each(function(){var n=e(this).data("tpMenu");n?"destroy"===s&&n?n.destroy():(n.destroy(),e(this).data("tpMenu",new t),e(this).data("tpMenu").init(this.id,menuargs)):(e(this).data("tpMenu",new t),e(this).data("tpMenu").init(this.id,menuargs))})}}(jQuery);var haveClick=!1;($("#advanced").hasClass("selected")||$("#basic").hasClass("selected"))&&(haveClick=!0),0!=haveClick||1!=$.isFD&&2!=$.isFD?($("#advanced").hasClass("selected")?menuargs=menuAdv:$("#qs").hasClass("selected")?menuargs={}:(menuargs=menuBasic,$("#basic").addClass("selected")),$("#menu").tpMenu(menuargs)):($("#qs").addClass("selected"),$("#con").fadeOut(200),$("#verticalFixed").fadeOut(0),$.loadPage("quicksetup","quicksetup.htm",function(){$.curPage="quicksetup.htm",$.emptyElem($.bak),$.clearAsync(),$.unlock()}),1==$.isFD&&$("#quicksetup").css("display","block"),INCLUDE_LTEWAN&&($.isFD=3,$.act(ACT_SET,IGD_DEV_INFO,null,null,["X_TP_IsFD=3"]),$.exe()))</script>
