<h3 id="et">Settings</h3>
<div class="content-container">
    <form class="pure-form pure-form-aligned">
        <div>
            <b class="l ru-hide"></b>
            <input type="checkbox" id="seeEachOther">
            <label id="t_allowsee">Allow guests to see each other</label>
        </div>
        <div>
            <b class="l ru-hide"></b>
            <input type="checkbox" id="accessLocal">
            <label id="t_lAccess">Allow guests to access to my local network</label>
        </div>
        <div id="usb_access" class="nd">
            <b class="l ru-hide"></b>
            <input type="checkbox" id="accessUSB">
            <label id="t_uAccess">Allow guests to access my USB Storage Sharing</label>
        </div>
        <div id="div_tc" class="nd">
            <div>
                <b class="l ru-hide" id="t_gNtc">Bandwidth Control:</b>
                <input type="checkbox" id="guestTcEn">
                <label id="t_entc">Enable guest network bandwidth control</label>
            </div>
            <div id="tcnum" class="nd">
                <div>
                    <b class="l" id="t_tcup">Egress Rate (kbps):</b>
                    <input type="text" id="guestTcMinUpBW" maxlength="6">
                    <span>-</span>
                    <input type="text" id="guestTcMaxUpBW" maxlength="6">
                </div>
                <div>
                    <b class="l" id="t_tcdown">Ingress Rate (kbps):</b>
                    <input type="text" id="guestTcMinDownBW" maxlength="6">
                    <span>-</span>
                    <input type="text" id="guestTcMaxDownBW" maxlength="6">
                </div>
            </div>
        </div>
        <div id="div_qos" class="nd">
            <div>
                <b class="l" id="t_gNqos">OoS Settings:</b>
                <input type="checkbox" id="guestQosEn">
                <label id="t_enqos">Enable guest network qos settings</label>
            </div>
            <div id="div_qosDetails" class="nd">
                <div>
                    <b id="t_qosClass" class="l">QoS Class</b>
                    <select id="qosClass" class="">
                        <option class="T T_high" value="4">High</option>
                        <option class="T T_middle" value="3">Middle</option>
                        <option class="T T_low" value="2">Low</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="part-separate-s">
          <button type="submit" class="green T_save" id="saveAdv">Save</button>
        </div>
    </form>
</div>

<h3 class="T_wireless">Wireless</h3>
<div class="content-container">
    <form class="pure-form pure-form-aligned">
        <div>
            <b class="T_gn24 l">2.4GHz:</b>
            <input type="checkbox" id="wlEn_2g">
            <label class="T_wlradioenGuest">Enable Wireless Radio</label>
        </div>
        <div id="hideGuest_2g">
            <div class="inline">
                <b class="T_gnssid l">Name(SSID):</b>
                <input type="text" maxlength="32" oninput="$.maxlength(this)" id="ssid_2g" class="xl">
            </div>
            <div class="inline">
                <input type="checkbox" id="hideSSID_2g">
                <label class="T_hidessid">Hide SSID</label>
            </div>
        </div>

        <div id="5ghz_guest_enable" class="nd">
            <b class="T_gn5 l">5GHz:</b>
            <input type="checkbox" id="wlEn_5g">
            <label class="T_wlradioenGuest">Enable Wireless Radio</label>
        </div>
        <div id="hideGuest_5g" class="nd">
            <div class="inline">
                <b class="T_gnssid l">Name(SSID):</b>
                <input type="text" maxlength="32" oninput="$.maxlength(this)" id="ssid_5g" class="xl">
            </div>
            <div class="inline">
                <input type="checkbox" id="hideSSID_5g">
                <label class="T_hidessid">Hide SSID</label>
            </div>
        </div>
        <div id="secArea" class="part-separate">
            <div>
                <b class="T_wlsec l">Security:</b>
                <input type="radio" name="security" id="noSec">
                <label class="T_wldissec">No Security</label>
                <input type="radio" name="security" id="wpaSec">
                <label class="T_wlsecpersonal">WPA/WPA2 Personal</label>
                <text class="nd" id="wpaThiText">
                    <input type="radio" name="security" id="wpaThi">
                    <label class="T_wlthipersonal">WPA2/WPA3 Personal</label>
                </text>
            </div>
            <div id="hideWpaSec" class="nd">
                <div>
                    <b class="T_version l">Version:</b>
                    <input type="radio" name="version" id="autoVersion">
                    <label class="T_auto">Auto</label>
                    <input type="radio" name="version" id="wpa2Version">
                    <label class="T_wpa2">WPA2-PSK</label>
                </div>

                <div>
                    <b class="T_encryption l">Encryption:</b>
                    <input type="radio" name="encryption" id="autoEncryption">
                    <label class="T_auto">Auto</label>
                    <input type="radio" name="encryption" id="tkipEncryption">
                    <label>TKIP</label>
                    <input type="radio" name="encryption" id="aesEncryption">
                    <label>AES</label>
                </div>

                <div class="pure-control-group">
                    <b class="T_wlpwd l">Wireless Password:</b>
                    <input type="text" maxlength="64" oninput="$.maxlength(this)" class="tp-input-text xl" id="passwd">
                </div>
            </div>
            <div id="hideWpaThi" class="nd">
                <div>
                    <b class="T_version l">Version:</b>
                    <input type="radio" name="version3" id="autoVersion3">
                    <label class="T_auto">Auto</label>
                    <input type="radio" name="version3" id="wpa3Version">
                    <label class="T_wpa3">WPA3-SAE</label>
                </div>

                <div class="pure-control-group">
                    <b class="T_wlpwd l">Wireless Password:</b>
                    <input type="text" maxlength="63" oninput="$.maxlength(this)" class="tp-input-text xl" id="passwd3">
                </div>
            </div>
        </div>
        <button type="submit" class="green T_save" id="save_5g">Save</button>
    </form>
</div>

<script>!function(){function e(e,c){e=e.toLowerCase();for(var n=0;n<e.length;n++)if(!(e.charAt(n)>="0"&&e.charAt(n)<="9"||e.charAt(n)>="a"&&e.charAt(n)<="f"))return 0!=c&&$.alert(ERR_WLAN_WEP_KEY_HEX_INVALID),!1;return 0!=parseInt(e,16)||(0!=c&&$.alert(ERR_WLAN_WEP_KEY_HEX_INVALID),!1)}function c(e){var c=$("#ssid"+e),n=$.realLen(c.prop("value")),t=!1;return INCLUDE_LAN_WLAN_MSSID&&INCLUDE_LAN_WLAN_GUESTNETWORK&&(INCLUDE_LAN_WLAN_DUALBAND&&(t=c.prop("value")==h.SSID),c.prop("value")==A.SSID||t)?($.alert(CMM_WLAN_SSID_CONFLICTE),c.focus(),c.select(),!1):n<=0?($.alert(ERR_WLAN_SSID_IS_EMPTY),c.focus(),c.select(),!1):!(n>32)||($.alert(ERR_WLAN_SSID_LEN_OUTRANGE),c.focus(),c.select(),!1)}function n(c){var n=$("#passwd"),t=n.prop("value");if(0==t.length)return $.alert(ERR_WLAN_WPA_PSK_EMPTY),n.focus(),n.select(),!1;if(t.length<8)return $.alert(ERR_WLAN_WPA_PSK_LENGTH_INVALID),n.focus(),n.select(),!1;if(t.length>=64){if(!e(t,0))return $.alert(ERR_WLAN_WPA_PSK_HEX_INVALID),n.focus(),n.select(),!1;n.prop("value",n.prop("value").substr(0,64))}else if($.asc(t,!0))return $.alert(ERR_WLAN_WPA_PSK_ASCII_INVALID),n.focus(),n.select(),!1;return!(1==T&&"_2g"==c&&$("#wlEn_2g").prop("checked")||1==D&&"_5g"==c&&$("#wlEn_5g").prop("checked"))||!$("#tkipEncryption").prop("checked")||($.alert(ERR_WLAN_QSS_TKIP_CONFLICT),!1)}function t(c){var n=$("#passwd3"),t=n.prop("value");if(0==t.length)return $.alert(ERR_WLAN_WPA_PSK_EMPTY),n.focus(),n.select(),!1;if(t.length<8)return $.alert(ERR_WLAN_WPA_PSK_LENGTH_INVALID),n.focus(),n.select(),!1;if(t.length>=63){if(!e(t,0))return $.alert(ERR_WLAN_WPA_PSK_HEX_INVALID),n.focus(),n.select(),!1;n.prop("value",n.prop("value").substr(0,63))}else if($.asc(t,!0))return $.alert(ERR_WLAN_WPA_PSK_ASCII_INVALID),n.focus(),n.select(),!1;return!(1==T&&"_2g"==c&&$("#wlEn_2g").prop("checked")||1==D&&"_5g"==c&&$("#wlEn_5g").prop("checked"))||!$("#tkipEncryption").prop("checked")||($.alert(ERR_WLAN_QSS_TKIP_CONFLICT),!1)}function a(e){return 0!=c(e)&&((!$("#wpaSec").prop("checked")||0!=n(e))&&((!$("#wpaThi").prop("checked")||0!=t(e))&&void 0))}function o(e,c){var n,t={};0!=a(e)&&(t.enable=$("#wlEn"+e).prop("data-checked")?1:0,t.SSID=$("#ssid"+e).prop("value"),t.SSIDAdvertisementEnable=$("#hideSSID"+e).prop("data-checked")?0:1,$("#noSec").prop("checked")?(t.beaconType="Basic",t.basicEncryptionModes="None",t.basicAuthenticationMode="None","_2g"==e?$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,L.__stack,null,t):INCLUDE_LAN_WLAN_DUALBAND&&$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,S.__stack,null,t)):$("#wpaSec").prop("checked")?($("#autoEncryption").prop("checked")?n="TKIPandAESEncryption":$("#tkipEncryption").prop("checked")?n="TKIPEncryption":$("#aesEncryption").prop("checked")&&(n="AESEncryption"),$("#autoVersion").prop("checked")&&(t.beaconType="WPAand11i",t.WPAAuthenticationMode="PSKAuthentication",t.WPAEncryptionModes=n,t.IEEE11iAuthenticationMode="PSKAuthentication",t.IEEE11iEncryptionModes=n,t.preSharedKey=$("#passwd").prop("value")),$("#wpaVersion").prop("checked")&&(t.beaconType="WPA",t.WPAAuthenticationMode="PSKAuthentication",t.WPAEncryptionModes=n,t.preSharedKey=$("#passwd").prop("value")),$("#wpa2Version").prop("checked")&&(t.beaconType="11i",t.IEEE11iAuthenticationMode="PSKAuthentication",t.IEEE11iEncryptionModes=n,t.preSharedKey=$("#passwd").prop("value")),"_2g"==e?$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,L.__stack,null,t):INCLUDE_LAN_WLAN_DUALBAND&&$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,S.__stack,null,t)):$("#wpaThi").prop("checked")&&(n="AESEncryption",t.IEEEWPA3AuthenticationMode="SAEAuthentication",t.IEEEWPA3EncryptionModes=n,$("#autoVersion3").prop("checked")&&(t.beaconType="11iadWPA3",t.preSharedKey=$("#passwd3").prop("value")),$("#wpa3Version").prop("checked")&&(t.beaconType="WPA3",t.preSharedKey=$("#passwd3").prop("value")),"_2g"==e?$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,L.__stack,null,t):INCLUDE_LAN_WLAN_DUALBAND&&$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,S.__stack,null,t)),c?$.showGuage({rate:3,updateInterval:900,callback_complete:function(){$.removeLoading()}}):$.exe(function(e){}))}function i(){var e={};if(P){if(1==W.enable){var c={};c.guestEnable=$("#guestQosEn").prop("data-checked")?1:0,1==c.guestEnable&&(c.guestClass=$("#qosClass").data("value")),$.act(ACT_SET,IQOS,null,null,c)}}else;var n=$("#seeEachOther").prop("data-checked")?0:1;e.LANAccessEnable=$("#accessLocal").prop("data-checked")?1:0,e.USBAccessEnable=$("#accessUSB").prop("data-checked")?1:0,e.eachOtherAccessEnable=$("#seeEachOther").prop("data-checked")?1:0,$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,L.__stack,null,["IsolateClients="+n]),$.act(ACT_SET,LAN_WLAN_GUESTNET,A.__stack,null,e),INCLUDE_LAN_WLAN_DUALBAND&&($.act(ACT_SET,LAN_WLAN_MSSIDENTRY,S.__stack,null,["IsolateClients="+n]),$.act(ACT_SET,LAN_WLAN_GUESTNET,h.__stack,null,e)),$.exe(function(e){$.removeLoading()})}function p(e,c){"Basic"==e.beaconType&&"None"==e.basicEncryptionModes?$("#noSec").prop("checked","checked"):"WPA"==e.beaconType?"PSKAuthentication"==e.WPAAuthenticationMode&&$("#wpaSec").prop("checked","checked"):"11i"==e.beaconType||"WPAand11i"==e.beaconType?"PSKAuthentication"==e.IEEE11iAuthenticationMode&&$("#wpaSec").prop("checked","checked"):"WPA3"!=e.beaconType&&"11iadWPA3"!=e.beaconType||"SAEAuthentication"==e.IEEEWPA3AuthenticationMode&&$("#wpaThi").prop("checked","checked")}function s(e,c){"WPAand11i"==e.beaconType&&"PSKAuthentication"==e.WPAAuthenticationMode?($("#autoVersion").prop("checked","checked"),"TKIPEncryption"==e.IEEE11iEncryptionModes?$("#tkipEncryption").prop("checked","checked"):"AESEncryption"==e.IEEE11iEncryptionModes?$("#aesEncryption").prop("checked","checked"):$("#autoEncryption").prop("checked","checked")):"WPA"==e.beaconType&&"PSKAuthentication"==e.WPAAuthenticationMode?($("#wpaVersion").prop("checked","checked"),"TKIPEncryption"==e.WPAEncryptionModes?$("#tkipEncryption").prop("checked","checked"):"AESEncryption"==e.WPAEncryptionModes?$("#aesEncryption").prop("checked","checked"):$("#autoEncryption").prop("checked","checked")):"11i"==e.beaconType&&"PSKAuthentication"==e.IEEE11iAuthenticationMode?($("#wpa2Version").prop("checked","checked"),"TKIPEncryption"==e.IEEE11iEncryptionModes?$("#tkipEncryption").prop("checked","checked"):"AESEncryption"==e.IEEE11iEncryptionModes?$("#aesEncryption").prop("checked","checked"):$("#autoEncryption").prop("checked","checked")):($("#wpa2Version").prop("checked","checked"),$("#autoEncryption").prop("checked","checked")),void 0==e.preSharedKey?$("#passwd").prop("value",""):$("#passwd").prop("value",e.preSharedKey)}function r(e,c){"11iadWPA3"==e.beaconType?$("#autoVersion3").prop("checked","checked"):"WPA3"==e.beaconType?$("#wpa3Version").prop("checked","checked"):$("#autoVersion3").prop("checked","checked"),void 0==e.preSharedKey?$("#passwd3").prop("value",""):$("#passwd3").prop("value",e.preSharedKey)}function _(){INCLUDE_USB_STORAGE&&$("#usb_access").removeClass("nd"),0==L.isolateClients&&$("#seeEachOther").prop("checked","checked"),INCLUDE_LAN_WLAN_DUALBAND&&0==S.isolateClients&&$("#seeEachOther").prop("checked","checked"),1==I.LANAccessEnable&&$("#accessLocal").prop("checked","checked"),INCLUDE_LAN_WLAN_DUALBAND&&1==u.LANAccessEnable&&$("#accessLocal").prop("checked","checked"),INCLUDE_USB_STORAGE&&1==I.USBAccessEnable&&$("#accessUSB").prop("checked","checked"),INCLUDE_USB_STORAGE&&INCLUDE_LAN_WLAN_DUALBAND&&1==u.USBAccessEnable&&$("#accessUSB").prop("checked","checked"),P&&($("#div_tc").addClass("nd"),$("#div_qos").removeClass("nd"),W=$.act(ACT_GET,IQOS,null,null),$.exe(),0==W.enable&&($("#guestQosEn").prop("disabled",!0),$("#qosClass").prop("disabled",!0),$.errorTip("guestQosEn",n_str.wlGuestDulBandAdv.t_disqos)),$("#guestQosEn").prop("checked",1==W.guestEnable),1==W.guestEnable?$("#div_qosDetails").removeClass("nd"):$("#div_qosDetails").addClass("nd"),$("#qosClass").find("option[value="+W.guestClass+"]").prop("selected",!0))}function d(){void 0==$.mainParam&&(1==L.enable&&$("#wlEn_2g").prop("checked",!0),INCLUDE_LAN_WLAN_DUALBAND&&($("#5ghz_guest_enable").removeClass("nd"),$("#hideGuest_5g").removeClass("nd")),INCLUDE_LAN_WLAN_DUALBAND&&1==S.enable&&$("#wlEn_5g").prop("checked",!0),0==A.enable&&($("#wlEn_2g").prop("disabled",!0),$.errorTip("wlEn_2g",ERR_WLAN_DISABLED),$("#ssid_2g").prop("disabled",!0),$("#hideSSID_2g").prop("disabled",!0)),INCLUDE_LAN_WLAN_DUALBAND&&0==h.enable&&($("#wlEn_5g").prop("disabled",!0),$.errorTip("wlEn_5g",ERR_WLAN_DISABLED),$("#ssid_5g").prop("disabled",!0),$("#hideSSID_5g").prop("disabled",!0)),$("#ssid_2g").prop("value",L.SSID),INCLUDE_LAN_WLAN_DUALBAND&&$("#ssid_5g").prop("value",S.SSID),0==L.SSIDAdvertisementEnable&&$("#hideSSID_2g").prop("checked","checked"),INCLUDE_LAN_WLAN_DUALBAND&&0==S.SSIDAdvertisementEnable&&$("#hideSSID_5g").prop("checked","checked"),p(L,"_2g"),s(L,"_2g"),r(L,"_2g"),INCLUDE_LAN_WLAN_DUALBAND&&(p(S,"_5g"),s(S,"_5g"),r(L,"_2g")),_())}var A,E,l,h,N,u,S,L,I,k,T,D,W,P="INCLUDE_APP_IQOS"in window&&1==INCLUDE_APP_IQOS;$("#wpaSec").on("click.guestNetwork",function(e){$("#hideWpaSec").show("fast")}),$("#wpaSec").on("click.guestNetwork",function(e){$("#hideWpaThi").hide("fast")}),$("#wpaThi").on("click.guestNetwork",function(e){$("#hideWpaThi").show("fast")}),$("#wpaThi").on("click.guestNetwork",function(e){$("#hideWpaSec").hide("fast")}),$("#noSec").on("click.guestNetwork",function(e){$("#hideWpaSec").hide("fast")}),$("#noSec").on("click.guestNetwork",function(e){$("#hideWpaThi").hide("fast")}),$("#save_5g").on("click.guestNetwork",function(e){$.addLoading($(this)),INCLUDE_LAN_WLAN_DUALBAND&&o("_5g"),o("_2g",!0)}),$("#saveAdv").on("click.guestNetwork",function(e){$.addLoading($(this)),i()}),$("#guestTcEn").on("click.guestNetwork",function(e){1==$(this).prop("data-checked")?$("#tcnum").show():$("#tcnum").hide()}),$("#guestQosEn").on("click.guestNetwork",function(e){1==$(this).prop("data-checked")?$("#div_qosDetails").show():$("#div_qosDetails").hide()}),$("#wpa2Version").on("click.guestNetwork",function(e){$("#autoEncryption").prop("disabled",!0).prop("checked",!1).data("tpRadio").refresh(),$("#tkipEncryption").prop("disabled",!0).prop("checked",!1).data("tpRadio").refresh(),$("#aesEncryption").prop("checked",!0).data("tpRadio").refresh()}),$("#autoVersion").on("click.wlSettings",function(e){$("#autoEncryption").prop("disabled",!1).data("tpRadio").refresh(),$("#tkipEncryption").prop("disabled",!1).data("tpRadio").refresh()}),$.tpInit(function(){var e=$.act(ACT_GL,LAN_WLAN,null,null,["Enable","SSID","X_TP_Band","BeaconType","BasicEncryptionModes"]);"INCLUDE_SUPPORT_WPA3"in window&&INCLUDE_SUPPORT_WPA3&&$("#wpaThiText").removeClass("nd"),$.exe()||($.each(e,function(){"2.4GHz"==this.X_TP_Band&&(A=this),INCLUDE_LAN_WLAN_DUALBAND&&"5GHz"==this.X_TP_Band&&(h=this)}),wpsObj_2g=$.act(ACT_GET,LAN_WLAN_WPS,A.__stack,null,["Enable"]),E=$.act(ACT_GET,LAN_WLAN_MULTISSID,A.__stack,null,["MultiSSIDEnable"]),l=INCLUDE_SUPPORT_WPA3?$.act(ACT_GS,LAN_WLAN_MSSIDENTRY,null,A.__stack,["Name","Enable","SSID","SSIDAdvertisementEnable","isolateClients","BeaconType","BasicAuthenticationMode","WEPKeyIndex","BasicEncryptionModes","WPAEncryptionModes","WPAAuthenticationMode","IEEE11iEncryptionModes","IEEE11iAuthenticationMode","IEEEWPA3EncryptionModes","IEEEWPA3AuthenticationMode","PreSharedKey","GroupKeyUpdateInterval","RadiusServerIP","RadiusServerPort","RadiusServerPassword"]):$.act(ACT_GS,LAN_WLAN_MSSIDENTRY,null,A.__stack,["Name","Enable","SSID","SSIDAdvertisementEnable","isolateClients","BeaconType","BasicAuthenticationMode","WEPKeyIndex","BasicEncryptionModes","WPAEncryptionModes","WPAAuthenticationMode","IEEE11iEncryptionModes","IEEE11iAuthenticationMode","PreSharedKey","GroupKeyUpdateInterval","RadiusServerIP","RadiusServerPort","RadiusServerPassword"]),I=$.act(ACT_GET,LAN_WLAN_GUESTNET,A.__stack,null,["Enable","Name","IsModified","LANAccessEnable","EachOtherAccessEnable","USBAccessEnable","TCEnable","TCMaxUpBW","TCMinUpBW","TCMaxDownBW","TCMinDownBW","TCRuleID"]),INCLUDE_LAN_WLAN_DUALBAND&&(wpsObj_5g=$.act(ACT_GET,LAN_WLAN_WPS,h.__stack,null,["Enable"]),N=$.act(ACT_GET,LAN_WLAN_MULTISSID,h.__stack,null,["MultiSSIDEnable"]),k=$.act(ACT_GS,LAN_WLAN_MSSIDENTRY,null,h.__stack,["Name","Enable","SSID","SSIDAdvertisementEnable","isolateClients","BeaconType","BasicAuthenticationMode","WEPKeyIndex","BasicEncryptionModes","WPAEncryptionModes","WPAAuthenticationMode","IEEE11iEncryptionModes","IEEE11iAuthenticationMode","PreSharedKey","GroupKeyUpdateInterval","RadiusServerIP","RadiusServerPort","RadiusServerPassword"]),u=$.act(ACT_GET,LAN_WLAN_GUESTNET,h.__stack,null,["Enable","Name","IsModified","LANAccessEnable","EachOtherAccessEnable","USBAccessEnable","TCEnable","TCMaxUpBW","TCMinUpBW","TCMaxDownBW","TCMinDownBW","TCRuleID"])),$.exe()||(T=wpsObj_2g.enable,INCLUDE_LAN_WLAN_DUALBAND&&(D=wpsObj_5g.enable),$.each(l,function(e,c){this.name==I.name&&(L=this)}),INCLUDE_LAN_WLAN_DUALBAND&&$.each(k,function(e,c){this.name==u.name&&(S=this)}),I.enable,INCLUDE_LAN_WLAN_DUALBAND&&u.enable),d())})}()</script>
