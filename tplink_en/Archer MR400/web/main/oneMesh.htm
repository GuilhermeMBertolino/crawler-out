<style>.hidden{display:none}p,pre{margin:0}p.note{margin:20px 0;line-height:21px;vertical-align:baseline}a{text-decoration:none}div.header-container h3{margin:0 0 1em 0}span.confirm-title{font-size:14px;color:#1a1a1a}.available-device-item,.network-device-item{position:relative;padding:16px 12px;margin-bottom:20px;width:259px;border:1px solid #f8f8f8;border-radius:5px;font-size:14px;background-color:#f8f8f8;display:inline-block}.network-device-item{cursor:pointer}.available-device-item{margin-right:21px}.device-item .device-icon-container{display:table-cell;vertical-align:top}.device-item .device-icon-container .device-icon{width:40px;height:40px;background:url(../img/mesh_sprites.png) -79px -79px;display:inline-block}.device-item .device-icon-container .device-icon-wirelessrouter{background-position:-79px -79px}.device-item .device-icon-container .device-icon-rangeextender{background-position:-153px -55px}.device-item .device-icon-container .device-icon-deco{background-position:-153px -5px}.device-item .device-info-container{position:relative;width:100%;padding-left:10px;display:table-cell}.device-item .device-info-line{margin-top:10px;width:100%;vertical-align:top;display:table}.device-item .device-info-name{padding-right:30px;font-size:14px;color:#36444b;line-height:16px;word-break:break-all;max-width:60%}.device-item .device-info-mac,.network-device-item .device-info-clients{font-size:12px;line-height:14px;display:table-cell}.device-item .device-info-mac{width:130px;color:#a7a9ac}.network-device-item .device-info-clients{color:#4acbd6;text-align:right}.network-device-item .device-info-clients a{color:#4acbd6}.available-device-item .available-device-add-btn-container,.network-device-item .device-signal-icon-container{position:absolute;top:0;right:4px}.available-device-item .available-device-add-btn-container{text-align:center}.available-device-item .available-device-add-btn{padding:1px 14px;height:14px;line-height:14px;border:1px solid #4acbd6;border-radius:3px;background-color:#4acbd6;color:#fff;display:block;text-align:center;font-size:12px}.available-device-item .btn-icon-container{width:48px;display:inline-block}.available-device-item .btn-icon-container.loading{width:20px;height:20px;margin:0 14px;background:url(../img/waiting.gif) no-repeat center center}.available-device-item .btn-icon-container.success{margin:0 15px;width:18px;height:18px;background:url(../img/icons.png) no-repeat;background-position:-541px -21px}.available-device-item .available-device-add-btn.hidden,.available-device-item .btn-icon-container.hidden{display:none}.device-signal-icon-container{display:inline-block}.device-signal-icon-container span.signal-icon{background:url(../img/mesh_sprites.png) -79px -129px;display:inline-block;width:16px;height:14px}.device-signal-icon-container span.signal-level-0{background-position:-79px -129px}.device-signal-icon-container span.signal-level-1{background-position:-105px -129px}.device-signal-icon-container span.signal-level-2{background-position:-91px -153px}.device-signal-icon-container span.signal-level-3{background-position:-117px -153px}.device-signal-icon-container span.signal-level-4{background-position:-143px -153px}.device-signal-icon-container span.signal-level-5{background-position:-169px -153px}.onemesh-pic-container{position:relative;width:648px;height:300px}.onemesh-bg-left,.onemesh-bg-right{position:absolute;width:320px;height:300px;background:#f4fbfc;border-radius:5px;z-index:10}.onemesh-bg-left{left:0}.onemesh-bg-right{right:0}.onemesh-pic-container .bg-text-container{position:absolute;top:254px;width:100%;font-size:14px;line-height:16px;text-align:center}.onemesh-pic-container .bg-text-container .icon{display:inline-block;width:16px;height:16px;margin-right:4px;background:url(../img/mesh_sprites.png) -39px -153px}.onemesh-bg-left .bg-text-container .icon{background-position:-39px -153px;color:#4acbd6}.onemesh-bg-right .bg-text-container .icon{background-position:-65px -153px;color:#c11c66}.onemesh-bg-left .bg-text-container .text{color:#4acbd6}.onemesh-bg-right .bg-text-container .text{color:#c11c66}.onemesh-pic{position:relative;display:inline-block;width:648px;height:300px;background-image:url(../img/onemesh-network.gif);z-index:11}#add-re-confirm.l .confirm-content-title{font-size:14px;line-height:16px}#add-re-confirm .confirm-content-title{font-size:15px;line-height:17px}#add-re-confirm .confirm-content-introduction{margin-top:12px;font-size:12px;line-height:16px}#add-re-confirm .wireless-settings-container{margin-top:20px}#add-re-confirm .wireless-settings-block{width:262px;padding:18px 24px 25px;background:#f5f5f5;display:inline-block;font-size:14px;line-height:16px;vertical-align:top}#add-re-confirm .wireless-settings-block+.wireless-settings-block{margin-left:31px}#add-re-confirm .wireless-settings-block .wireless-settings-title{color:#4acbd6}#add-re-confirm .wireless-settings-block .wireless-settings-ssid{margin-top:13px}#add-re-confirm .wireless-settings-block .wireless-settings-password{margin-top:18px}#add-re-confirm .wireless-settings-block .label,#add-re-confirm .wireless-settings-block .text{display:inline-block;vertical-align:top;word-break:break-all}#add-re-confirm .wireless-settings-block .label{width:88px}#add-re-confirm .wireless-settings-block .text{width:170px}#add-re-confirm.l .confirm-content-title{font-size:14px;line-height:16px}#add-re-confirm.l .confirm-content-introduction,#add-re-confirm.l .wireless-settings-container{display:none}#one-mesh-network-panel.no-mesh-device #available-device-title,#one-mesh-network-panel.no-mesh-device #one-mesh-network-content,#one-mesh-network-panel.no-mesh-device #smart-connect-note{display:none}#one-mesh-network-panel.no-mesh-device #no-mesh-device-container{display:block}#one-mesh-network-panel.no-mesh-device #available-device-panel{margin-top:40px}#one-mesh-network-panel.has-mesh-device #no-mesh-device-container{display:none}#one-mesh-network-panel.has-mesh-device #one-mesh-network-container{position:relative}#one-mesh-network-panel.has-mesh-device #one-mesh-network-container:before{position:absolute;width:1px;top:32px;bottom:0;left:308px;background:#ccc;display:block;content:"";z-index:1}#one-mesh-network-panel.has-mesh-device #available-device-panel,#one-mesh-network-panel.has-mesh-device #one-mesh-network-content{position:relative;width:49%;display:inline-block;vertical-align:top}#one-mesh-network-panel.has-mesh-device #available-device-panel{margin:0}#one-mesh-network-panel.has-mesh-device #available-device-panel #available-device-note,#one-mesh-network-panel.has-mesh-device #available-device-panel h3{display:none}#one-mesh-network-panel.has-mesh-device #available-device-panel .panel-content{padding:0}.device-item-title{font-size:14px;line-height:16px;margin-bottom:16px}#no-available-device-note{color:#a7a9ac}div.loading-container div.loading-container-wrap{z-index:1000}#fail-prompt{position:absolute;margin-top:-160px;margin-left:15px;top:50%;left:50%;background-color:#4acbd6;opacity:.7;border-radius:5px;z-index:1100;display:none}#fail-prompt div.content{margin:28px 24px}#fail-prompt span.icon{width:38px;height:38px;margin-right:5px;background:url(../img/icons.png) no-repeat -511px -131px;display:inline-block}#fail-prompt span.text{display:none}#fail-prompt.successed span.icon{background-position:-287px -155px}#fail-prompt.successed span.text-successed{display:inline}#fail-prompt.failed span.icon{background-position:-363px -155px}#fail-prompt.failed span.text-failed{display:inline}#fail-prompt span.text{color:#fff;font-size:16px}#client-list-msg{width:651px}#client-list-grid .grid-content-container-outer,#client-list-grid .grid-header-container{border-radius:0;border-left:none;border-right:none;border-top:none}#client-list-grid,#client-list-grid tbody td,#client-list-grid thead th{border:0}#client-list-grid,#client-list-grid thead th{border-bottom:1px solid #ccc}#device-detail-form .part-separate{margin-top:46px}div.button-container.remove-device-btn button.button-button{padding:6px;background-color:#fff;color:#c11c66;border:1px solid #c11c66}div.button-container.remove-device-btn button.button-button span.button-button-before{display:none}div.button-container.remove-device-btn button.button-button span.text{margin:0;padding:0;background:0 0}.device-detail-save-btn{float:right}.device-detail-form .value-container{display:inline-block;height:19px;padding:8px 10px;direction:ltr}.signal-container{margin-top:8px}#device-detail-msg{height:352px}.device-detail-form .value-container>span+span{margin-left:20px}button.mesh{width:auto;padding:6px}#remove-device-btn{background-color:#fff;color:#c11c66;border:1px solid #c11c66;position:absolute;margin-top:51px}</style>
<body>
    <div id="one-mesh-network-panel" class="has-mesh-device">
        <h3 id="t_title1">One Mesh</h3>
        <div id="no-mesh-device-container">
            <p class="T_noMeshDeviceNote1 cfg-line onemesh-note"></p>
            <p class="T_noMeshDeviceNote2 cfg-line onemesh-note"></p>

            <div class="pic-container onemesh-pic-container">
                <div class="onemesh-bg-left">
                    <div class="bg-text-container">
                        <span class="icon"></span>
                        <span class="T_oneMeshNetwork cfg-line text" id="onemesh-bg-left-text" data-string="$.su.CHAR.ONE_MESH.ONE_MESH_NETWORK"></span>
                    </div>
                </div>
                <div class="onemesh-bg-right">
                    <div class="bg-text-container">
                        <span class="icon"></span>
                        <span class="T_commonNetwork cfg-line text" id="onemesh-bg-right-text" data-string="$.su.CHAR.ONE_MESH.COMMON_NETWORK"></span>
                    </div>
                </div>
                <div class="onemesh-pic"></div>
            </div>
        </div>
        <p class="T_oneMeshTip cfg-line note" id="smart-connect-note"></p>

        <div id="one-mesh-network-container">
            <div id="one-mesh-network-content" class="one-mesh-network-content">
                <p id="network-device-title" class="device-item-title T_devicesInOneMeshNetwork"></p>
                <div id="network-device-container" class="network-device-container"></div>
            </div>
            <div id="available-device-panel" class="panel-container available-device-panel">
                <h3 class="device-item-title T_availableOneMeshDevices"></h3>
                <p id="available-device-note" class="note T_availableDeviceNote"></p>
                <p id="available-device-title" class="device-item-title T_availableOneMeshDevices"></p>
                <p id="no-available-device-note" class="device-item-title T_noAvailableOneMeshDevices"></p>
                <div id="available-device-container"></div>
            </div>
        </div>
    </div>
    <p class="add_onemesh_txt nd T_addOneMesh"></p>
    <div id="msg-container" class="">
        <div id="device-detail-msg">
            <h3 class="T_deviceInfo msg-title"></h3>
            <div id="device-detail-panel">
                <div id="device-detail-form" class="device-detail-form">
                    <div class="button-context">
                        <button class="mesh green pure-button tp-btn-custom T_manageDevices" id="manage-device-btn" type="submit"></button>
                    </div>
                    <form class="pure-form pure-form-aligned">
                        <div class="pure-control-group">
                            <b class="xl T_name">Name:</b>
                            <input type="text" class="xl" id="device-name" maxlength="31" oninput="$.maxlength(this)">
                        </div>
                        <div class="pure-control-group inline">
                            <b class="xl T_location">Location:</b>
                            <select id="device-location" class="xl">
								<option value="none" data-skip="1" class="t_locationSel">Please Select</option>
                                <option value="bedroom" class="T_bedroom">Bedroom</option>
                                <option value="hallway" class="T_hallway">Hallway</option>
                                <option value="kitchen" class="T_kitchen">Kitchen</option>
                                <option value="living_room" class="T_livingRoom">Living Room</option>
                                <option value="master_bedroom" class="T_masterRoom">Master Room</option>
                                <option value="office" class="T_office">Office</option>
                                <option value="study" class="T_study">Study</option>
                                <option value="other" class="T_other">Other</option>
                            </select>
                        </div>
                        <div class="pure-control-group">
                            <b class="xl T_ipaddr" id="device-ip"></b>
                            <input type="text" readonly="ture" class="tp-input-text xxxl" id="deviceIp">
                        </div>
                        <div class="pure-control-group">
                            <b class="xl T_macaddr" id="device-mac"></b>
                            <input type="text" readonly="ture" class="tp-input-text xxxl" id="deviceMac">
                        </div>
                    </form>

                    <input type="text" id="device-signal" class="hidden" name="signal_strength">
                    <div id="device-signal-container">
                        <div class="label-container">
                            <label id="device-signal-label" class="label-text T_signal"></label><span>:</span>
                        </div>
                        <div class="value-container signal-container">
                            <div class="device-signal-icon-container">
                                <span class="signal-icon"></span>
                            </div>
                        </div>
                    </div>

                    <input type="text" id="device-speed-2g" class="hidden" name="link_speed_24g">
                    <input type="text" id="device-speed-5g" class="hidden" name="link_speed_5g">
                    <div id="device-speed-container">
                        <div class="label-container">
                            <label id="device-speed-label" class="label-text T_linkSpeed"></label><span>:</span>
                        </div>
                        <div class="value-container"></div>
                    </div>

                    <input type="text" id="device-model" class="hidden" name="model">
                    <input type="text" id="device-status" class="hidden" name="status">
                    <input type="text" id="device-type" class="hidden" name="device_type">

                    <button class="mesh green pure-button tp-btn-custom T_leaveOneMesh" id="remove-device-btn" type="submit"></button>
                </div>
            </div>
        </div>

        <div id="client-list-msg">
            <h3 class="T_clientList msg-title"></h3>
            <div id="client-list-panel">
                <table id="client-list-grid">
                    <thead></thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
        <div id="add-re-confirm" class="same xl">
            <p class="confirm-content-title T_addDeviceMsgTitle"></p>
            <p class="confirm-content-introduction T_addDeviceMsgIntroduction"></p>
            <div class="wireless-settings-container">
                <div id="wireless-settings-block-2g" class="wireless-settings-block">
                    <p class="wireless-settings-title T_network24g"></p>
                    <p class="wireless-settings-ssid">
					<span class="label">
						<span class="T_meshSsid"></span><span class="separator">:</span>
					</span>
                        <span class="text"></span>
                    </p>
                    <p class="wireless-settings-password">
					<span class="label">
						<span class="T_password"></span><span class="separator"></span>
					</span>
                        <span class="text"></span>
                    </p>
                </div>
                <div id="wireless-settings-block-5g" class="wireless-settings-block">
                    <p class="wireless-settings-title T_network5g"></p>
                    <p class="wireless-settings-ssid">
                    <span class="label">
                        <span class="T_meshSsid"></span><span class="separator">:</span>
                    </span>
                        <span class="text"></span>
                    </p>
                    <p class="wireless-settings-password">
                    <span class="label">
                        <span class="T_password"></span><span class="separator"></span>
                    </span>
                        <span class="text"></span>
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>
<script language="javascript">function getSecPsw(e){return"WPA"==e.beaconType&&"PSKAuthentication"==e.WPAAuthenticationMode||("11i"==e.beaconType||"WPAand11i"==e.beaconType)&&"PSKAuthentication"==e.IEEE11iAuthenticationMode?e.X_TP_PreSharedKey:""}function initAvailableList(e,t){for(var a="",i=0;i<t.length;i++){var n="";"rangeextender"===t[i].device_type.toLowerCase()&&(n+=' data-ssid-2g="'+t[i].ssid_24g+'"',n+=' data-password-2g="'+t[i].password_24g+'"',n+=' data-ssid-5g="'+t[i].ssid_5g+'"',n+=' data-password-5g="'+t[i].password_5g+'"'),a+='<div class="device-item available-device-item" data-stack="'+t[i].__stack+'" data-mac="'+t[i].mac+'" data-device-type="'+t[i].device_type+'"'+n+">",a+='<div class="device-icon-container">',a+='\t<span class="device-icon device-icon-'+t[i].device_type.toLowerCase()+'"></span>',a+="</div>",a+='<div class="device-info-container">',a+='<p class="device-info-name">'+t[i].model+"</p>",a+='<div class="device-info-line">',a+='<p class="device-info-mac">'+t[i].mac+"</p>",a+="</div>",a+='<div class="available-device-add-btn-container">',a+='<a class="available-device-add-btn" href="javascript:;" >'+$(".add_onemesh_txt").html()+"</a>",a+='<div class="btn-icon-container hidden"></div>',a+="</div>",a+="</div>",a+="</div>"}$(e).html(a).off("click").on("click",".available-device-add-btn",function(){var e=$(this).closest(".available-device-item"),t=e.data("mac"),a=e.data("device-type"),i=(e.data("stack"),$("#add-re-confirm"));if("rangeextender"!==a.toLowerCase())$.confirm(s_str.addMeshTip,function(){beginLinkDevice(t)},null,"","Add","Cancel");else{lastAddReMac=t;var n=e.data("ssid-2g"),c=e.data("password-2g"),s=e.data("ssid-5g"),l=e.data("password-5g");wlanObj_2g.SSID.toString()!==n.toString()||getSecPsw(wlanObj_2g).toString()!==c.toString()||wlanObj_5g.SSID.toString()!==s.toString()||getSecPsw(wlanObj_5g).toString()!==l.toString()?(i.removeClass("l"),i.addClass("xl")):(i.addClass("l"),i.removeClass("xl")),i.tpModal("show")}})}function setDeviceDetail(e){$("#device-name").prop("value",e.name),$("#device-location option[value='"+e.location+"']").prop("selected","selected"),$("#device-location").tpSelect({refresh:1}),$("#deviceIp").prop("value",e.ip),$("#deviceMac").prop("value",e.mac),$("#device-detail-msg").tpModal("show");var t=convertSpeed(e.link_speed_24g)+" ("+$.tpLang.s_str.tap2g+")",a=convertSpeed(e.link_speed_5g)+" ("+$.tpLang.s_str.tap5g+")";$("#device-speed-container .value-container").html("<span>"+t+"</span><span>"+a+"</span>"),$("#device-signal-container .signal-icon").removeClass(function(e,t){var a=0,i=[];for(a=0;a<=5;a++)i.push("signal-level-"+a);return i.join(" ")}).addClass("signal-level-"+e.signal)}function init(){initPageData()}function initPageData(e){$.act(ACT_SET,ONEMESH_RT,null,null,["action="+ONEMESH_INIT_ALL]),$.exe(function(e){}),availableDeviceData=$.act(ACT_GL,ONEMESH_AVAIDEV,null,null),networkTopologyData=$.act(ACT_GL,ONEMESH_TOPO,null,null),$.exe(function(e){if(e)availableDeviceData=[],networkTopologyData={};else{var t="";$.each(networkTopologyData,function(){t+=this.topo}),networkTopologyData=JSON.parse(t)}initAvailableList($("#available-device-container"),availableDeviceData),oneMeshNetwork.loadData(networkTopologyData),updateView()})}function updateView(){var e=oneMeshNetwork.hasMeshDevice(),t=$("#available-device-container .available-device-item").length;e?($("#one-mesh-network-panel").removeClass("no-mesh-device"),$("#one-mesh-network-panel").addClass("has-mesh-device")):($("#one-mesh-network-panel").addClass("no-mesh-device"),$("#one-mesh-network-panel").removeClass("has-mesh-device")),t>0?$("#no-mesh-device-note-1, #no-available-device-note").hide():($("#no-mesh-device-note-1, #no-available-device-note").show(),e?$("#available-device-panel").show():$("#available-device-panel").hide())}function beginLinkDevice(e){var t={};t.mac=e||lastAddReMac,t.action=ONEMESH_LINK_DEV,$.addLoading(),$.act(ACT_SET,ONEMESH_RT,null,null,t),$.exe(function(e){e||($("#add-re-confirm").tpModal("hide"),initPageData()),$.removeLoading()})}function saveLinkDevice(){var e={};e.action=ONEMESH_EDIT_CFG,e.name=$("#device-name").prop("value"),e.location=$("#device-location").data("value"),e.mac=$("#deviceMac").prop("value"),$.addLoading(),$.act(ACT_SET,ONEMESH_RT,null,null,e),$.exe(function(e){e||initPageData(),$.removeLoading()})}function convertSpeed(e){e=e||0;for(var t=0,a=[$.tpLang.s_str.kbps,$.tpLang.s_str.mbps];e>=1e3;)e/=1e3,t++;return""+parseInt(e,10)+a[t]}var ONEMESH_INIT_ALL=1,ONEMESH_LINK_DEV=5,ONEMESH_UNLINK_DEV=6,ONEMESH_EDIT_CFG=7,wlanObj_2g={},wlanObj_5g={},basicList=$.act(ACT_GL,LAN_WLAN,null,null,["name","Standard","SSID","X_TP_Band","Enable","BeaconType","WPAAuthenticationMode","IEEE11iAuthenticationMode","X_TP_PreSharedKey"]);$.exe()||($.each(basicList,function(){"2.4GHz"==this.X_TP_Band?wlanObj_2g=this:"5GHz"==this.X_TP_Band&&(wlanObj_5g=this)}),$("#wireless-settings-block-2g .wireless-settings-ssid .text").text(wlanObj_2g.SSID),$("#wireless-settings-block-2g .wireless-settings-password .text").text(getSecPsw(wlanObj_2g)),$("#wireless-settings-block-5g .wireless-settings-ssid .text").text(wlanObj_5g.SSID),$("#wireless-settings-block-5g .wireless-settings-password .text").text(getSecPsw(wlanObj_5g)));var headArrayClient=[{text:table_str.id,width:"15%"},{text:table_str.phonename,width:"25%"},{text:table_str.ip,width:"30%"},{text:table_str.mac,width:"30%"}];$.initTableHead($("#client-list-grid"),headArrayClient);var OneMeshNetwork=function(){"Microsoft Internet Explorer"===navigator.appName&&/Trident/i.test(navigator.userAgent)&&/MSIE\s+8\.0/i.test(navigator.userAgent);var e=function(e){this.options=$.extend({},e),this.init()};return e.prototype.init=function(){this.el=$(this.options.el),this.data=[],this.deviceContainer=this.el.find("#network-device-container"),this.initDeviceList()},e.prototype.getData=function(){return this.data},e.prototype.hasMeshDevice=function(){return this.data.length>1},e.prototype.loadData=function(e){if(!$.isEmptyObject(e)){this.rawData=e;var t=this.data=function(e){var t=[],a=0,i=null,n=function(e,c){var s={name:e.name,model:e.model,device_type:e.device_type,ip:e.ip,mac:e.mac,ncli_num:e.ncli_num,scli_num:e.scli_num,signal:e.signal,level:c,index:a++};null!==i&&(s.parent=i),t.push(s);for(var l=e.sclis,o=0;o<l.length;o++)i=s.index,n(l[o],c+1)};return n(e,0),t}(e);this.loadDeviceList(t)}},e.prototype.initDeviceList=function(){var e=this;$(this.deviceContainer).off("click").on("click",".network-device-item",function(t){var a=parseInt($(this).attr("data-index"),10),i=e.data[a];$(t.target).hasClass("total-clients")?$(e.el).triggerHandler("ev_total_clients_click",[i||null]):$(e.el).triggerHandler("ev_device_item_click",[i||null])})},e.prototype.loadDeviceList=function(e){for(var t="",a=1,i=e.length;a<i;a++)t+='<div data-index="'+a+'" class="device-item network-device-item">',t+='<div class="device-icon-container">',t+='\t<span class="device-icon device-icon-'+e[a].device_type.toLowerCase()+'"></span>',t+="</div>",t+='<div class="device-info-container">',t+='<p class="device-info-name">'+$.htmlEncodeStr(e[a].name)+"</p>",t+='<div class="device-info-line">',t+='<p class="device-info-mac">'+e[a].mac+"</p>",t+='<p class="device-info-clients"><a href="javascript:;" class="total-clients">'+e[a].ncli_num+" "+$.tpLang.s_str.onemeshclients+"</a></p>",t+="</div>",t+='<div class="device-signal-icon-container">',t+='\t<span class="signal-icon signal-level-'+e[a].signal+'"></span>',t+="</div>",t+="</div>",t+="</div>";$(this.deviceContainer).html(t)},e}(),lastAddReMac="",currentDevice,toAddDevice,oneMeshNetwork=new OneMeshNetwork({el:"#one-mesh-network-container"});$("#client-list-msg").tpModal({confirmBtn:!1,cancelBtn:!1}),$("#add-re-confirm").tpModal({confirmBtn:{str:$.tpLang.m_str.add,callback:beginLinkDevice}}),$("#device-detail-msg").tpModal({confirmBtn:{str:$.tpLang.m_str.save,callback:saveLinkDevice},cancelBtn:!1}),$(oneMeshNetwork.el).on("ev_total_clients_click",function(e,t){$.act(ACT_SET,ONEMESH_DETAIL,null,null,["mac="+t.mac]),$.exe(function(e){}),re_clients=$.act(ACT_GL,ONEMESH_DEVICE,null,null),$.exe(function(){$("#client-list-msg").tpModal("show"),$("#client-list-grid").tpTable(function(){var e=[],t=1;$.each(re_clients,function(){e.push([{text:t,width:"15%"},{text:$.htmlEncodeStr(this.name),width:"25%"},{text:this.ip,width:"30%"},{text:this.mac,width:"30%"}]),t++}),$.initTableBody($("#client-list-grid"),e),$.tablePages($("#client-list-grid"),10)})})}),$(oneMeshNetwork.el).on("ev_device_item_click",function(e,t){$.act(ACT_SET,ONEMESH_DETAIL,null,null,["mac="+t.mac]),$.exe(function(e){}),deviceDetailData=$.act(ACT_GET,ONEMESH_DETAIL),$.exe(function(){setDeviceDetail(deviceDetailData),currentDevice=deviceDetailData,$.tpInit()})}),$("#remove-device-btn").on("click",function(){$.confirm(s_str.leaveOneMeshTip,function(){$.addLoading();var e={};e.action=ONEMESH_UNLINK_DEV,e.mac=currentDevice.mac,$.act(ACT_SET,ONEMESH_RT,null,null,e),$.exe(function(e){e||initPageData(),$.removeLoading()}),$("#device-detail-msg").tpModal("hide")},null,"",m_str.leave,m_str.cancel)}),$("a#smart-connect").on("click",function(){$("#basic").hasClass("selected")?$.goToOtherPage("wirelessBasic.htm","basic"):$.goToOtherPage("wirelessSettings.htm","advanced")}),$("#manage-device-btn").on("click",function(){window.location.href="//"+currentDevice.ip}),init()</script>
