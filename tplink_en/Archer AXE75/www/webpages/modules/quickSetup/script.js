!function(u){u.su.moduleManager.define("quickSetup",{services:["moduleLoader","ajax","device","language","moduleManager"],deps:["main","navigatorController"],models:["language","quickSetupModel","qsSummaryModel"],stores:["workModeStore","languageStore","quickSetupSteps"],views:["quickSetupView"],listeners:{"ev_start_set_pwd":function(){this.onStartSetPwd()},"ev_end_set_pwd":function(){this.onEndSetPwd()},"ev_on_launch":function(e,t,n,s,i,a,r){var t=this,o=(u.su.scrollbar({ele:".page-content-container"}),s.quickSetupModel.toggleFields(!0),r.device.getLocale());r.device.getForce()?(t.lang=o,n.quickSetupView.qsLanBtn.setText(u.su.CHAR.LANGUAGE[o.toUpperCase()]),s.language.language.disable()):i.languageStore.load({success:function(){t.lang=o,s.language.language.setValue(o),n.quickSetupView.qsLanBtn.setText(u.su.CHAR.LANGUAGE[o.toUpperCase()])}}),t.initMode(),s.quickSetupModel.load({success:function(){var e=s.qsSummaryModel.ispProfile.convert(s.quickSetupModel.ispSpecialMode.getValue());s.qsSummaryModel.ispProfile.setValue(e)}}),n.quickSetupView.productName.setValue(r.device.getProductName()),i.quickSetupSteps.loadData(t.routerSteps),a.main.upgraded?this.goTo("qsCloudAndTether"):this.goTo("qsSetTimezone"),t.initModeSelectModule(),t.checkPhysicalConn()}},init:function(n,t,e,s,i,a){this.configViews({id:"quickSetupView",items:[{id:"qs-set-password-loader",model:"qsSetPasswordLoader"},{id:"qs-choose-internet-type-loader",model:"qsChooseInternetTypeLoader"}]}),this.control({"#switch-mode-button":{"ev_button_click":function(e){t.quickSetupView.switchModeMsg.show()}},"#quit-qs-button":{"ev_button_click":function(e){var t=u.su.CHAR.QUICK_SETUP["QUIT_MSG"+n.exitMsgNum];i.main.confirm(t,function(){n.quit()},null,u.su.CHAR.QUICK_SETUP.QUIT_UPPER)}},"#qs-lan-cb":{"mouseenter":function(){u("#qs-lan-button").addClass("hover")},"mouseleave":function(){u("#qs-lan-button").removeClass("hover")},"ev_view_change":function(e,t){"clickLabel"==t.triggerAction&&a.language.switchTo(t.value)}},".operation-mode-switch-msg":{"ev_msg_ok":function(e,t){var n=a.moduleManager.get("operationMode");n.modeChanged()&&(n.switchModeConfirm(),t.preventDefault())}}}),this.listen({"views.quickSetupView.connectWorkMode":{"ev_value_change":function(e,t){}}})}},function(i,t,a,e,r,o){var i=this,p=[],n="router",l=!1,s={name:"qsSelectInternetPort"};return{upgradeDetail:null,noInternet:!0,skipFlag:!1,upgradeState:"noUpgrade","mode":null,exitMsgNum:1,"initMode":function(){i.mode=o.device.getCurrentMode(),i.mode===n&&(i.isSupportSetPort()&&i.routerSteps.splice(1,0,s),i.steps=i.routerSteps)},"steps":null,"routerSteps":[{name:"qsSetTimezone"},{name:"qsChooseInternetType"},{name:"qsInternetEdit"},{name:"qsWirelessSetting"},{name:"qsSummary"},{name:"qsCloudAndTether"}],"isSupportSetPort":function(){return!0===o.device.getConfig().supportSelectPort},"isAutoUpdate":function(){return o.device.getConfig().supportAutoUpdate},"updateSteps":function(n){u.each(i.steps,function(e,t){t&&t.name===n&&i.setStep(n)})},"getPhysicalConnStatus":function(){return l},"checkPhysicalConn":function(t){i.isSupportSetPort()?o.ajax.request({proxy:"portConnectionProxy",success:function(e){var n="2500WAN"===a.quickSetupModel.wanPortStatus.getValue()?1:2,s=!1;u.map(e,function(e){for(key in e){var t;/wan/.test(key)&&/\d/.test(key)&&(t=parseInt(/\d/.exec(key)[0]),n===t&&/status/.test(key)&&(s="CONNECTED"===e[key].toUpperCase()))}}),l=s,t&&t(l)},fail:function(){l=!1,t&&t(!1)},error:function(){l=!1,t&&t(!1)}}):o.ajax.request({proxy:"physicalConnectionProxy",success:function(e){l=!("UNPLUGGED"===e.internet_status.toUpperCase()),t&&t(l)},fail:function(){l=!1,t&&t(!1)},error:function(){l=!1,t&&t(!1)}})},"currentStep":null,"_getChildModuleLoader":function(e){return t.quickSetupView[e+"Loader"]},"onStartSetPwd":function(){t.quickSetupView.steps.hide()},"onEndSetPwd":function(){t.quickSetupView.steps.show()},"setStep":function(e){t.quickSetupView.steps.setValue(e)},"initModeSelectModule":function(){o.moduleLoader.load({module:"quickSetup"},{module:"operationMode",view:"operationModeViewQs"},t.quickSetupView.operationModeLoader)},"goTo":function(e,t,n){i.currentStep&&i._getChildModuleLoader(i.currentStep).hide();var s=i._getChildModuleLoader(e);0<=u.inArray(e,p)||(o.moduleLoader.load({module:"quickSetup"},{module:e},s,function(){document.querySelector(".page-content-container").scrollTop=0,r.main.hideMask(),n&&n()}),t||p.push(e)),s.show(),document.querySelector(".page-content-container").scrollTop=0,i.currentStep=e,i.updateSteps(e)},showModule:function(e){i.currentStep&&i._getChildModuleLoader(i.currentStep).hide(),i._getChildModuleLoader(e).show(),document.querySelector(".page-content-container").scrollTop=0,i.currentStep=e,i.updateSteps(e)},"quit":function(){r.navigatorController.goTo("index")},"getQuickSetupData":function(){return a.quickSetupModel.getData()},submitAutoUpdateData:function(e){var t="on"==a.quickSetupModel.autoUpdate.getValue()?/^autoUpdate/:/^autoUpdate$/;return i.skipFlag?a.quickSetupModel.toggleFields(/^wireless/,!1):a.quickSetupModel.toggleFields(!1),a.quickSetupModel.toggleFields(t,!0),a.quickSetupModel.submit(e)},"submitQuickSetupData":function(e){return a.quickSetupModel.toggleFields(!0),a.quickSetupModel.toggleFields(/^wireless/,!1),a.quickSetupModel.toggleFields(/^autoUpdate/,!1),i.isSupportSetPort()||a.quickSetupModel.toggleFields(/^wanPortStatus/,!1),a.quickSetupModel.submit(e)},submitQsWirelssData:function(e){var t=a.quickSetupModel.enable5g1Bw160.getValue();a.quickSetupModel.toggleFields(/^wireless/,!0),a.quickSetupModel.toggleFields(function(e){if(!/^wireless/.test(e))return!0},!1),o.device.getIsTriband()&&!o.device.getConfig().supportWifi6E||a.quickSetupModel.toggleFields(function(e){if(/^wireless5g2/.test(e))return!0},!1),o.device.getConfig().supportWifi6E||a.quickSetupModel.toggleFields(function(e){if(/^wireless6g/.test(e))return!0},!1),""==o.device.getConfig().support5GQuickSetupBW160?(a.quickSetupModel.toggleFields(/^wireless5gHtmode/,!1),o.device.getIsTriband()&&a.quickSetupModel.toggleFields(/^wireless5g2Htmode/,!1)):(a.quickSetupModel.wireless5gHtmode.setValue("80"),o.device.getIsTriband()&&a.quickSetupModel.wireless5g2Htmode.setValue("80"),"on"===t&&(a.quickSetupModel.wireless5gHtmode.setValue("160"),o.device.getIsTriband()&&"FCC"==o.device.getConfig().support5GQuickSetupBW160&&a.quickSetupModel.wireless5g2Htmode.setValue("160"))),this.preloadSummary(function(){a.quickSetupModel.submit(e||{success:function(){i.goTo("qsSummary")}})})},submitAllData:function(e){a.quickSetupModel.toggleFields(/^wireless/,!0);var t=a.quickSetupModel.enable5g1Bw160.getValue();a.quickSetupModel.toggleFields(/^autoUpdate/,!1),i.isSupportSetPort()||a.quickSetupModel.toggleFields(/^wanPortStatus/,!1),o.device.getIsTriband()&&!o.device.getConfig().supportWifi6E||a.quickSetupModel.toggleFields(function(e){if(/^wireless5g2/.test(e))return!0},!1),o.device.getConfig().supportWifi6E||a.quickSetupModel.toggleFields(function(e){if(/^wireless6g/.test(e))return!0},!1),""==o.device.getConfig().support5GQuickSetupBW160?(a.quickSetupModel.toggleFields(/^wireless5gHtmode/,!1),o.device.getIsTriband()&&a.quickSetupModel.toggleFields(/^wireless5g2Htmode/,!1)):(a.quickSetupModel.wireless5gHtmode.setValue("80"),o.device.getIsTriband()&&a.quickSetupModel.wireless5g2Htmode.setValue("80"),"on"===t&&(a.quickSetupModel.wireless5gHtmode.setValue("160"),o.device.getIsTriband()&&"FCC"==o.device.getConfig().support5GQuickSetupBW160&&a.quickSetupModel.wireless5g2Htmode.setValue("160"))),this.preloadSummary(function(){a.quickSetupModel.submit(e||{success:function(){i.goTo("qsSummary")}})})},preloadSummary:function(e){o.moduleLoader.load({module:"quickSetup"},{module:"qsSummary"},t.quickSetupView.qsSummaryLoader,function(){e&&e()}),p.push("qsSummary")},preLoadCloudAndTether:function(e){p.push("qsCloudAndTether"),o.moduleLoader.load({module:"quickSetup"},{module:"qsCloudAndTether"},t.quickSetupView.qsCloudAndTetherLoader,function(){e&&e()})},detectUpgradeLv:function(t){t=t||i.skipUpgrade,o.ajax.request({proxy:"onlineUpgradeProxy",data:{operation:"read"},success:function(e){i.upgradeDetail=e.detail.replace(/\\\\/g,"&#92;").replace(/\\n/g,"<br>"),e.latest_flag?t():i.goTo("qsFwUpgrade")},fail:t,error:t})},skipUpgrade:function(){i.upgradeState="noUpgrade",i.submitQsWirelssData({success:function(){i.goTo("qsSummary")}})}}})}(jQuery),$.su.modelManager.define("quickSetupModel",{type:"model",fields:[{name:"regionCountry",mapping:"region_country"},{name:"ispSpecialCfgChanged",mapping:"isp_special_cfg_changed"},{name:"ispSpecialEnable",mapping:"isp_special_enable"},{name:"ispSpecialIgmpEnable",mapping:"isp_special_igmp_enable"},{name:"ispSpecialIgmpSnoopingEnable",mapping:"isp_special_igmp_snooping_enable"},{name:"ispSpecialIgmpVersion",mapping:"isp_special_igmp_version"},{name:"ispSpecialInternetTag",mapping:"isp_special_internet_tag"},{name:"ispSpecialInternetVid",mapping:"isp_special_internet_vid"},{name:"ispSpecialInternetVprio",mapping:"isp_special_internet_vprio"},{name:"ispSpecialIpphoneVid",mapping:"isp_special_ipphone_vid"},{name:"ispSpecialIpphoneVprio",mapping:"isp_special_ipphone_vprio"},{name:"ispSpecialIptvVid",mapping:"isp_special_iptv_vid"},{name:"ispSpecialIptvVprio",mapping:"isp_special_iptv_vprio"},{name:"ispSpecialMciptvEnable",mapping:"isp_special_mciptv_enable"},{name:"ispSpecialMciptvVid",mapping:"isp_special_mciptv_vid"},{name:"ispSpecialMciptvVprio",mapping:"isp_special_mciptv_vprio"},{name:"ispSpecialMcwifiEnable",mapping:"isp_special_mcwifi_enable"},{name:"ispSpecialMode",mapping:"isp_special_mode"},{name:"ispSpecialQosIptvCompatible",mapping:"isp_special_qos_iptv_compatible"},{name:"ispSpecialWaitTime",mapping:"isp_special_wait_time"},{name:"ispSpecialPorttype",mapping:"isp_special_porttype"},{name:"networkAutodetect",mapping:"network_autodetect"},{name:"networkConntype",mapping:"network_conntype"},{name:"networkDhcpConnStatus",mapping:"network_dhcp_conn_status"},{name:"networkDhcpConntype",mapping:"network_dhcp_conntype"},{name:"networkDhcpDnsMode",mapping:"network_dhcp_dns_mode"},{name:"networkDhcpDynPridns",mapping:"network_dhcp_dyn_pridns"},{name:"networkDhcpDynSnddns",mapping:"network_dhcp_dyn_snddns"},{name:"networkDhcpGateway",mapping:"network_dhcp_gateway"},{name:"networkDhcpHostname",mapping:"network_dhcp_hostname"},{name:"networkDhcpIpaddr",mapping:"network_dhcp_ipaddr"},{name:"networkDhcpLinkStatus",mapping:"network_dhcp_link_status"},{name:"networkDhcpMacCloneType",mapping:"network_dhcp_mac_clone_type"},{name:"networkDhcpMacCustom",mapping:"network_dhcp_mac_custom"},{name:"networkDhcpManualPridns",mapping:"network_dhcp_manual_pridns"},{name:"networkDhcpManualSnddns",mapping:"network_dhcp_manual_snddns"},{name:"networkDhcpMtu",mapping:"network_dhcp_mtu"},{name:"networkDhcpNetmask",mapping:"network_dhcp_netmask"},{name:"networkDhcpPppshare",mapping:"network_dhcp_pppshare"},{name:"networkDhcpPriDns",mapping:"network_dhcp_pri_dns"},{name:"networkDhcpSndDns",mapping:"network_dhcp_snd_dns"},{name:"networkDhcpUnicast",mapping:"network_dhcp_unicast"},{name:"networkL2tpConnMode",mapping:"network_l2tp_conn_mode"},{name:"networkL2tpConnStatus",mapping:"network_l2tp_conn_status"},{name:"networkL2tpConntype",mapping:"network_l2tp_conntype"},{name:"networkL2tpDemandIdle",mapping:"network_l2tp_demand_idle"},{name:"networkL2tpDynGateway",mapping:"network_l2tp_dyn_gateway"},{name:"networkL2tpDynIp",mapping:"network_l2tp_dyn_ip"},{name:"networkL2tpDynNetmask",mapping:"network_l2tp_dyn_netmask"},{name:"networkL2tpDynPridns",mapping:"network_l2tp_dyn_pridns"},{name:"networkL2tpDynServer",mapping:"network_l2tp_dyn_server"},{name:"networkL2tpDynSnddns",mapping:"network_l2tp_dyn_snddns"},{name:"networkL2tpInetIp",mapping:"network_l2tp_inet_ip"},{name:"networkL2tpInetPridns",mapping:"network_l2tp_inet_pridns"},{name:"networkL2tpInetSnddns",mapping:"network_l2tp_inet_snddns"},{name:"networkL2tpLinkStatus",mapping:"network_l2tp_link_status"},{name:"networkL2tpManualIdle",mapping:"network_l2tp_manual_idle"},{name:"networkL2tpMtu",mapping:"network_l2tp_mtu"},{name:"networkL2tpPassword",mapping:"network_l2tp_password"},{name:"networkL2tpPppshare",mapping:"network_l2tp_pppshare"},{name:"networkL2tpSndConn",mapping:"network_l2tp_snd_conn"},{name:"networkL2tpStaticGateway",mapping:"network_l2tp_static_gateway"},{name:"networkL2tpStaticIp",mapping:"network_l2tp_static_ip"},{name:"networkL2tpStaticNetmask",mapping:"network_l2tp_static_netmask"},{name:"networkL2tpStaticPridns",mapping:"network_l2tp_static_pridns"},{name:"networkL2tpStaticServer",mapping:"network_l2tp_static_server"},{name:"networkL2tpStaticSnddns",mapping:"network_l2tp_static_snddns"},{name:"networkL2tpUsername",mapping:"network_l2tp_username"},{name:"networkPppoeUsername",mapping:"network_pppoe_username"},{name:"networkPppoeAccess",mapping:"network_pppoe_access"},{name:"networkPppoeConnMode",mapping:"network_pppoe_conn_mode"},{name:"networkPppoeConnStatus",mapping:"network_pppoe_conn_status"},{name:"networkPppoeConntype",mapping:"network_pppoe_conntype"},{name:"networkPppoeDemandIdle",mapping:"network_pppoe_demand_idle"},{name:"networkPppoeDnsMode",mapping:"network_pppoe_dns_mode"},{name:"networkPppoeDynIp",mapping:"network_pppoe_dyn_ip"},{name:"networkPppoeDynNetmask",mapping:"network_pppoe_dyn_netmask"},{name:"networkPppoeDynPridns",mapping:"network_pppoe_dyn_pridns"},{name:"networkPppoeDynSnddns",mapping:"network_pppoe_dyn_snddns"},{name:"networkPppoeInetIp",mapping:"network_pppoe_inet_ip"},{name:"networkPppoeInetPridns",mapping:"network_pppoe_inet_pridns"},{name:"networkPppoeInetSnddns",mapping:"network_pppoe_inet_snddns"},{name:"networkPppoeInterval",mapping:"network_pppoe_interval"},{name:"networkPppoeIpMode",mapping:"network_pppoe_ip_mode"},{name:"networkPppoeLinkStatus",mapping:"network_pppoe_link_status"},{name:"networkPppoeManualIdle",mapping:"network_pppoe_manual_idle"},{name:"networkPppoeMtu",mapping:"network_pppoe_mtu"},{name:"networkPppoePassword",mapping:"network_pppoe_password"},{name:"networkPppoePppshare",mapping:"network_pppoe_pppshare"},{name:"networkPppoeServer",mapping:"network_pppoe_server"},{name:"networkPppoeSndConn",mapping:"network_pppoe_snd_conn"},{name:"networkPppoeSpecificIp",mapping:"network_pppoe_specific_ip"},{name:"networkPppoeStaticIp",mapping:"network_pppoe_static_ip"},{name:"networkPppoeStaticNetmask",mapping:"network_pppoe_static_netmask"},{name:"networkPppoeStaticPridns",mapping:"network_pppoe_static_pridns"},{name:"networkPppoeStaticSnddns",mapping:"network_pppoe_static_snddns"},{name:"networkPppoeTimeEnd",mapping:"network_pppoe_time_end"},{name:"networkPptpConnMode",mapping:"network_pptp_conn_mode"},{name:"networkPptpConnStatus",mapping:"network_pptp_conn_status"},{name:"networkPptpConntype",mapping:"network_pptp_conntype"},{name:"networkPptpDemandIdle",mapping:"network_pptp_demand_idle"},{name:"networkPptpDynGateway",mapping:"network_pptp_dyn_gateway"},{name:"networkPptpDynIp",mapping:"network_pptp_dyn_ip"},{name:"networkPptpDynNetmask",mapping:"network_pptp_dyn_netmask"},{name:"networkPptpDynPridns",mapping:"network_pptp_dyn_pridns"},{name:"networkPptpDynServer",mapping:"network_pptp_dyn_server"},{name:"networkPptpDynSnddns",mapping:"network_pptp_dyn_snddns"},{name:"networkPptpInetIp",mapping:"network_pptp_inet_ip"},{name:"networkPptpInetPridns",mapping:"network_pptp_inet_pridns"},{name:"networkPptpInetSnddns",mapping:"network_pptp_inet_snddns"},{name:"networkPptpLinkStatus",mapping:"network_pptp_link_status"},{name:"networkPptpManualIdle",mapping:"network_pptp_manual_idle"},{name:"networkPptpMtu",mapping:"network_pptp_mtu"},{name:"networkPptpPassword",mapping:"network_pptp_password"},{name:"networkPptpPppshare",mapping:"network_pptp_pppshare"},{name:"networkPptpSndConn",mapping:"network_pptp_snd_conn"},{name:"networkPptpStaticGateway",mapping:"network_pptp_static_gateway"},{name:"networkPptpStaticIp",mapping:"network_pptp_static_ip"},{name:"networkPptpStaticNetmask",mapping:"network_pptp_static_netmask"},{name:"networkPptpStaticPridns",mapping:"network_pptp_static_pridns"},{name:"networkPptpStaticServer",mapping:"network_pptp_static_server"},{name:"networkPptpStaticSnddns",mapping:"network_pptp_static_snddns"},{name:"networkPptpUsername",mapping:"network_pptp_username"},{name:"networkDsliteDynMode",mapping:"network_dslite_dynamic_mode"},{name:"networkDsliteAftrName",mapping:"network_dslite_AFTR_name"},{name:"networkStaticConnStatus",mapping:"network_static_conn_status"},{name:"networkStaticConntype",mapping:"network_static_conntype"},{name:"networkStaticGateway",mapping:"network_static_gateway"},{name:"networkStaticIpaddr",mapping:"network_static_ipaddr"},{name:"networkStaticLinkStatus",mapping:"network_static_link_status"},{name:"networkStaticMtu",mapping:"network_static_mtu"},{name:"networkStaticNetmask",mapping:"network_static_netmask"},{name:"networkStaticPppshare",mapping:"network_static_pppshare"},{name:"networkStaticPriDns",mapping:"network_static_pri_dns"},{name:"networkStaticSndDns",mapping:"network_static_snd_dns"},{name:"regionCapability",mapping:"region_capability"},{name:"regionRegionSelectPermission",mapping:"region_region_select_permission"},{name:"regionSupportSmartConnect",mapping:"region_support_smart_connect"},{name:"regionSupportWirelessSchedule",mapping:"region_support_wireless_schedule"},{name:"timeDate",mapping:"time_date"},{name:"timeDay",mapping:"time_day"},{name:"timeHour24Enable",mapping:"time_hour24_enable"},{name:"timeHour24Support",mapping:"time_hour24_support"},{name:"timeNtpSvr1",mapping:"time_ntp_svr1"},{name:"timeNtpSvr2",mapping:"time_ntp_svr2"},{name:"timeQuicksetup",mapping:"time_quicksetup"},{name:"timeTime",mapping:"time_time"},{name:"timeTimezone",mapping:"time_timezone",allowBlank:!1},{name:"timeType",mapping:"time_type"},{name:"wireType",mapping:"wire_type"},{name:"wirelessSmartEnable",mapping:"smart_connect_smart_enable"},{name:"wireless2gAirtimeFairness",mapping:"wireless_2g_airtime_fairness"},{name:"wireless2gChannel",mapping:"wireless_2g_channel"},{name:"wireless2gCurrentChannel",mapping:"wireless_2g_current_channel"},{name:"wireless2gDisabled",mapping:"wireless_2g_disabled"},{name:"wireless2gDisabledAll",mapping:"wireless_2g_disabled_all"},{name:"wireless2gEnable",mapping:"wireless_2g_enable"},{name:"wireless2gEncryPassword",mapping:"wireless_2g_encry_password"},{name:"wireless2gEncryption",mapping:"wireless_2g_encryption"},{name:"wireless2gExtinfo",mapping:"wireless_2g_extinfo"},{name:"wireless2gHtmode",mapping:"wireless_2g_htmode"},{name:"wireless2gHwmode",mapping:"wireless_2g_hwmode"},{name:"wireless2gMacaddr",mapping:"wireless_2g_macaddr"},{name:"wireless2gMuMimo",mapping:"wireless_2g_mu_mimo"},{name:"wireless2gPort",mapping:"wireless_2g_port"},{name:"wireless2gPskCipher",mapping:"wireless_2g_psk_cipher"},{name:"wireless2gPskKey",mapping:"wireless_2g_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless2gPskVersion",mapping:"wireless_2g_psk_version"},{name:"wireless2gServer",mapping:"wireless_2g_server"},{name:"wireless2gSsid",mapping:"wireless_2g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless2gTxpower",mapping:"wireless_2g_txpower"},{name:"wireless2gWdsStatus",mapping:"wireless_2g_wds_status"},{name:"wireless2gWepFormat1",mapping:"wireless_2g_wep_format1"},{name:"wireless2gWepFormat2",mapping:"wireless_2g_wep_format2"},{name:"wireless2gWepFormat3",mapping:"wireless_2g_wep_format3"},{name:"wireless2gWepFormat4",mapping:"wireless_2g_wep_format4"},{name:"wireless2gWepKey1",mapping:"wireless_2g_wep_key1"},{name:"wireless2gWepKey2",mapping:"wireless_2g_wep_key2"},{name:"wireless2gWepKey3",mapping:"wireless_2g_wep_key3"},{name:"wireless2gWepKey4",mapping:"wireless_2g_wep_key4"},{name:"wireless2gWepMode",mapping:"wireless_2g_wep_mode"},{name:"wireless2gWepSelect",mapping:"wireless_2g_wep_select"},{name:"wireless2gWepType1",mapping:"wireless_2g_wep_type1"},{name:"wireless2gWepType2",mapping:"wireless_2g_wep_type2"},{name:"wireless2gWepType3",mapping:"wireless_2g_wep_type3"},{name:"wireless2gWepType4",mapping:"wireless_2g_wep_type4"},{name:"wireless2gWpaCipher",mapping:"wireless_2g_wpa_cipher"},{name:"wireless2gWpaKey",mapping:"wireless_2g_wpa_key"},{name:"wireless2gWpaVersion",mapping:"wireless_2g_wpa_version"},{name:"wireless2gWpsState",mapping:"wireless_2g_wps_state"},{name:"wireless5g2AirtimeFairness",mapping:"wireless_5g_2_airtime_fairness"},{name:"wireless5g2Channel",mapping:"wireless_5g_2_channel"},{name:"wireless5g2CurrentChannel",mapping:"wireless_5g_2_current_channel"},{name:"wireless5g2Disabled",mapping:"wireless_5g_2_disabled"},{name:"wireless5g2DisabledAll",mapping:"wireless_5g_2_disabled_all"},{name:"wireless5g2Enable",mapping:"wireless_5g_2_enable"},{name:"wireless5g2EncryPassword",mapping:"wireless_5g_2_encry_password"},{name:"wireless5g2Encryption",mapping:"wireless_5g_2_encryption"},{name:"wireless5g2regionEnable",mapping:"wireless_5g_2_region_enable"},{name:"wireless5g2Extinfo",mapping:"wireless_5g_2_extinfo"},{name:"wireless5g2Htmode",mapping:"wireless_5g_2_htmode"},{name:"wireless5g2Hwmode",mapping:"wireless_5g_2_hwmode"},{name:"wireless5g2Macaddr",mapping:"wireless_5g_2_macaddr"},{name:"wireless5g2MuMimo",mapping:"wireless_5g_2_mu_mimo"},{name:"wireless5g2Port",mapping:"wireless_5g_2_port"},{name:"wireless5g2PskCipher",mapping:"wireless_5g_2_psk_cipher"},{name:"wireless5g2PskKey",mapping:"wireless_5g_2_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless5g2PskVersion",mapping:"wireless_5g_2_psk_version"},{name:"wireless5g2Server",mapping:"wireless_5g_2_server"},{name:"wireless5g2Ssid",mapping:"wireless_5g_2_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless5g2Hidden",mapping:"wireless_5g_2_hidden"},{name:"wireless5g2Txpower",mapping:"wireless_5g_2_txpower"},{name:"wireless5g2WdsStatus",mapping:"wireless_5g_2_wds_status"},{name:"wireless5g2WepFormat1",mapping:"wireless_5g_2_wep_format1"},{name:"wireless5g2WepFormat2",mapping:"wireless_5g_2_wep_format2"},{name:"wireless5g2WepFormat3",mapping:"wireless_5g_2_wep_format3"},{name:"wireless5g2WepFormat4",mapping:"wireless_5g_2_wep_format4"},{name:"wireless5g2WepKey1",mapping:"wireless_5g_2_wep_key1"},{name:"wireless5g2WepKey2",mapping:"wireless_5g_2_wep_key2"},{name:"wireless5g2WepKey3",mapping:"wireless_5g_2_wep_key3"},{name:"wireless5g2WepKey4",mapping:"wireless_5g_2_wep_key4"},{name:"wireless5g2WepMode",mapping:"wireless_5g_2_wep_mode"},{name:"wireless5g2WepSelect",mapping:"wireless_5g_2_wep_select"},{name:"wireless5g2WepType1",mapping:"wireless_5g_2_wep_type1"},{name:"wireless5g2WepType2",mapping:"wireless_5g_2_wep_type2"},{name:"wireless5g2WepType3",mapping:"wireless_5g_2_wep_type3"},{name:"wireless5g2WepType4",mapping:"wireless_5g_2_wep_type4"},{name:"wireless5g2WpaCipher",mapping:"wireless_5g_2_wpa_cipher"},{name:"wireless5g2WpaKey",mapping:"wireless_5g_2_wpa_key"},{name:"wireless5g2WpaVersion",mapping:"wireless_5g_2_wpa_version"},{name:"wireless5g2WpsState",mapping:"wireless_5g_2_wps_state"},{name:"wireless6gAirtimeFairness",mapping:"wireless_6g_airtime_fairness"},{name:"wireless6gChannel",mapping:"wireless_6g_channel"},{name:"wireless6gCurrentChannel",mapping:"wireless_6g_current_channel"},{name:"wireless6gDisabled",mapping:"wireless_6g_disabled"},{name:"wireless6gDisabledAll",mapping:"wireless_6g_disabled_all"},{name:"wireless6gEnable",mapping:"wireless_6g_enable"},{name:"wireless6gEncryPassword",mapping:"wireless_6g_encry_password"},{name:"wireless6gEncryption",mapping:"wireless_6g_encryption"},{name:"wireless6gregionEnable",mapping:"wireless_6g_region_enable"},{name:"wireless6gExtinfo",mapping:"wireless_6g_extinfo"},{name:"wireless6gHtmode",mapping:"wireless_6g_htmode"},{name:"wireless6gHwmode",mapping:"wireless_6g_hwmode"},{name:"wireless6gMacaddr",mapping:"wireless_6g_macaddr"},{name:"wireless6gMuMimo",mapping:"wireless_6g_mu_mimo"},{name:"wireless6gPort",mapping:"wireless_6g_port"},{name:"wireless6gPskCipher",mapping:"wireless_6g_psk_cipher"},{name:"wireless6gPskKey",mapping:"wireless_6g_psk_key",allowBlank:!1,vtype:"wpa3_password"},{name:"wireless6gPskVersion",mapping:"wireless_6g_psk_version"},{name:"wireless6gServer",mapping:"wireless_6g_server"},{name:"wireless6gSsid",mapping:"wireless_6g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless6gHidden",mapping:"wireless_6g_hidden"},{name:"wireless6gTxpower",mapping:"wireless_6g_txpower"},{name:"wireless6gWdsStatus",mapping:"wireless_6g_wds_status"},{name:"wireless6gWepFormat1",mapping:"wireless_6g_wep_format1"},{name:"wireless6gWepFormat2",mapping:"wireless_6g_wep_format2"},{name:"wireless6gWepFormat3",mapping:"wireless_6g_wep_format3"},{name:"wireless6gWepFormat4",mapping:"wireless_6g_wep_format4"},{name:"wireless6gWepKey1",mapping:"wireless_6g_wep_key1"},{name:"wireless6gWepKey2",mapping:"wireless_6g_wep_key2"},{name:"wireless6gWepKey3",mapping:"wireless_6g_wep_key3"},{name:"wireless6gWepKey4",mapping:"wireless_6g_wep_key4"},{name:"wireless6gWepMode",mapping:"wireless_6g_wep_mode"},{name:"wireless6gWepSelect",mapping:"wireless_6g_wep_select"},{name:"wireless6gWepType1",mapping:"wireless_6g_wep_type1"},{name:"wireless6gWepType2",mapping:"wireless_6g_wep_type2"},{name:"wireless6gWepType3",mapping:"wireless_6g_wep_type3"},{name:"wireless6gWepType4",mapping:"wireless_6g_wep_type4"},{name:"wireless6gWpaCipher",mapping:"wireless_6g_wpa_cipher"},{name:"wireless6gWpaKey",mapping:"wireless_6g_wpa_key"},{name:"wireless6gWpaVersion",mapping:"wireless_6g_wpa_version"},{name:"wireless6gWpsState",mapping:"wireless_6g_wps_state"},{name:"wireless5gAirtimeFairness",mapping:"wireless_5g_airtime_fairness"},{name:"wireless5gChannel",mapping:"wireless_5g_channel"},{name:"wireless5gCurrentChannel",mapping:"wireless_5g_current_channel"},{name:"wireless5gDisabled",mapping:"wireless_5g_disabled"},{name:"wireless5gDisabledAll",mapping:"wireless_5g_disabled_all"},{name:"wireless5gEnable",mapping:"wireless_5g_enable"},{name:"wireless5gEncryPassword",mapping:"wireless_5g_encry_password"},{name:"wireless5gEncryption",mapping:"wireless_5g_encryption"},{name:"wireless5gRegionEnable",mapping:"wireless_5g_region_enable"},{name:"wireless5gExtinfo",mapping:"wireless_5g_extinfo"},{name:"wireless5gHtmode",mapping:"wireless_5g_htmode"},{name:"wireless5gHwmode",mapping:"wireless_5g_hwmode"},{name:"wireless5gMacaddr",mapping:"wireless_5g_macaddr"},{name:"wireless5gMuMimo",mapping:"wireless_5g_mu_mimo"},{name:"wireless5gPort",mapping:"wireless_5g_port"},{name:"wireless5gPskCipher",mapping:"wireless_5g_psk_cipher"},{name:"wireless5gPskKey",mapping:"wireless_5g_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless5gPskVersion",mapping:"wireless_5g_psk_version"},{name:"wireless5gServer",mapping:"wireless_5g_server"},{name:"wireless5gSsid",mapping:"wireless_5g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless5gTxpower",mapping:"wireless_5g_txpower"},{name:"wireless5gWdsStatus",mapping:"wireless_5g_wds_status"},{name:"wireless5gWepFormat1",mapping:"wireless_5g_wep_format1"},{name:"wireless5gWepFormat2",mapping:"wireless_5g_wep_format2"},{name:"wireless5gWepFormat3",mapping:"wireless_5g_wep_format3"},{name:"wireless5gWepFormat4",mapping:"wireless_5g_wep_format4"},{name:"wireless5gWepKey1",mapping:"wireless_5g_wep_key1"},{name:"wireless5gWepKey2",mapping:"wireless_5g_wep_key2"},{name:"wireless5gWepKey3",mapping:"wireless_5g_wep_key3"},{name:"wireless5gWepKey4",mapping:"wireless_5g_wep_key4"},{name:"wireless5gWepMode",mapping:"wireless_5g_wep_mode"},{name:"wireless5gWepSelect",mapping:"wireless_5g_wep_select"},{name:"wireless5gWepType1",mapping:"wireless_5g_wep_type1"},{name:"wireless5gWepType2",mapping:"wireless_5g_wep_type2"},{name:"wireless5gWepType3",mapping:"wireless_5g_wep_type3"},{name:"wireless5gWepType4",mapping:"wireless_5g_wep_type4"},{name:"wireless5gWpaCipher",mapping:"wireless_5g_wpa_cipher"},{name:"wireless5gWpaKey",mapping:"wireless_5g_wpa_key"},{name:"wireless5gWpaVersion",mapping:"wireless_5g_wpa_version"},{name:"wireless5gWpsState",mapping:"wireless_5g_wps_state"},{name:"enable5g1Bw160",defaultValue:"on"},{name:"wanPortStatus",mapping:"network_port_wan_port_status"},{name:"autoUpdate",mapping:"auto_upgrade_enable",defaultValue:"on"},{name:"autoUpdateTime",mapping:"auto_upgrade_time",defaultValue:3}],preventSuccessEvent:!0,preventErrorEvent:!0,convert:function(e){return"no"===e.time_quicksetup?(e.time_timezone="",e.auto_upgrade_enable=""):""===e.auto_upgrade_enable&&(e.auto_upgrade_enable="on"),e},serialize:function(e){var t,n={network_port_wan_port_status:"",region_country:"",time_timezone:"",network_conntype:"",isp_special_mode:"",isp_special_internet_vid:"",isp_special_internet_vprio:"",isp_special_ipphone_vid:"",isp_special_ipphone_vprio:"",isp_special_iptv_vid:"",isp_special_iptv_vprio:"",isp_special_internet_tag:"",isp_special_mciptv_enable:"",isp_special_mciptv_vid:"",isp_special_mciptv_vprio:"",isp_special_enable:"",isp_special_porttype:"",network_dhcp_mac_clone_type:"",network_dhcp_mac_custom:"",network_static_ipaddr:"",network_static_netmask:"",network_static_gateway:"",network_static_pri_dns:"",network_static_snd_dns:"",network_pppoe_username:"",network_pppoe_password:"",network_l2tp_username:"",network_l2tp_password:"",network_l2tp_snd_conn:"",network_l2tp_dyn_server:"",network_l2tp_static_server:"",network_l2tp_static_ip:"",network_l2tp_static_netmask:"",network_l2tp_static_gateway:"",network_l2tp_static_pridns:"",network_l2tp_static_snddns:"",network_pptp_username:"",network_pptp_password:"",network_pptp_snd_conn:"",network_pptp_dyn_server:"",network_pptp_static_server:"",network_pptp_static_ip:"",network_pptp_static_netmask:"",network_pptp_static_gateway:"",network_pptp_static_pridns:"",network_pptp_static_snddns:"",network_dslite_dynamic_mode:"",network_dslite_AFTR_name:"",smart_connect_smart_enable:"",wireless_2g_enable:"",wireless_2g_ssid:"",wireless_2g_encry_password:"",wireless_2g_psk_key:"",wireless_2g_psk_cipher:"",wireless_2g_psk_version:"",wireless_2g_encryption:"",wireless_2g_disabled_all:"",wireless_5g_enable:"",wireless_5g_ssid:"",wireless_5g_encry_password:"",wireless_5g_psk_key:"",wireless_5g_psk_cipher:"",wireless_5g_psk_version:"",wireless_5g_encryption:"",wireless_5g_region_enable:"",wireless_5g_disabled_all:"",wireless_5g_2_enable:"",wireless_5g_2_ssid:"",wireless_5g_2_encry_password:"",wireless_5g_2_psk_key:"",wireless_5g_2_psk_cipher:"",wireless_5g_2_psk_version:"",wireless_5g_2_encryption:"",wireless_5g_2_region_enable:"",wireless_5g_2_disabled_all:"",wireless_6g_enable:"",wireless_6g_ssid:"",wireless_6g_encry_password:"",wireless_6g_psk_key:"",wireless_6g_psk_cipher:"",wireless_6g_psk_version:"",wireless_6g_encryption:"",wireless_6g_region_enable:"",wireless_6g_disabled_all:"",wireless_5g_htmode:"",wireless_5g_2_htmode:"",username:"",password:"",auto_upgrade_enable:"",auto_upgrade_time:""};for(t in n)n.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(n[t]=e[t]),""!==n[t]&&null!==n[t]||delete n[t];return n},proxy:{url:$.su.url("/admin/quick_setup?form=quick_setup")}}),$.su.storeManager.define("workModeStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"content"},{name:"checked"}],data:[{boxlabel:$.su.CHAR.QUICK_SETUP.ROUTER_MODE,value:"router",content:".router-mode-intro"},{boxlabel:$.su.CHAR.QUICK_SETUP.AP_MODE,value:"ap",content:".ap-mode-intro"}]}),$.su.storeManager.define("quickSetupSteps",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"content"},{name:"checked"}],data:[{boxlabel:"Rooouter",value:"router",content:"#router-mode-intro"},{boxlabel:"Appp",value:"ap",content:"#ap-mode-intro"},{boxlabel:"Cli",value:"client",content:"#client-mode-intro"}]}),$.su.modelManager.define("qsSummaryModel",{type:"model",fields:[{name:"type"},{name:"timeZone"},{name:"date"},{name:"time"},{name:"connectionType"},{name:"ispProfile",convert:function(e){return{"ExStream":$.su.CHAR.NETWORK_IPTV.SINGAPORE_SINGTEL,"Unifi":$.su.CHAR.NETWORK_IPTV.MALAYSIA_UNIFI,"Maxis":$.su.CHAR.NETWORK_IPTV.MALAYSIA_MAXIS,"Maxis2":$.su.CHAR.NETWORK_IPTV.MALAYSIA_MAXIS2,"Vietnam":$.su.CHAR.NETWORK_IPTV.VIETNAM_VIETTEL,"MEO":$.su.CHAR.NETWORK_IPTV.PORTUGAL_MEO,"VDF":$.su.CHAR.NETWORK_IPTV.PORTUGAL_VODAFONE,"nbn":$.su.CHAR.NETWORK_IPTV.AUSTRALIA_NBN,"ufb":$.su.CHAR.NETWORK_IPTV.NEWZEALAND_UFB,"Bridge":$.su.CHAR.NETWORK_IPTV.BRIDGE,"Custom":$.su.CHAR.NETWORK_IPTV.CUSTOM,"none":$.su.CHAR.NETWORK_IPTV.NONE}[e]}}]}),$.su.define("physicalConnectionProxy",{extend:"IPFProxy",url:$.su.url("/admin/status?form=internet"),writeFilter:function(e){return $.extend({operation:"read"},e)}}),$.su.define("portConnectionProxy",{extend:"IPFProxy",preventSuccessEvent:!0,preventFailEvent:!0,url:$.su.url("/admin/status?form=router"),writeFilter:function(e){return $.extend({operation:"read"},e)}}),$.su.define("qsCheckInternetProxy",{extend:"IPFProxy",preventSuccessEvent:!0,preventFailEvent:!0,url:$.su.url("/admin/quick_setup?form=check_internet"),writeFilter:function(e){return $.extend({operation:"read"},e)}}),$.su.define("qsGetDeviceInfoProxy",{extend:"IPFProxy",url:$.su.url("/admin/cloud_account?form=get_deviceInfo"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0}),$.su.define("qsWanCableDetectProxy",{extend:"IPFProxy",url:$.su.url("/admin/status?form=wan_cable_match_stat"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,writeFilter:function(e){return $.extend({operation:"read_match"},e)}}),$.su.define("qsDualNatDetectProxy",{extend:"IPFProxy",url:$.su.url("/admin/status?form=wan_dual_nat_state"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,writeFilter:function(e){return $.extend({operation:"read"},e)}}),function(l){l.su.moduleManager.define("qsAutoUpdate",{deps:["quickSetup"],models:["quickSetupModel"],views:["qsAutoUpdateView"],stores:["autoUpdateStore","autoUpdateTimeStore"],services:["ajax","device"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){t.enableAutoUpdateData();for(var o=[],p=0;p<11;p++)o.push({name:p+":00AM to "+(p+2)+":00AM",value:p});o.push({name:"11:00AM to 1:00PM",value:11});for(p=0;p<11;p++)o.push({name:p+":00PM to "+(p+2)+":00PM",value:p+12});o.push({name:"11:00PM to 1:00AM",value:23}),i.autoUpdateTimeStore.loadData(o);t=s.quickSetupModel.autoUpdate.getValue();"on"==t?n.qsAutoUpdateView.autoUpdateField.show():(n.qsAutoUpdateView.autoUpdateField.hide(),t||l("#qs-auto-update-next-step-btn").addClass("disabled"))}},init:function(n,s,i,e,a,t){this.control({"#qs-auto-update-next-step-btn":{"ev_button_click":function(){var e=i.quickSetupModel.autoUpdate.getValue(),t="on"==e||"off"==e&&a.quickSetup.noInternet||a.quickSetup.skipFlag?n.skipUpgrade:a.quickSetup.detectUpgradeLv;s.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!0),a.quickSetup.submitAutoUpdateData({success:function(){s.qsAutoUpdateView.qsAutoUpdateBackBtn.enable(),t()},fail:function(){s.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1)},error:function(){s.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1)}})}},"#qs-auto-update-before-step-btn":{"ev_button_click":function(){a.quickSetup.skipFlag?a.quickSetup.isSupportSetPort()?a.quickSetup.goTo("qsSelectInternetPort"):a.quickSetup.goTo("qsChooseInternetType"):a.quickSetup.goTo("qsWirelessSetting")}}}),this.listen({"models.quickSetupModel.autoUpdate":{"ev_value_change":function(e,t){"on"==t?s.qsAutoUpdateView.autoUpdateField.show():s.qsAutoUpdateView.autoUpdateField.hide(),l("#qs-auto-update-next-step-btn").removeClass("disabled")}}})}},function(e,t,n,s,i,a){return{skipUpgrade:function(){i.quickSetup.upgradeState="noUpgrade",i.quickSetup.preloadSummary(function(){i.quickSetup.submitQsWirelssData({success:function(){t.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1),i.quickSetup.goTo("qsSummary")},fail:function(){t.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1)},error:function(){t.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1)}})})},enableAutoUpdateData:function(){n.quickSetupModel.autoUpdate.enable(),n.quickSetupModel.autoUpdateTime.enable()}}})}(jQuery),$.su.storeManager.define("autoUpdateStore",{type:"store",fields:[{name:"value"},{name:"boxlabel"}],data:[{value:"on",boxlabel:$.su.CHAR.QUICK_SETUP.TURN_ON_AUTO},{value:"off",boxlabel:$.su.CHAR.QUICK_SETUP.NOT_NOW}]}),$.su.storeManager.define("autoUpdateTimeStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[]}),jQuery.su.moduleManager.define("qsCheckPhysicalConn",{services:[],deps:["quickSetup"],stores:[],views:["qsCheckPhysicalConnView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){}},init:function(e,t,n,s,i,a){this.control({"#qs-check-physical-conn-button":{"ev_button_click":function(){i.quickSetup.checkPhysicalConn(function(e){e&&i.quickSetup.goTo("qsChooseInternetType")})}}}),this.listen()}},function(e,t,n,s,i,a){return{}}),function(p){p.su.moduleManager.define("qsChooseInternetType",{services:["moduleManager","moduleLoader","device"],deps:["quickSetup","main"],models:["qsInternetConnTypeDetectModel","quickSetupModel","ipv4Status","qsSummaryModel"],stores:["qsInternetConnTypeStore"],views:["qsChooseInternetTypeView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){i.qsInternetConnTypeStore.load({data:{operation:"read"},success:function(){s.quickSetupModel.networkConntype.loadItems(i.qsInternetConnTypeStore.getData())}}),t.checkPortConn(),t.initBtnView(),1==r.device.getConfig().supportSelectPort?n.qsChooseInternetTypeView.internetDisconnNote.setText(p.su.CHAR.QUICK_SETUP.INTERNET_DISCONNECT_NOTE_SEL):n.qsChooseInternetTypeView.internetDisconnNote.setText(p.su.CHAR.QUICK_SETUP.INTERNET_DISCONNECT_NOTE)}},init:function(n,t,s,e,i,a){var r={"dslite":p.su.CHAR.NETWORK_INTERNET.DSLITE_WARNING,"v6plus":p.su.CHAR.NETWORK_INTERNET.V6_PLUS_WARNING,"ocn":p.su.CHAR.NETWORK_INTERNET.OCN_WARNING};this.configViews({id:"qsChooseInternetTypeView",items:[{id:"qs-disconnect1-img","img-src":n.setImageSrc("qs.qs",1)},{id:"qs-disconnect2-img","img-src":n.setImageSrc("qs.qs",2)}]}),this.control({"#qs-choose-internet-type-next-btn":{"ev_button_click":function(){var e=function(){s.qsSummaryModel.connectionType.setValue(s.quickSetupModel.networkConntype.getSelectedText()),n.goNext()},t=r[s.quickSetupModel.networkConntype.getValue()];t?i.main.confirm(n.getUnavialModuleHtml(t),e,null,p.su.CHAR.OPERATION.OK):e()}},"#qs-choose-internet-type-prev-btn":{"ev_button_click":function(){n.goBack()}},"#qs-choose-internet-auto-detect-btn":{"ev_button_click":function(){n.startDetectConnectType()}},"#qs-disconnect-retry-btn":{"ev_button_click":function(){t.qsChooseInternetTypeView.retryButton.loading(!0),i.quickSetup.checkPhysicalConn(function(e){t.qsChooseInternetTypeView.retryButton.loading(!1),e&&(s.ipv4Status.load({success:function(e){s.quickSetupModel.networkConntype.setValue(e.conntype)}}),t.qsChooseInternetTypeView.selectConnectTypePanel.show(),t.qsChooseInternetTypeView.internetDisconnectPanel.hide())})}},"#qs-port-disconnect-retry-btn":{"ev_button_click":function(){t.qsChooseInternetTypeView.retryPortButton.loading(!0),i.quickSetup.checkPhysicalConn(function(e){t.qsChooseInternetTypeView.retryPortButton.loading(!1),e&&(t.qsChooseInternetTypeView.selectConnectTypePanel.show(),t.qsChooseInternetTypeView.internetDisconnectPanel.hide())})}},"#qs-port-disconnect-back-btn":{"ev_button_click":function(){n.goBack()}},"#qs-disconnect-skip-btn":{"ev_button_click":function(){i.quickSetup.skipFlag=!0,s.qsSummaryModel.connectionType.setValue(s.quickSetupModel.networkConntype.getSelectedText()),i.quickSetup.goTo("qsWirelessSetting")}}}),this.listen({})}},function(i,a,r,e,n,o){i=this;return{internetType:null,detectInterval:null,firstDetectFlag:!1,getUnavialModuleHtml:function(e){for(var t=o.moduleManager.get("navigatorController").getV6DsliteHiddenName(),n=0,s=t.length,i="";n<s;n++)i+="<p>"+t[n]+"</p>";return e+i},initBtnView:function(){(n.quickSetup.isSupportSetPort()?(p("#qs-port-disconnect-btn-container").removeClass("hidden"),p("#qs-disconnect-btn-container")):(p("#qs-disconnect-btn-container").removeClass("hidden"),p("#qs-port-disconnect-btn-container"))).addClass("hidden")},goNext:function(){var e=r.quickSetupModel.networkConntype.getValue(),t=o.moduleManager.get("qsInternetEdit");r.quickSetupModel.networkConntype.setValue(e),t&&this.internetType!==e&&t.showInternetType(e),this.internetType=e,n.quickSetup.skipFlag=!1,n.quickSetup.goTo("qsInternetEdit")},goBack:function(){n.quickSetup.isSupportSetPort()?n.quickSetup.goTo("qsSelectInternetPort"):n.quickSetup.goTo("qsSetTimezone")},checkPortConn:function(){n.quickSetup.getPhysicalConnStatus()?(r.ipv4Status.load({success:function(e){r.quickSetupModel.networkConntype.setValue(e.conntype)}}),a.qsChooseInternetTypeView.selectConnectTypePanel.show(),a.qsChooseInternetTypeView.internetDisconnectPanel.hide()):(a.qsChooseInternetTypeView.selectConnectTypePanel.hide(),a.qsChooseInternetTypeView.internetDisconnectPanel.show())},startDetectConnectType:function(){var t,n,s=0;clearInterval(i.detectInterval),a.qsChooseInternetTypeView.autoDetectBtn.disable(),a.qsChooseInternetTypeView.autoDetectProcessbar.hide(),r.qsInternetConnTypeDetectModel.getProxy().detect({success:function(e){t=e.time,n=e.time/1e3,a.qsChooseInternetTypeView.autoDetectResult.hide(),a.qsChooseInternetTypeView.autoDetectProcessbar.show(),a.qsChooseInternetTypeView.autoDetectProcessbar.animate({duration:t,percentageStart:0,percentageEnd:100}),i.detectInterval=setInterval(function(){i.continueDetectConnectType({success:function(e){if("unplugged"===e.conntype)clearInterval(i.detectInterval),a.qsChooseInternetTypeView.autoDetectProcessbar.reset(),a.qsChooseInternetTypeView.autoDetectProcessbar.hide(),a.qsChooseInternetTypeView.autoDetectResult.setText(p.su.CHAR.BASIC_INTERNET.UNPLUGGED),a.qsChooseInternetTypeView.autoDetectResult.show();else if("none"===e.conntype)a.qsChooseInternetTypeView.autoDetectResult.setText(p.su.CHAR.QUICK_SETUP.NONE),n<=s&&(clearInterval(i.detectInterval),a.qsChooseInternetTypeView.autoDetectProcessbar.reset(),a.qsChooseInternetTypeView.autoDetectProcessbar.hide(),a.qsChooseInternetTypeView.autoDetectResult.show());else{clearInterval(i.detectInterval),a.qsChooseInternetTypeView.autoDetectProcessbar.reset(),a.qsChooseInternetTypeView.autoDetectProcessbar.hide();var t="";switch(e.conntype){case"dhcp":t=p.su.CHAR.QUICK_SETUP.DYNAMIC_IP;break;case"static":t=p.su.CHAR.QUICK_SETUP.STATIC_IP;break;case"pppoe":t=p.su.CHAR.QUICK_SETUP.PPPOE;break;case"l2tp":t=p.su.CHAR.QUICK_SETUP.L2TP;break;case"pptp":t=p.su.CHAR.QUICK_SETUP.PPTP;break;case"dslite":t=p.su.CHAR.QUICK_SETUP.DSLITE;break;case"v6plus":t=p.su.CHAR.QUICK_SETUP.V6_PLUS;break;case"ocn":t=p.su.CHAR.QUICK_SETUP.OCN;break;default:t=p.su.CHAR.QUICK_SETUP.NONE}a.qsChooseInternetTypeView.autoDetectResult.setText(t),a.qsChooseInternetTypeView.autoDetectResult.show(),r.quickSetupModel.networkConntype.setValue(e.conntype)}},fail:function(){n<=++s&&(clearInterval(i.detectInterval),a.qsChooseInternetTypeView.autoDetectProcessbar.reset(),a.qsChooseInternetTypeView.autoDetectProcessbar.hide(),a.qsChooseInternetTypeView.autoDetectBtn.enable())},error:function(){n<=++s&&(clearInterval(i.detectInterval),a.qsChooseInternetTypeView.autoDetectProcessbar.reset(),a.qsChooseInternetTypeView.autoDetectProcessbar.hide(),a.qsChooseInternetTypeView.autoDetectBtn.enable())}}),a.qsChooseInternetTypeView.autoDetectBtn.enable()},1e3)},fail:function(){a.qsChooseInternetTypeView.autoDetectBtn.enable()},error:function(){a.qsChooseInternetTypeView.autoDetectBtn.enable()}})},continueDetectConnectType:function(e){var t,n,s;e&&(t=e.success,n=e.fail,s=e.error),r.qsInternetConnTypeDetectModel.getProxy().read({success:function(e){t&&t(e)},fail:function(e){n&&n(e)},error:function(e){s&&s(e)}})},setImageSrc:function(e,t){return e+(t+(n.quickSetup.isSupportSetPort()?2:0))}}})}(jQuery),function(){$.su.modelManager.define("qsInternetConnTypeDetectModel",{type:"model",fields:[{name:"time"},{name:"conntype"}],proxy:"qsInternetConnTypeDetectProxy"}),$.su.define("qsInternetConnTypeDetectProxy",{extend:"IPFProxy",url:$.su.url("/admin/network?form=wan_autodetect"),api:{detect:{writeFilter:function(e){return $.extend({operation:"detect"},e)}},read:{writeFilter:function(e){return $.extend({operation:"read"},e)}}}});var a={"dhcp":{boxlabel:$.su.CHAR.QUICK_SETUP.DYNAMIC_IP,value:"dhcp",content:"<p>"+$.su.CHAR.QUICK_SETUP.DYNAMIC_INTRO+"</p>"},"static":{boxlabel:$.su.CHAR.QUICK_SETUP.STATIC_IP,value:"static",content:"<p>"+$.su.CHAR.QUICK_SETUP.STATIC_INTRO+"</p>"},"pppoe":{boxlabel:$.su.CHAR.QUICK_SETUP.PPPOE,value:"pppoe",content:"<p>"+$.su.CHAR.QUICK_SETUP.PPPOE_INTRO+"</p>"},"l2tp":{boxlabel:$.su.CHAR.QUICK_SETUP.L2TP,value:"l2tp",content:"<p>"+$.su.CHAR.QUICK_SETUP.L2TP_INTRO+"</p>"},"pptp":{boxlabel:$.su.CHAR.QUICK_SETUP.PPTP,value:"pptp",content:"<p>"+$.su.CHAR.QUICK_SETUP.PPTP_INTRO+"</p>"},"dslite":{boxlabel:$.su.CHAR.NETWORK_INTERNET.DSLITE,value:"dslite",content:"<p>"+$.su.CHAR.NETWORK_INTERNET.DSLITE_INTRO+"</p>"},"v6plus":{boxlabel:$.su.CHAR.NETWORK_INTERNET.V6_PLUS,value:"v6plus",content:"<p>"+$.su.CHAR.NETWORK_INTERNET.V6_PLUS_INTRO+"</p>"},"ocn":{boxlabel:$.su.CHAR.NETWORK_INTERNET.OCN,value:"ocn",content:"<p>"+$.su.CHAR.NETWORK_INTERNET.OCN_INTRO+"</p>"}};$.su.storeManager.define("qsInternetConnTypeStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"content"},{name:"checked"}],data:[],convert:function(e){for(var t,n=[],s=e.length,i=0;i<s;i++)(t=a[e[i].value])&&n.push(t);return n},proxy:{url:$.su.url("/admin/network?form=wan_ipv4_protos")}})}(),jQuery.su.moduleManager.define("qsCloudAndTether",{services:["moduleLoader","moduleManager","ajax","device"],models:["quickSetupModel"],deps:["quickSetup","main"],views:["qsCloudAndTetherView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){n.qsCloudAndTetherView.wifisharing5g2.hide(),n.qsCloudAndTetherView.wifisharing6g.hide();s=s.quickSetupModel.getData();t.goToTpLogin(),null!==s.wireless2gSsid&&this.syncWifiSharingData(s),"on"==s.wirelessSmartEnable&&(n.qsCloudAndTetherView.wifisharing5g1.hide(),n.qsCloudAndTetherView.wifisharing5g2.hide()),r.ajax.request({proxy:"firmwareProxy",method:"write",data:{upgraded:!1}}),a.main.upgraded=!1}},init:function(e,t,n,s,i,a){this.control({"#qs-quit-button":{"ev_button_click":function(){i.quickSetup.quit()}}}),this.listen({"models.quickSetupModel":{"ev_loaded":function(){var e=n.quickSetupModel.getData();this.syncWifiSharingData(e)}}})}},function(e,u,t,n,s,c){return{goToTpLogin:function(){c.moduleLoader.load({module:"qsCloudAndTether"},{module:"tpLinkCloud",view:"tpLinkCloudViewQs"},u.qsCloudAndTetherView.tpLoginLoader,function(){u.qsCloudAndTetherView.qsCloudBtnAndQrcode.show(),s.quickSetup.showModule("qsCloudAndTether"),c.moduleManager.get("tpLinkCloud").setMode("qs")})},showLoading:function(){s.main.showMask(),u.qsCloudAndTetherView.pageLoadingSd.show()},hideLoading:function(){s.main.hideMask(),u.qsCloudAndTetherView.pageLoadingSd.hide()},syncWifiSharingData:function(e){var t,n,s=e.wireless2gSsid;switch(e.wireless2gEncryption){case"psk":case"psk_sae":t=e.wireless2gPskKey,n=e.wireless2gEncryption;break;case"wpa":t=e.wireless2gWpaKey,n="wpa";break;case"wep":t=e.wireless2gWepKey1,n="wep";break;default:t="",n="none"}u.qsCloudAndTetherView.wifisharing24g.setValue({ssid:s,password:t,security:n});var i,a,s=e.wireless5gSsid;switch(e.wireless5gEncryption){case"psk":case"psk_sae":i=e.wireless5gPskKey,a=e.wireless5gEncryption;break;case"wpa":i=e.wireless5gWpaKey,a="wpa";break;case"wep":i=e.wireless5gWepKey1,a="wep";break;default:i="",a="none"}if(u.qsCloudAndTetherView.wifisharing5g1.setValue({ssid:s,password:i,security:a}),1==c.device.getConfig().isTriband&&1!=c.device.getConfig().supportWifi6E){u.qsCloudAndTetherView.wifisharing5g2.show();var r,o,s=e.wireless5g2Ssid;switch(e.wireless5g2Encryption){case"psk":case"psk_sae":r=e.wireless5g2PskKey,o=e.wireless5g2Encryption;break;case"wpa":r=e.wireless5g2WpaKey,o="wpa";break;case"wep":r=e.wireless5g2WepKey1,o="wep";break;default:r="",o="none"}u.qsCloudAndTetherView.wifisharing5g2.setValue({ssid:s,password:r,security:o})}if(1==c.device.getConfig().supportWifi6E){u.qsCloudAndTetherView.wifisharing6g.show();var p,l,s=e.wireless6gSsid;switch(e.wireless6gEncryption){case"psk":case"psk_sae":p=e.wireless6gPskKey,l=e.wireless6gEncryption;break;case"owe":p="",l=e.wireless6gEncryption;break;default:p="",l="none"}u.qsCloudAndTetherView.wifisharing6g.setValue({ssid:s,password:p,security:l})}},showCloudEle:function(){u.qsCloudAndTetherView.qsSkipBtn.show(),u.qsCloudAndTetherView.qrcodeField.show()},hideCloudEle:function(){u.qsCloudAndTetherView.qsSkipBtn.hide(),u.qsCloudAndTetherView.qrcodeField.hide()},refreshTpLogin:function(){c.moduleManager.get("tpLinkCloud").init()}}}),function(r){r.su.moduleManager.define("qsDualNatDetect",{services:[],stores:["routerModeStore"],deps:["quickSetup"],models:["routerModeModel"],views:["qsDualNatDetectView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){s.routerModeModel.reset(),n.qsDualNatDetectView.qsNatIssueNextBtn.disable()}},init:function(e,s,t,n,i,a){this.control({"#issue-detected-next-btn":{"ev_button_click":function(){switch(s.qsDualNatDetectView.issueDetecedPanel.hide(),r(".issue-detected-btn-field").hide(),r(".fix-issue-btn-field").show(),t.routerModeModel.mode.getValue()){case"independent":s.qsDualNatDetectView.fixIssuePanel.hide(),s.qsDualNatDetectView.recommendPanel.show();break;case"combined":s.qsDualNatDetectView.recommendPanel.hide(),s.qsDualNatDetectView.fixIssuePanel.show()}}},"#issue-detected-none":{"ev_button_click":e.goNext},"#qs-fix-issue-next-step-btn":{"ev_button_click":e.goNext},"#qs-fix-issue-back-step-btn":{"ev_button_click":function(){s.qsDualNatDetectView.fixIssuePanel.hide(),s.qsDualNatDetectView.recommendPanel.hide(),s.qsDualNatDetectView.issueDetecedPanel.show(),r(".fix-issue-btn-field").hide(),r(".issue-detected-btn-field").show()}}}),this.listen({"models.routerModeModel.mode":{"ev_value_change":function(e,t,n){n||s.qsDualNatDetectView.qsNatIssueNextBtn.enable()}}})}},function(e,t,n,s,i,a){return{goNext:function(){"upgradeSucceed"===i.quickSetup.upgradeState?window.location.href="/":i.quickSetup.cloudBindFlag||i.quickSetup.skipFlag||i.quickSetup.noInternet?i.quickSetup.quit():i.quickSetup.preLoadCloudAndTether()}}})}(jQuery),$.su.modelManager.define("routerModeModel",{type:"model",fields:[{name:"mode"}]}),$.su.storeManager.define("routerModeStore",{type:"store",fields:[{name:"value"},{name:"boxlabel"},{name:"content"}],data:[{value:"independent",boxlabel:$.su.CHAR.QUICK_SETUP.INDEPENDENT_ROUTER,content:".dual-nat-independent"},{value:"combined",boxlabel:$.su.CHAR.QUICK_SETUP.COMBINED_ROUTER,content:".dual-nat-combined"}]}),function(r){r.su.moduleManager.define("qsFwUpgrade",{deps:["quickSetup"],services:["ajax","moduleLoader","moduleManager","device"],views:["qsFwUpgradeView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){this.showUpgradeInfo()}},init:function(e,t,n,s,i,a){this.control({".upgrade-btn":{"ev_button_click":function(){e.startUpgrade()}},".qs-skip-btn":{"ev_button_click":function(){sessionStorage.setItem("upgradeToken",localStorage.getItem("token")),i.quickSetup.upgradeState="noUpgrade",i.quickSetup.submitQsWirelssData()}}})}},function(e,n,t,s,i,a){return{showUpgradeInfo:function(){var e=i.quickSetup.upgradeDetail;n.qsFwUpgradeView.qsFwUpgradeTitle.show(),n.qsFwUpgradeView.upgradeNote1.setText(e),n.qsFwUpgradeView.upgradeNote3.setText(e),a.ajax.request({proxy:"upgradeReadProxy",method:"read",success:function(e){var t;3==e.type?(t=r.su.CHAR.NETWORK_MAP.ROUTER,a.ajax.request({proxy:"qsGetDeviceInfoProxy",method:"read",ajax:{"async":!1},success:function(e){t=e.model}}),n.qsFwUpgradeView.upgradeMsg3Notice.setText(r.su.CHAR.UPGRADE.NOTICE_IMPORTANT.replace("%model%",t)),n.qsFwUpgradeView.upgradeMsg3.show()):0!=e.type&&1!=e.type&&2!=e.type&&""!==e.type||n.qsFwUpgradeView.upgradeMsg1.show()},fail:i.quickSetup.skipUpgrade,error:i.quickSetup.skipUpgrade})},startUpgrade:function(){n.qsFwUpgradeView.upgradeMsg1.hide(),n.qsFwUpgradeView.upgradeMsg3.hide(),a.moduleLoader.load({module:"qsFwUpgrade"},{module:"firmware",view:"firmwareQsView"},n.qsFwUpgradeView.qsFirmwareUpgradeLoader,function(){var e=a.moduleManager.get("firmware");e.setMode("qs"),e.startOnlineUpgrade()})}}})}(jQuery),function(r){r.su.moduleManager.define("qsInternetConnection",{services:["ajax"],models:["quickSetupModel"],deps:["quickSetup","main","qsChooseInternetType"],views:["qsInternetConnectionView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){n.qsInternetConnectionView.creating.show(),this.startCreateInternetConn()}},init:function(e,t,n,s,i,a){this.configViews({id:"qsInternetConnectionView",items:[{id:"internet-conn-note",title:r.su.CHAR.QUICK_SETUP.TRY_FOLLOW,items:[{text:r.su.CHAR.QUICK_SETUP.TRY_1},{text:r.su.CHAR.QUICK_SETUP.TRY_2},{text:r.su.CHAR.QUICK_SETUP.TRY_3}]}]}),this.control({"#internet-create":{"ev_button_click":e.startCreateInternetConn},"#internet-create-go-back":{"ev_button_click":function(){i.quickSetup.goTo("qsChooseInternetType")}},"#internet-create-skip":{"ev_button_click":function(){i.quickSetup.isAutoUpdate()?i.quickSetup.goTo("qsAutoUpdate"):i.quickSetup.submitQsWirelssData()}}})}},function(n,s,e,t,i,a){n=this;return{checkInternetTime:9e4,startCreateInternetConn:function(){var e,t;s.qsInternetConnectionView.creating.show(),s.qsInternetConnectionView.mainContent.hide(),s.qsInternetConnectionView.creatingProgressbar.reset(),n.createInternetConn({success:function(){e=n.startCheckRouter(),r.when(e).then(function(){return t=n.startCheckInternet()}).done(function(){s.qsInternetConnectionView.creatingProgressbar.setValue(100),i.quickSetup.noInternet=!1,i.quickSetup.exitMsgNum=2,setTimeout(function(){n.startCheckCloud(function(){i.quickSetup.isAutoUpdate()?i.quickSetup.goTo("qsAutoUpdate"):i.quickSetup.detectUpgradeLv()})},1e3)}).fail(function(){i.quickSetup.noInternet=!0,n.showWarningPage()})},fail:function(){i.quickSetup.noInternet=!0,s.qsInternetConnectionView.creatingProgressbar.stop(),n.showWarningPage()},error:function(){e=n.startCheckRouter(),r.when(e).then(function(){return t=n.startCheckInternet()}).done(function(){s.qsInternetConnectionView.creatingProgressbar.setValue(100),i.quickSetup.noInternet=!1,i.quickSetup.exitMsgNum=2,setTimeout(function(){n.startCheckCloud(function(){i.quickSetup.isAutoUpdate()?i.quickSetup.goTo("qsAutoUpdate"):i.quickSetup.detectUpgradeLv(n.skipUpgrade)})},1e3)}).fail(function(){i.quickSetup.noInternet=!0,n.showWarningPage()})}}),s.qsInternetConnectionView.creatingProgressbar.animate({percentageStart:0,percentageEnd:100,duration:n.checkInternetTime,callback:function(){e.reject(),t&&t.reject()}})},startCheckCloud:function(e){var t=r.Deferred();n.checkCloud({success:function(e){i.quickSetup.cloudBindFlag=e.isbind,t.resolve()},fail:function(){i.quickSetup.cloudBindFlag=!1,t.resolve()},error:function(){i.quickSetup.cloudBindFlag=!1,t.resolve()}}),r.when(t).done(function(){e()})},showWarningPage:function(){s.qsInternetConnectionView.creating.hide(),s.qsInternetConnectionView.mainContent.show(),i.main.hideMask()},createInternetConn:function(e){var t,n;e&&(t=e.success,n=e.fail,errorCallback=e.error),i.quickSetup.submitQuickSetupData({success:function(e){setTimeout(function(){t&&t(e)},3e4)},fail:function(){setTimeout(function(){n&&n()},3e4)},error:function(){setTimeout(function(){errorCallback&&errorCallback()},3e4)}})},startCheckRouter:function(){var e=r.Deferred();return function t(){a.ajax.request({proxy:"checkRouterProxy",success:function(){e.resolve()},fail:function(){"pending"===e.state()&&setTimeout(t,1e3)},error:function(){"pending"===e.state()&&setTimeout(t,1e3)}})}(),e},startCheckInternet:function(){var t=r.Deferred();return function n(){a.ajax.request({proxy:"checkInternetProxy",success:function(e){t.resolve()},fail:function(e){"pending"===t.state()&&setTimeout(n,1e3)},error:function(e){"pending"===t.state()&&setTimeout(n,1e3)}})}(),t},checkCloud:function(e){var t,n,s;e&&(t=e.success,n=e.fail,s=e.error),a.ajax.request({proxy:"cloudBindStatusProxy",method:"read",success:function(e){t&&t(e)},fail:function(e){n&&n(e)},error:function(e){s&&s(e)}})},remindToConnect:function(e,t){"restart"===e?(this.finishProgress(),s.qsInternetConnectionView.qsConnectNote.setText(r.su.CHAR.QUICK_SETUP.PLEASE_CONNECT),n.remindMode="restart",i.main.startReboot(t,function(){localStorage&&localStorage.setItem("token",""),s.qsInternetConnectionView.summaryWarningMsg.show()},r.su.CHAR.FIRMWARE.UPGRADE_PROCESS_TIP)):s.qsInternetConnectionView.summaryWarningMsg.show(),i.main.hideMask()},finishProgress:function(){s.qsInternetConnectionView.creatingProgressbar.animate({percentageStart:66,percentageEnd:100,duration:1e3})}}})}(jQuery),function(r){r.su.moduleManager.define("qsInternetEdit",{services:["moduleLoader","moduleManager"],stores:[],deps:["quickSetup","qsChooseInternetType","internet","iptvVlanAdv"],models:["quickSetupModel"],views:["qsInternetEditView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){(t=this).loadIPTVModule(),r.moduleLoader.load({module:"qsInternetEdit"},{module:"internet",view:"internetViewQs"},n.qsInternetEditView.internetLoader,function(){var e=r.moduleManager.get("internet"),e=(e.setMode(e.MODE.QUICK_SETUP),r.moduleManager.get("qsChooseInternetType").internetType);t.showInternetType(e)})}},init:function(n,s,e,t,i,a){this.control({"#qs-internet-edit-before-step-btn":{"ev_button_click":function(){i.quickSetup.goTo("qsChooseInternetType")}},"#qs-internet-edit-next-step-btn":{"ev_button_click":function(){var e=i.internet.syncQsData(),t=i.iptvVlanAdv.syncQsData();!1!==e&&t&&r.when(e).done(function(){n.detectLanOccupied()?(s.qsInternetEditView.qsInternetEditNormal.hide(),s.qsInternetEditView.qsInternetEditOccupied.show()):i.quickSetup.goTo("qsWirelessSetting")})}},"#qs-lan-occupied-back":{"ev_button_click":function(){s.qsInternetEditView.qsInternetEditNormal.show(),s.qsInternetEditView.qsInternetEditOccupied.hide()}},"#qs-lan-occupied-next":{"ev_button_click":function(){s.qsInternetEditView.qsLanOccupiedBtn.loading(),n.detectLanOccupied()||i.quickSetup.goTo("qsWirelessSetting"),s.qsInternetEditView.qsLanOccupiedBtn.loading(!1)}}}),this.listen()}},function(e,t,s,n,i,a){return{"showInternetType":function(e){a.moduleManager.get("internet").responseInternetTypeValueChange(e)},loadIPTVModule:function(){a.moduleLoader.load({module:"qsChooseInternetType"},{module:"iptvVlanAdv",view:"iptvVlanView"},t.qsInternetEditView.iptvLoader,function(){var e,t=a.moduleManager.get("iptvVlanAdv"),n=(t.setMode(t.MODE.QUICK_SETUP),s.quickSetupModel.ispSpecialEnable.getValue());t.startup(e="off"===n?"none":e)})},detectLanOccupied:function(){return!1}}})}(jQuery),jQuery.su.moduleManager.define("qsNetworkSelect",{services:[],stores:["networkSelectStore"],views:["qsNetworkSelectView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){i.networkSelectStore.load()}},init:function(e,t,n,s,i,a){this.control(),this.listen()}},function(e,t,n,s,i,a){return{}}),$.su.storeManager.define("networkSelectStore",{type:"store",fields:[{name:"wireType"},{name:"ssid"},{name:"signal"},{name:"mac"},{name:"security"}],convert:function(e){var n=[];return $.each(e.ap2g,function(e,t){t.wireType="2g",n.push(t)}),$.each(e.ap5g,function(e,t){t.wireType="5g",n.push(t)}),n},proxy:{url:"./data/quickset.scan.json",timeout:15e3}}),function(o){o.su.moduleManager.define("qsSelectInternetPort",{views:["qsSelectInternetPortView"],models:["quickSetupModel"],deps:["quickSetup"],services:["moduleManager","device"],stores:["portTypeStore","portTypeWithIllStore"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){o("#qs_internet_port").hide(),o("#qs_internet_port_with_ill_wrapper").hide(),(!0===r.device.getConfig().supportGamingSelectPort?o("#qs_internet_port_with_ill_wrapper"):o("#qs_internet_port")).show()}},init:function(t,e,n,s,i,a){this.listen(),this.control({"#qs-port-before-step-btn":{"ev_button_click":function(){t.goBack()}},"#qs-port-next-step-btn":{"ev_button_click":function(){i.quickSetup.checkPhysicalConn(function(){var e=a.moduleManager.get("qsChooseInternetType");e&&e.checkPortConn(),t.goNext()})}}})}},function(e,t,n,s,i,a){return{goBack:function(){i.quickSetup.goTo("qsSetTimezone")},goNext:function(){i.quickSetup.goTo("qsChooseInternetType")}}})}(jQuery),function(r){r.su.moduleManager.define("qsSetPassword",{services:[],deps:["quickSetup"],models:["setPasswordModel","setPasswordModelControl","localLogin"],stores:[],views:["qsSetPasswordView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){t=this;a.quickSetup.trigger("ev_start_set_pwd"),n.qsSetPasswordView.setPwdConfirmBtn.disable(),s.localLogin.load({success:function(e){t.firstLoginKey=e.password}})}},init:function(t,n,e,s,i,a){this.control({"#set-pwd-confirm-btn":{"ev_button_click":function(e){t.comparePassword()&&t.doSetPassword({success:function(){i.quickSetup.trigger("ev_end_set_pwd"),i.quickSetup.goTo("qsChooseInternetType")}})}},"#password-textbox":{"ev_password_blur":function(e){t.comparePassword()?n.qsSetPasswordView.setPwdConfirmBtn.enable():n.qsSetPasswordView.setPwdConfirmBtn.disable()}},"#confirm-textbox":{"ev_password_blur":function(e){t.comparePassword()?n.qsSetPasswordView.setPwdConfirmBtn.enable():n.qsSetPasswordView.setPwdConfirmBtn.disable()}}}),this.listen({})}},function(t,a,n,e,s,i){t=this;return{firstLoginKey:[],comparePassword:function(){var e=n.setPasswordModel.password.getValue(),t=n.setPasswordModel.confirm.getValue();return!(!e||!t)&&(e===t?(n.setPasswordModel.confirm.setCorrect(),!0):(n.setPasswordModel.confirm.setError(r.su.CHAR.ERROR["00000080"]),!1))},doSetPassword:function(e){e&&(s=e.success,e.fail);var s,e=n.setPasswordModel.password.doEncrypt(t.firstLoginKey);n.setPasswordModelControl.password.setValue(e),n.setPasswordModelControl.confirm.setValue(!0),n.setPasswordModelControl.getProxy().login({data:n.setPasswordModelControl.getData(),success:function(e){var t,n=e.stok||(e="12345",t=window.location.href,n=t.indexOf("stok="),e=0<=n?t.substring(n+5):e);localStorage&&localStorage.setItem("token",n),s&&s()},fail:function(e){var t,n,s,i=e.data;switch(e.errorcode){case"user conflict":a.qsSetPasswordView.userConflictMsg.show();break;case"login failed":t=i.failureCount,n=i.attemptsAllowed,n<=t?(s=(s=r.su.CHAR.QUICK_SETUP.LOGIN_FAILED_COUNT.replace("%num1",t)).replace("%num2",n),a.qsSetPasswordView.loginFailMsg.setContent(s),a.qsSetPasswordView.loginFailMsg.show()):a.qsSetPasswordView.setPwdConfirmBtn.setError(r.su.CHAR.QUICK_SETUP.LOGIN_FAILED);break;case"exceeded max attempts":t=i.failureCount,n=i.attemptsAllowed,s=r.su.CHAR.ERROR["00000089"].replace("%num",n+t),a.qsSetPasswordView.maxAttemptsMsg.setContent(s),a.qsSetPasswordView.maxAttemptsMsg.show();break;case"have set":s=r.su.CHAR.ERROR["10000195"],a.qsSetPasswordView.haveSetMsg.show()}}})}}})}(jQuery),function(t){t.su.modelManager.define("setPasswordModel",{type:"model",fields:[{name:"password",maxLength:15,minLength:1,vtype:"ascii_visible",allowBlank:!1},{name:"confirm",maxLength:15,minLength:1,vtype:"ascii_visible",allowBlank:!1}]}),t.su.modelManager.define("setPasswordModelControl",{type:"model",fields:[{name:"password"},{name:"confirm"}],proxy:"setPasswordProxy"}),t.su.define("setPasswordProxy",{extend:"IPFProxy",url:t.su.url("/login?form=initial_login"),api:{login:{writeFilter:function(e){return t.extend({operation:"login"},e)}}}})}(jQuery),function(r){r.su.moduleManager.define("qsSetSystemTime",{deps:["quickSetup"],views:["qsSetSystemTimeView"],models:["quickSetupModel","qsSummaryModel"],stores:["timezoneStore","setSystemTimeTypeStore"],services:["time"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){n.qsSetSystemTimeView.qsSystemTimeField2.hide(),r.time.on("on_time_change",t.onTimeChange)},"ev_before_destroy":function(e,t){t.beforeDestroy()}},init:function(e,n,t,s,i,a){this.control({"#qs-set-time":{"click":function(e){n.qsSetSystemTimeView.qsSystemTimeField1.hide(),n.qsSetSystemTimeView.qsSystemTimeField2.show()}},"#qs-start-now-btn":{"ev_button_click":function(e){i.quickSetup.isSupportSetPort()?i.quickSetup.goTo("qsSelectInternetPort"):i.quickSetup.goTo("qsChooseInternetType")}}}),this.listen({"models.quickSetupModel.type":{"ev_value_change":function(e,t){n.qsSetSystemTimeView.qsSystemTimeType1.hide(),n.qsSetSystemTimeView.qsSystemTimeType2.hide(),n.qsSetSystemTimeView.qsSystemTimeType3.hide(),"pc"==t?n.qsSetSystemTimeView.qsSystemTimeType1.show():"auto"==t?n.qsSetSystemTimeView.qsSystemTimeType2.show():"manual"==t&&n.qsSetSystemTimeView.qsSystemTimeType3.show()}}})}},function(e,s,t,n,i,a){e=this;return{onTimeChange:function(e,t){var n=a.time.getHour24(),t=a.time.format(t,"yyyy-MM-dd HH:mm:ss",n);s.qsSetSystemTimeView.systemTime1.setText(t),s.qsSetSystemTimeView.systemTime2.setText(r.su.CHAR.QUICK_SETUP.WELCOME_NOTE_4.replace("%t",t))},beforeDestroy:function(){a.time.off("on_time_change",e.onTimeChange)}}})}(jQuery),$.su.storeManager.define("setSystemTimeTypeStore",{type:"store",fields:[{name:"value"},{name:"boxlabel"}],data:[{value:"pc",boxlabel:$.su.CHAR.QUICK_SETUP.SYNC_WITH_DEVICE},{value:"auto",boxlabel:$.su.CHAR.QUICK_SETUP.SYNC_WITH_INTERNET},{value:"manual",boxlabel:$.su.CHAR.QUICK_SETUP.SET_IT_MYSELF}]}),jQuery.su.moduleManager.define("qsSetTimezone",{services:[],deps:["quickSetup"],models:["quickSetupModel","timeSettings","qsSummaryModel"],stores:["timezoneStore"],views:["qsSetTimezoneView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){}},init:function(e,t,n,s,i,a){this.control({"#set-tz-confirm-btn":{"ev_button_click":function(e){n.quickSetupModel.timeTimezone.validate()&&(n.qsSummaryModel.timeZone.setValue(n.quickSetupModel.timeTimezone.getText()),i.quickSetup.isSupportSetPort()?i.quickSetup.goTo("qsSelectInternetPort"):i.quickSetup.goTo("qsChooseInternetType"))}}}),this.listen({})}},function(e,t,n,s,i,a){return{}}),function(f){f.su.moduleManager.define("qsSummary",{services:["ajax","moduleManager","device"],models:["quickSetupModel","qsSummaryModel","iptvVlan"],deps:["quickSetup"],views:["qsSummaryView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){var o=a.quickSetup.getQuickSetupData(),p=""!=r.device.getConfig().support5GQuickSetupBW160&&"on"==s.quickSetupModel.enable5g1Bw160.getValue(),l=o.wireType||"wired",u=a.quickSetup.noInternet,c=a.quickSetup.upgradeState,a=a.quickSetup.skipFlag,d=f.su.CHAR.QUICK_SETUP.TITLE1,g=f.su.CHAR.QUICK_SETUP.TITLE2,_=f.su.CHAR.QUICK_SETUP.DESCRIPT1,w=f.su.CHAR.QUICK_SETUP.DESCRIPT2,m=p?f.su.CHAR.QUICK_SETUP.DESCRIPT3_160MHZ:f.su.CHAR.QUICK_SETUP.DESCRIPT3,S=f.su.CHAR.QUICK_SETUP.DESCRIPT4,k=p?f.su.CHAR.QUICK_SETUP.DESCRIPT5_160MHZ:f.su.CHAR.QUICK_SETUP.DESCRIPT5,q=n.qsSummaryView.summaryPanel,y=n.qsSummaryView.qsSummaryDescription;if(n.qsSummaryView.qsSummaryWanCableNote.hide(),n.qsSummaryView.qsSummaryDualNatNote.hide(),p&&n.qsSummaryView.qsSummary160MHZDescription.show(),r.device.getConfig().supportWanCableDetect&&r.ajax.request({proxy:"qsWanCableDetectProxy",success:function(e){"mismatch"==e.match_status&&n.qsSummaryView.qsSummaryWanCableNote.show()}}),r.device.getConfig().supportDualNatDetect&&r.ajax.request({proxy:"qsDualNatDetectProxy",success:function(e){"1"==e.wan_dual_nat&&(t.dualNatDetected=!0,n.qsSummaryView.qsSummaryDualNatNote.show())}}),r.device.getIsTriband()&&!r.device.getConfig().supportWifi6E?(n.qsSummaryView.qsWireless5g2Cont.show(),s.quickSetupModel.wireless5gEnable.setLabelField(f.su.CHAR.WIRELESS_SETTINGS.MODE_5G1)):n.qsSummaryView.qsWireless5g2Cont.hide(),r.device.getConfig().supportWifi6E?n.qsSummaryView.qsWireless6gCont.show():n.qsSummaryView.qsWireless6gCont.hide(),a||u)s.qsSummaryModel.connectionType.hide(),"wired"===l?(q.setTitle(g),y.setText(S)):(q.setTitle(g),y.setText(k));else switch(s.qsSummaryModel.connectionType.show(),c){case"noUpgrade":"wired"===l?(q.setTitle(d),y.setText(w)):(q.setTitle(d),y.setText(m));break;case"upgradeFailed":"wired"===l?(q.setTitle(g),y.setText(w)):(q.setTitle(g),y.setText(m));break;case"upgradeSucceed":q.setTitle(d),y.setText(_)}t.setQsSummary(),t.toggleIptvView(o),this.showPassword()}},init:function(e,s,t,n,i,a){this.control({"#summary-next-btn":{"ev_button_click":function(){s.qsSummaryView.qsSummaryNextBtn.loading(),f.when(e.checkRouterConnection()).done(function(){e.dualNatDetected?i.quickSetup.goTo("qsDualNatDetect"):"upgradeSucceed"===i.quickSetup.upgradeState?window.location.href="/":i.quickSetup.cloudBindFlag||i.quickSetup.skipFlag||i.quickSetup.noInternet?(s.qsSummaryView.qsSummaryNextBtn.loading(!1),i.quickSetup.quit()):i.quickSetup.preLoadCloudAndTether()}).fail(function(){s.qsSummaryView.summaryPanel.hideTitle(),s.qsSummaryView.qsSummaryDescription.setText(f.su.CHAR.QUICK_SETUP.DESCRIPT6),s.qsSummaryView.qsSummaryNextBtn.loading(!1)})}}}),this.listen({"models.quickSetupModel.wanPortStatus":{"ev_value_change":function(e,t,n){s.qsSummaryView["ispSpecialLan4"].setLabelField("1000WAN"===t?f.su.CHAR.NETWORK_MAP.PORT_2500LAN:f.su.CHAR.NETWORK_MAP.PORT_1000LAN)}}})}},function(e,i,a,t,r,n){return{dualNatDetected:!1,toggleIptvView:function(e){"off"===e.ispSpecialEnable||r.quickSetup.skipFlag?i.qsSummaryView.iptvFieldset.hide():i.qsSummaryView.iptvFieldset.show()},setQsSummary:function(){if(a.iptvVlan.ports.getValue()){var e,t=a.iptvVlan.ports.getValue().split(" "),n=a.iptvVlan.porttype.getValue();r.quickSetup.isSupportSetPort()&&(e="1000WAN"===a.quickSetupModel.wanPortStatus.getValue()?f.su.CHAR.NETWORK_MAP.PORT_2500LAN:f.su.CHAR.NETWORK_MAP.PORT_1000LAN,i.qsSummaryView["ispSpecialLan4"].setLabelField(e),i.qsSummaryView["ispSpecialLan4"].setValue(n.split(" ")[3]),t.pop()),portTypeObj={"Internet":f.su.CHAR.NETWORK_IPTV.INTERNET,"IPTV":f.su.CHAR.NETWORK_IPTV.IPTV,"IP-Phone":f.su.CHAR.NETWORK_IPTV.VOLP,"Bridge":f.su.CHAR.NETWORK_IPTV.BRIDGE};for(var s=0;s<t.length;s++)i.qsSummaryView["ispSpecialLan"+(s+1)].setLabelField(f.su.CHAR.NETWORK_IPTV.LAN+t[s]),i.qsSummaryView["ispSpecialLan"+(s+1)].setValue(portTypeObj[n.split(" ")[s]]),i.qsSummaryView["ispSpecialLan"+(s+1)].show()}},showPassword:function(){var e=a.quickSetupModel,t=i.qsSummaryView;t.wireless2gEncryPassword.setValue(e.wireless2gPskKey.getValue()||f.su.CHAR.WIFI_SHARING.NO_PASSWORD),t.wireless5gEncryPassword.setValue(e.wireless5gPskKey.getValue()||f.su.CHAR.WIFI_SHARING.NO_PASSWORD),n.device.getIsTriband()&&!n.device.getConfig().supportWifi6E&&t.wireless5g2EncryPassword.setValue(e.wireless5g2PskKey.getValue()||f.su.CHAR.WIFI_SHARING.NO_PASSWORD),n.device.getConfig().supportWifi6E&&t.wireless6gEncryPassword.setValue(e.wireless6gPskKey.getValue()||f.su.CHAR.WIFI_SHARING.NO_PASSWORD)},checkRouterConnection:function(){var e=f.Deferred();return n.ajax.request({proxy:"checkRouterProxy",success:function(){e.resolve()},fail:function(){e.resolve()},error:function(){e.reject()}}),e.promise()}}})}(jQuery),function(c){c.su.moduleManager.define("qsWirelessSetting",{deps:["quickSetup","qsChooseInternetType","main"],services:["device"],models:["quickSetupModel"],views:["qsWirelessSettingView"],listeners:{"ev_on_launch":function(e,t,n,s,i,a,r){a.quickSetup.getQuickSetupData();t.smartEnable="on",s.quickSetupModel.wirelessSmartEnable.setValue(t.smartEnable),"on"!==t.smartEnable?t.smartEnableOn():(s.quickSetupModel.wireless2gEnable.setLabelField(c.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO),t.supportWifi6E&&(s.quickSetupModel.wireless2gEnable.setLabelField(c.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G),t.visualEnable6g())),t.supportWifi6E&&s.quickSetupModel.wirelessSmartEnable.setToolTip(c.su.CHAR.WIRELESS_SETTINGS.SMART_CONN_NOTE_6G),"FCC"==r.device.getConfig().support5GQuickSetupBW160?n.qsWirelessSettingView.qs5gBw160.show():"CE"==r.device.getConfig().support5GQuickSetupBW160&&(t.isTriband?(n.qsWirelessSettingView.qs5g1Bw160.show(),n.qsWirelessSettingView.qs5g2Bw160):(n.qsWirelessSettingView.qs5gBw160Note.setText(c.su.CHAR.WIRELESS_SETTINGS.ENABLE_160_MHZ_NOTE_QS_CE_5G),n.qsWirelessSettingView.qs5gBw160)).show(),t.setEncryptionVtype()}},init:function(o,p,l,e,u,n){this.control({"#qs-wireless-before-step-btn":{"ev_button_click":function(){u.quickSetup.getPhysicalConnStatus()?u.qsChooseInternetType.goNext():u.quickSetup.goTo("qsChooseInternetType")}},"#qs-wireless-next-step-btn":{"ev_button_click":function(){var e=["wireless2gSsid","wireless2gPskKey"];"off"===l.quickSetupModel.wirelessSmartEnable.getValue()&&(e.push("wireless5gSsid","wireless5gPskKey"),o.isTriband&&e.push("wireless5g2Ssid","wireless5g2PskKey"),o.supportWifi6E&&e.push("wireless6gSsid","wireless6gPskKey"));for(var t,n,s,i,a=0,r=e.length;a<r;a++)if(!l.quickSetupModel[e[a]].validate())return;o.syncQsWirelessData(),u.quickSetup.skipFlag?u.quickSetup.isAutoUpdate()?u.quickSetup.goTo("qsAutoUpdate"):(p.qsWirelessSettingView.qsWirelessNextBtn.loading(),u.quickSetup.submitAllData()):(t="on"==l.quickSetupModel.wireless2gEnable.getValue(),n="on"==l.quickSetupModel.wireless5gEnable.getValue(),o.isTriband?s="on"==l.quickSetupModel.wireless5g2Enable.getValue():o.supportWifi6E&&(i="on"==l.quickSetupModel.wireless6gEnable.getValue()),t||n||o.isTriband&&s||o.supportWifi6E&&i?t||n||o.isTriband&&s||!o.supportWifi6E||!i?u.quickSetup.goTo("qsInternetConnection",!0):u.main.confirm(c.su.CHAR.WIRELESS_SETTINGS.WLAN_ONLY_6G_NOTE,function(){u.quickSetup.goTo("qsInternetConnection",!0)},null,c.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY):u.main.confirm(c.su.CHAR.WIRELESS_SETTINGS.WLAN_ONT_ON_NOTE,function(){u.quickSetup.goTo("qsInternetConnection",!0)},null,c.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY))}}}),this.listen({"models.quickSetupModel.wirelessSmartEnable":{"ev_value_change":function(e,t){"on"==t?(p.qsWirelessSettingView.qsWireless5g.hide(),p.qsWirelessSettingView.qsWirelessSetSeparately.hide(),l.quickSetupModel.wireless2gEnable.setLabelField(c.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO),n.device.getConfig().supportWifi6E&&(o.visualEnable6g(),l.quickSetupModel.wireless2gEnable.setLabelField(c.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G))):o.smartEnableOn()}},"models.quickSetupModel.wireless2gEnable":{"ev_value_change":function(e,t){p.qsWirelessSettingView.qsWirelessSetSeparately.getValue()||(l.quickSetupModel.wireless5gEnable.setValue(t),o.isTriband&&l.quickSetupModel.wireless5g2Enable.setValue(t),o.supportWifi6E&&"on"!==l.quickSetupModel.wirelessSmartEnable.getValue()&&l.quickSetupModel.wireless6gEnable.setValue(t))}},"models.quickSetupModel.wireless2gSsid":{"ev_value_change":function(e,t){var n=p.qsWirelessSettingView.qsWirelessSetSeparately.getValue();""===t||n||(o.isTriband?(l.quickSetupModel.wireless5gSsid.setValue(t+("gaming"==GLOBAL_STYLE?"_5G":"_5G_1")),l.quickSetupModel.wireless5g2Ssid.setValue(t+("gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2"))):o.supportWifi6E&&"on"!==l.quickSetupModel.wirelessSmartEnable.getValue()?(l.quickSetupModel.wireless5gSsid.setValue(t+"_5G"),l.quickSetupModel.wireless6gSsid.setValue(t+"_6G")):l.quickSetupModel.wireless5gSsid.setValue(t+"_5G"))}},"models.quickSetupModel.wireless2gPskKey":{"ev_value_change":function(e,t){var n=p.qsWirelessSettingView.qsWirelessSetSeparately.getValue();""===t||n||(l.quickSetupModel.wireless5gPskKey.setValue(t),o.isTriband&&l.quickSetupModel.wireless5g2PskKey.setValue(t),o.supportWifi6E&&"on"!==l.quickSetupModel.wirelessSmartEnable.getValue()&&l.quickSetupModel.wireless6gPskKey.setValue(t))}},"views.qsWirelessSettingView.qsWirelessSetSeparately":{"ev_value_change":function(e,t){var n,s;t?(o.visualEnable5g(),o.isTriband&&o.visualEnable5g2(),o.supportWifi6E&&"off"==l.quickSetupModel.wirelessSmartEnable.getValue()&&o.visualEnable6g()):(o.visualDisable5g(),t=l.quickSetupModel.wireless2gEnable.getValue(),n=l.quickSetupModel.wireless2gSsid.getValue(),s=l.quickSetupModel.wireless2gPskKey.getValue(),l.quickSetupModel.wireless5gEnable.setValue(t),l.quickSetupModel.wireless5gPskKey.setValue(s),o.isTriband?(l.quickSetupModel.wireless5gSsid.setValue(n+("gaming"==GLOBAL_STYLE?"_5G":"_5G_1")),o.visualDisable5g2(),l.quickSetupModel.wireless5g2Enable.setValue(t),l.quickSetupModel.wireless5g2Ssid.setValue(n+("gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2")),l.quickSetupModel.wireless5g2PskKey.setValue(s)):o.supportWifi6E?(l.quickSetupModel.wireless5gSsid.setValue(n+"_5G"),o.visualDisable6g(),l.quickSetupModel.wireless6gEnable.setValue(t),l.quickSetupModel.wireless6gPskKey.setValue(s)):l.quickSetupModel.wireless5gSsid.setValue(n+"_5G"))}}})}},function(i,s,r,e,t,n){i=this;return{isTriband:n.device.getIsTriband()&&!n.device.getConfig().supportWifi6E,supportWifi6E:n.device.getConfig().supportWifi6E,has5g1:function(){return!0},has5g2:function(){return!0},has6g:function(){return!0},smartEnableOn:function(){r.quickSetupModel.wireless2gEnable.setLabelField(c.su.CHAR.WIRELESS_SETTINGS.MODE_2G),s.qsWirelessSettingView.qsWireless5g.show(),s.qsWirelessSettingView.qsWirelessSetSeparately.show();var e=r.quickSetupModel.wireless2gEnable.getValue(),t=r.quickSetupModel.wireless2gSsid.getValue(),n=r.quickSetupModel.wireless2gPskKey.getValue();r.quickSetupModel.wireless5gEnable.setValue(e),r.quickSetupModel.wireless5gSsid.setValue(t+"_5G"),r.quickSetupModel.wireless5gPskKey.setValue(n),s.qsWirelessSettingView.qsWirelessSetSeparately.getValue()||i.visualDisable5g(),i.isTriband?(s.qsWirelessSettingView.qsWireless6g.hide(),r.quickSetupModel.wireless5gEnable.setLabelField(c.su.CHAR.WIRELESS_SETTINGS.MODE_5G1),r.quickSetupModel.wireless5gSsid.setValue(t+("gaming"==GLOBAL_STYLE?"_5G":"_5G_1")),s.qsWirelessSettingView.qsWireless5g2.show(),r.quickSetupModel.wireless5g2Enable.setValue(e),r.quickSetupModel.wireless5g2Ssid.setValue(t+("gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2")),r.quickSetupModel.wireless5g2PskKey.setValue(n),s.qsWirelessSettingView.qsWirelessSetSeparately.getValue()||i.visualDisable5g2()):i.supportWifi6E?(s.qsWirelessSettingView.qsWireless5g2.hide(),r.quickSetupModel.wireless5gEnable.setLabelField(c.su.CHAR.WIRELESS_SETTINGS.MODE_5G),s.qsWirelessSettingView.qsWirelessSetSeparately.getValue()||(r.quickSetupModel.wireless6gEnable.setValue(e),r.quickSetupModel.wireless6gSsid.setValue(t+"_6G"),r.quickSetupModel.wireless6gPskKey.setValue(n),i.visualDisable6g())):(s.qsWirelessSettingView.qsWireless5g2.hide(),s.qsWirelessSettingView.qsWireless6g.hide())},visualDisable5g:function(){r.quickSetupModel.wireless5gEnable.disable(!0),r.quickSetupModel.wireless5gSsid.disable(!0),r.quickSetupModel.wireless5gPskKey.disable(!0)},visualEnable5g:function(){r.quickSetupModel.wireless5gEnable.enable(),r.quickSetupModel.wireless5gSsid.enable(),r.quickSetupModel.wireless5gPskKey.enable()},visualDisable5g2:function(){r.quickSetupModel.wireless5g2Enable.disable(!0),r.quickSetupModel.wireless5g2Ssid.disable(!0),r.quickSetupModel.wireless5g2PskKey.disable(!0)},visualEnable5g2:function(){r.quickSetupModel.wireless5g2Enable.enable(),r.quickSetupModel.wireless5g2Ssid.enable(),r.quickSetupModel.wireless5g2PskKey.enable()},visualDisable6g:function(){s.qsWirelessSettingView.qsWireless6g.disable()},visualEnable6g:function(){s.qsWirelessSettingView.qsWireless6g.enable()},syncQsWirelessData:function(){var e=i.syncQsWireless2gData(),t=i.syncQsWireless5gData(),n=i.syncQsWireless5g2Data(),s=i.syncQsWireless6gData(),e=c.extend({},e,t,n,s);r.quickSetupModel.replaceData(e),i.setEncryptionVtype()},syncQsWireless2gData:function(){var e=r.quickSetupModel.getData().wireless2gEnable,t=i.syncPskConfig("2g"),e={wireless2gDisabledAll:"on"==e?"off":"on",wireless2gEncryption:t.encryption,wireless2gPskVersion:t.version,wireless2gPskCipher:t.cipher};return r.quickSetupModel.replaceData(e),e},syncQsWireless5gData:function(){var e=r.quickSetupModel.getData(),t=e.wirelessSmartEnable,n=e.wireless5gEnable,s={wireless5gRegionEnable:"on"};return"on"==t?(s.wireless5gEnable=e.wireless2gEnable,s.wireless5gDisabledAll=e.wireless2gDisabledAll,s.wireless5gSsid=e.wireless2gSsid,s.wireless5gPskKey=e.wireless2gPskKey,s.wireless5gEncryption=e.wireless2gEncryption,s.wireless5gPskVersion=e.wireless2gPskVersion,s.wireless5gPskCipher=e.wireless2gPskCipher):(t=i.syncPskConfig("5g"),s.wireless5gEncryption=t.encryption,s.wireless5gPskVersion=t.version,s.wireless5gPskCipher=t.cipher,s.wireless5gDisabledAll="on"==n?"off":"on"),s},syncQsWireless5g2Data:function(){var e,t,n,s;return i.isTriband?(s=(e=r.quickSetupModel.getData()).wirelessSmartEnable,t=e.wireless5g2Enable,n={wireless5gRegionEnable:"on"},"on"==s?(n.wireless5g2Enable=e.wireless2gEnable,n.wireless5g2DisabledAll=e.wireless2gDisabledAll,n.wireless5g2Ssid=e.wireless2gSsid,n.wireless5g2PskKey=e.wireless2gPskKey,n.wireless5g2Encryption=e.wireless2gEncryption,n.wireless5g2PskVersion=e.wireless2gPskVersion,n.wireless5g2PskCipher=e.wireless2gPskCipher):(s=i.syncPskConfig("5g2"),n.wireless5g2Encryption=s.encryption,n.wireless5g2PskVersion=s.version,n.wireless5g2PskCipher=s.cipher,n.wireless5g2DisabledAll="on"==t?"off":"on"),n):{}},syncQsWireless6gData:function(){var e,t;return i.supportWifi6E?(e=r.quickSetupModel.getData().wireless6gEnable,(t={wireless6gRegionEnable:"on"}).wireless6gDisabledAll="on"==e?"off":"on",t.wireless6gEncryption="psk_sae",t.wireless6gPskVersion="sae_only",t.wireless6gPskCipher="aes",t):{}},syncPskConfig:function(e){var t={},n=r.quickSetupModel.getData(),s="wireless2gEncryption".replace("2g",e),i="wireless2gPskVersion".replace("2g",e),a="wireless2gPskCipher".replace("2g",e);switch(n[s]){case"psk":case"psk_sae":t.encryption=n[s],t.version=n[i],t.cipher=n[a];break;default:t.encryption="psk",t.version="rsn",t.cipher="aes"}return t},setEncryptionVtype:function(){var e=["2g","5g"];i.isTriband&&e.push("5g2");for(var t=0;t<e.length;t++)"psk_sae"==r.quickSetupModel["wireless"+e[t]+"Encryption"].getValue()?r.quickSetupModel["wireless"+e[t]+"PskKey"].setVtype("wpa3_password"):r.quickSetupModel["wireless"+e[t]+"PskKey"].setVtype("psk_password")}}})}(jQuery);