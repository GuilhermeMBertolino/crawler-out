!function(S){S.su.moduleManager.define("qsWirelessSettingAp",{services:["moduleLoader","moduleManager","device"],deps:["quickSetupAp","main"],stores:[],models:["quickSetupModel"],views:["qsWirelessSettingApView"],listeners:{"ev_on_launch":function(e,s,i,l,t,r,u){s.smartEnable=l.quickSetupModel.wirelessSmartEnable.getValue(),"on"===s.smartEnable?(l.quickSetupModel.wireless2gEnable.setLabelField(S.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO),l.quickSetupModel.wireless2gEnable.setLabelField(S.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO),s.supportWifi6E&&(l.quickSetupModel.wireless2gEnable.setLabelField(S.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G),s.visualEnable6g())):s.smartEnableOn(),s.isTriband||(i.qsWirelessSettingApView.qsWireless5g2.hide(),s.visualDisable5g2()),s.supportWifi6E?l.quickSetupModel.wirelessSmartEnable.setToolTip(S.su.CHAR.WIRELESS_SETTINGS.SMART_CONN_NOTE_6G):(i.qsWirelessSettingApView.qsWireless6g.hide(),s.visualDisable6g()),"FCC"==u.device.getConfig().support5GQuickSetupBW160?i.qsWirelessSettingApView.qs5gBw160.show():"CE"==u.device.getConfig().support5GQuickSetupBW160&&(s.isTriband?(i.qsWirelessSettingApView.qs5g1Bw160.show(),i.qsWirelessSettingApView.qs5g2Bw160):(i.qsWirelessSettingApView.qs5gBw160Note.setText(S.su.CHAR.WIRELESS_SETTINGS.ENABLE_160_MHZ_NOTE_QS_CE_5G),i.qsWirelessSettingApView.qs5gBw160)).show(),s.setEncryptionVtype()}},init:function(a,l,n,e,g,i){this.control({"#qs-wireless-next-step-btn":{"ev_button_click":function(){var e=["wireless2gSsid","wireless2gPskKey"];"off"===n.quickSetupModel.wirelessSmartEnable.getValue()&&(e.push("wireless5gSsid","wireless5gPskKey"),a.isTriband&&e.push("wireless5g2Ssid","wireless5g2PskKey"),a.supportWifi6E&&e.push("wireless6gSsid","wireless6gPskKey"));for(var s=0,i=e.length;s<i;s++)if(!n.quickSetupModel[e[s]].validate())return;a.syncQsWirelessData();var l,t,r="on"==n.quickSetupModel.wireless2gEnable.getValue(),u="on"==n.quickSetupModel.wireless5gEnable.getValue();a.isTriband?l="on"==n.quickSetupModel.wireless5g2Enable.getValue():a.supportWifi6E&&(t="on"==n.quickSetupModel.wireless6gEnable.getValue()),r||u||a.isTriband&&l||a.supportWifi6E&&t?r||u||a.isTriband&&l||!a.supportWifi6E||!t?g.quickSetupAp.goTo("transitionAp",!0):g.main.confirm(S.su.CHAR.WIRELESS_SETTINGS.WLAN_ONLY_6G_NOTE,function(){g.quickSetupAp.goTo("transitionAp",!0)},null,S.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY):g.main.confirm(S.su.CHAR.WIRELESS_SETTINGS.WLAN_ONT_ON_NOTE,function(){g.quickSetupAp.goTo("transitionAp",!0)},null,S.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY)}},"#reboot-alert-msg":{"ev_msg_ok":function(){g.quickSetupAp.goTo("qsSummaryAp")}}}),this.listen({"models.quickSetupModel.wirelessSmartEnable":{"ev_value_change":function(e,s){"on"==s?(l.qsWirelessSettingApView.qsWireless5g.hide(),l.qsWirelessSettingApView.qsWirelessSetSeparately.hide(),n.quickSetupModel.wireless2gEnable.setLabelField(S.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO),i.device.getConfig().supportWifi6E&&(a.visualEnable6g(),n.quickSetupModel.wireless2gEnable.setLabelField(S.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G))):a.smartEnableOn()}},"models.quickSetupModel.wireless2gEnable":{"ev_value_change":function(e,s){l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue()||(n.quickSetupModel.wireless5gEnable.setValue(s),a.isTriband&&n.quickSetupModel.wireless5g2Enable.setValue(s),a.supportWifi6E&&"on"!==n.quickSetupModel.wirelessSmartEnable.getValue()&&n.quickSetupModel.wireless6gEnable.setValue(s))}},"models.quickSetupModel.wireless2gSsid":{"ev_value_change":function(e,s){var i=l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue();""===s||i||(a.isTriband?(n.quickSetupModel.wireless5gSsid.setValue(s+("gaming"==GLOBAL_STYLE?"_5G":"_5G_1")),n.quickSetupModel.wireless5g2Ssid.setValue(s+("gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2"))):a.supportWifi6E&&"on"!==n.quickSetupModel.wirelessSmartEnable.getValue()?(n.quickSetupModel.wireless5gSsid.setValue(s+"_5G"),n.quickSetupModel.wireless6gSsid.setValue(s+"_6G")):n.quickSetupModel.wireless5gSsid.setValue(s+"_5G"))}},"models.quickSetupModel.wireless2gPskKey":{"ev_value_change":function(e,s){var i=l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue();""===s||i||(n.quickSetupModel.wireless5gPskKey.setValue(s),a.isTriband&&n.quickSetupModel.wireless5g2PskKey.setValue(s),a.supportWifi6E&&"on"!==n.quickSetupModel.wirelessSmartEnable.getValue()&&n.quickSetupModel.wireless6gPskKey.setValue(s))}},"views.qsWirelessSettingApView.qsWirelessSetSeparately":{"ev_value_change":function(e,s){var i,l;s?(a.visualEnable5g(),a.isTriband&&a.visualEnable5g2(),a.supportWifi6E&&"off"==n.quickSetupModel.wirelessSmartEnable.getValue()&&a.visualEnable6g()):(a.visualDisable5g(),s=n.quickSetupModel.wireless2gEnable.getValue(),i=n.quickSetupModel.wireless2gSsid.getValue(),l=n.quickSetupModel.wireless2gPskKey.getValue(),n.quickSetupModel.wireless5gEnable.setValue(s),n.quickSetupModel.wireless5gPskKey.setValue(l),a.isTriband?(n.quickSetupModel.wireless5gSsid.setValue(i+("gaming"==GLOBAL_STYLE?"_5G":"_5G_1")),a.visualDisable5g2(),n.quickSetupModel.wireless5g2Enable.setValue(s),n.quickSetupModel.wireless5g2Ssid.setValue(i+("gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2")),n.quickSetupModel.wireless5g2PskKey.setValue(l)):a.supportWifi6E?(n.quickSetupModel.wireless5gSsid.setValue(i+"_5G"),a.visualDisable6g(),n.quickSetupModel.wireless6gEnable.setValue(s),n.quickSetupModel.wireless6gSsid.setValue(i+"_6G"),n.quickSetupModel.wireless6gPskKey.setValue(l)):n.quickSetupModel.wireless5gSsid.setValue(i+"_5G"))}}})}},function(t,l,u,e,s,i){t=this;return{isTriband:i.device.getIsTriband()&&!i.device.getConfig().supportWifi6E,supportWifi6E:i.device.getConfig().supportWifi6E,smartEnableOn:function(){l.qsWirelessSettingApView.qsWireless5g.show(),l.qsWirelessSettingApView.qsWirelessSetSeparately.show(),u.quickSetupModel.wireless2gEnable.setLabelField(S.su.CHAR.WIRELESS_SETTINGS.MODE_2G);var e=u.quickSetupModel.wireless2gEnable.getValue(),s=u.quickSetupModel.wireless2gSsid.getValue(),i=u.quickSetupModel.wireless2gPskKey.getValue();u.quickSetupModel.wireless5gEnable.setValue(e),u.quickSetupModel.wireless5gSsid.setValue(s+"_5G"),u.quickSetupModel.wireless5gPskKey.setValue(i),l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue()||t.visualDisable5g(),t.isTriband?(l.qsWirelessSettingApView.qsWireless6g.hide(),u.quickSetupModel.wireless5gEnable.setLabelField(S.su.CHAR.WIRELESS_SETTINGS.MODE_5G1),u.quickSetupModel.wireless5gSsid.setValue(s+("gaming"==GLOBAL_STYLE?"_5G":"_5G_1")),l.qsWirelessSettingApView.qsWireless5g2.show(),u.quickSetupModel.wireless5g2Enable.setValue(e),u.quickSetupModel.wireless5g2Ssid.setValue(s+("gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2")),u.quickSetupModel.wireless5g2PskKey.setValue(i),l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue()||t.visualDisable5g2()):t.supportWifi6E?(l.qsWirelessSettingApView.qsWireless5g2.hide(),u.quickSetupModel.wireless5gEnable.setLabelField(S.su.CHAR.WIRELESS_SETTINGS.MODE_5G),l.qsWirelessSettingApView.qsWirelessSetSeparately.getValue()||(u.quickSetupModel.wireless6gEnable.setValue(e),u.quickSetupModel.wireless6gSsid.setValue(s+"_6G"),u.quickSetupModel.wireless6gPskKey.setValue(i),t.visualDisable6g())):(l.qsWirelessSettingApView.qsWireless5g2.hide(),l.qsWirelessSettingApView.qsWireless6g.hide())},visualDisable5g:function(){u.quickSetupModel.wireless5gEnable.disable(!0),u.quickSetupModel.wireless5gSsid.disable(!0),u.quickSetupModel.wireless5gPskKey.disable(!0)},visualEnable5g:function(){u.quickSetupModel.wireless5gEnable.enable(),u.quickSetupModel.wireless5gSsid.enable(),u.quickSetupModel.wireless5gPskKey.enable()},visualDisable5g2:function(){u.quickSetupModel.wireless5g2Enable.disable(!0),u.quickSetupModel.wireless5g2Ssid.disable(!0),u.quickSetupModel.wireless5g2PskKey.disable(!0)},visualEnable5g2:function(){u.quickSetupModel.wireless5g2Enable.enable(),u.quickSetupModel.wireless5g2Ssid.enable(),u.quickSetupModel.wireless5g2PskKey.enable()},visualDisable6g:function(){l.qsWirelessSettingApView.qsWireless6g.disable()},visualEnable6g:function(){l.qsWirelessSettingApView.qsWireless6g.enable()},syncQsWirelessData:function(){var e=t.syncQsWireless2gData(),s=t.syncQsWireless5gData(),i=t.syncQsWireless5g2Data(),l=t.syncQsWireless6gData(),e=S.extend({},e,s,i,l);u.quickSetupModel.replaceData(e),t.setEncryptionVtype()},syncQsWireless2gData:function(){var e=u.quickSetupModel.getData().wireless2gEnable,s=t.syncPskConfig("2g"),e={wireless2gDisabledAll:"on"==e?"off":"on",wireless2gEncryption:s.encryption,wireless2gPskVersion:s.version,wireless2gPskCipher:s.cipher};return u.quickSetupModel.replaceData(e),e},syncQsWireless5gData:function(){var e=u.quickSetupModel.getData(),s=e.wirelessSmartEnable,i=e.wireless5gEnable,l={wireless5gRegionEnable:"on"};return"on"==s?(l.wireless5gEnable=e.wireless2gEnable,l.wireless5gDisabledAll=e.wireless2gDisabledAll,l.wireless5gSsid=e.wireless2gSsid,l.wireless5gPskKey=e.wireless2gPskKey,l.wireless5gEncryption=e.wireless2gEncryption,l.wireless5gPskVersion=e.wireless2gPskVersion,l.wireless5gPskCipher=e.wireless2gPskCipher):(s=t.syncPskConfig("5g"),l.wireless5gEncryption=s.encryption,l.wireless5gPskVersion=s.version,l.wireless5gPskCipher=s.cipher,l.wireless5gDisabledAll="on"==i?"off":"on"),l},syncQsWireless5g2Data:function(){var e,s,i,l;return t.isTriband?(l=(e=u.quickSetupModel.getData()).wirelessSmartEnable,s=e.wireless5g2Enable,i={wireless5gRegionEnable:"on"},"on"==l?(i.wireless5g2Enable=e.wireless2gEnable,i.wireless5g2DisabledAll=e.wireless2gDisabledAll,i.wireless5g2Ssid=e.wireless2gSsid,i.wireless5g2PskKey=e.wireless2gPskKey,i.wireless5g2Encryption=e.wireless2gEncryption,i.wireless5g2PskVersion=e.wireless2gPskVersion,i.wireless5g2PskCipher=e.wireless2gPskCipher):(l=t.syncPskConfig("5g2"),i.wireless5g2Encryption=l.encryption,i.wireless5g2PskVersion=l.version,i.wireless5g2PskCipher=l.cipher,i.wireless5g2DisabledAll="on"==s?"off":"on"),i):{}},syncQsWireless6gData:function(){var e,s;return t.supportWifi6E?(e=u.quickSetupModel.getData().wireless6gEnable,(s={wireless6gRegionEnable:"on"}).wireless6gDisabledAll="on"==e?"off":"on",s.wireless6gEncryption="psk_sae",s.wireless6gPskVersion="sae_only",s.wireless6gPskCipher="aes",s):{}},syncPskConfig:function(e){var s={},i=u.quickSetupModel.getData(),l="wireless2gEncryption".replace("2g",e),t="wireless2gPskVersion".replace("2g",e),r="wireless2gPskCipher".replace("2g",e);switch(i[l]){case"psk":case"psk_sae":s.encryption=i[l],s.version=i[t],s.cipher=i[r];break;default:s.encryption="psk",s.version="rsn",s.cipher="aes"}return s},setEncryptionVtype:function(){var e=["2g","5g"];t.isTriband&&e.push("5g2");for(var s=0;s<e.length;s++)"psk_sae"==u.quickSetupModel["wireless"+e[s]+"Encryption"].getValue()?u.quickSetupModel["wireless"+e[s]+"PskKey"].setVtype("wpa3_password"):u.quickSetupModel["wireless"+e[s]+"PskKey"].setVtype("psk_password")}}})}(jQuery);