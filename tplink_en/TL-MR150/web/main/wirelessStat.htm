<script>function initSecType(t,e){return"Basic"==t.beaconType&&"None"==t.basicEncryptionModes?s_str.wldissec:"WPA"==t.beaconType?"PSKAuthentication"==t.WPAAuthenticationMode?s_str.wlsecpersonal:s_str.wlsecenterprise:"11i"==t.beaconType||"WPAand11i"==t.beaconType?"PSKAuthentication"==t.IEEE11iAuthenticationMode?s_str.wlsecpersonal:s_str.wlsecenterprise:"Basic"==t.beaconType&&"WEPEncryption"==t.basicEncryptionModes?"WEP":void 0}function init(){statsList=$.act(ACT_GL,LAN_WLAN,null,null,["name","SSID","X_TP_Band","BeaconType","BasicEncryptionModes","WPAEncryptionModes","IEEE11iEncryptionModes","X_TP_Configuration_Modified","beaconType","WEPEncryptionLevel","WEPKeyIndex","BasicEncryptionModes","BasicAuthenticationMode","WPAEncryptionModes","WPAAuthenticationMode","IEEE11iEncryptionModes","IEEE11iAuthenticationMode","X_TP_RadiusServerIP","X_TP_RadiusServerPort","X_TP_RadiusServerPassword"]),$.exe()||$.each(statsList,function(){"2.4GHz"==this.X_TP_Band?wlanObj_2g=this:INCLUDE_LAN_WLAN_DUALBAND&&"5GHz"==this.X_TP_Band&&(wlanObj_5g=this)}),INCLUDE_LAN_WLAN_MSSID&&(vapList_2g=$.act(ACT_GS,LAN_WLAN_MSSIDENTRY,null,wlanObj_2g.__stack,["Name","Enable","SSID","BeaconType","BasicAuthenticationMode","WEPKeyIndex","BasicEncryptionModes","WPAEncryptionModes","WPAAuthenticationMode","IEEE11iEncryptionModes","IEEE11iAuthenticationMode","PreSharedKey","GroupKeyUpdateInterval","RadiusServerIP","RadiusServerPort","RadiusServerPassword"]),INCLUDE_LAN_WLAN_DUALBAND&&(vapList_5g=$.act(ACT_GS,LAN_WLAN_MSSIDENTRY,null,wlanObj_5g.__stack,["Name","Enable","SSID","BeaconType","BasicAuthenticationMode","WEPKeyIndex","BasicEncryptionModes","WPAEncryptionModes","WPAAuthenticationMode","IEEE11iEncryptionModes","IEEE11iAuthenticationMode","PreSharedKey","GroupKeyUpdateInterval","RadiusServerIP","RadiusServerPort","RadiusServerPassword"])),INCLUDE_LAN_WLAN_GUESTNETWORK&&(guestObj_2g=$.act(ACT_GET,LAN_WLAN_GUESTNET,wlanObj_2g.__stack,null,["Name"]),INCLUDE_LAN_WLAN_DUALBAND&&(guestObj_5g=$.act(ACT_GET,LAN_WLAN_GUESTNET,wlanObj_5g.__stack,null,["Name"]))),$.exe()||($.each(vapList_2g,function(t,e){this.name==guestObj_2g.name&&(vapObj_2g=this)}),INCLUDE_LAN_WLAN_DUALBAND&&$.each(vapList_5g,function(t,e){this.name==guestObj_5g.name&&(vapObj_5g=this)}))),INCLUDE_ONEMESH&&($.act(ACT_SET,ONEMESH_RT,null,null,["action="+ONEMESH_INIT_TOPO]),$.exe())}function initTable(){function t(t){return t.replace(/\:/g,"-").toUpperCase()}var e=[],a=1;$.act(ACT_OP,ACT_OP_WLAN_UPDATE_ASSOC,wlanObj_2g.__stack),INCLUDE_LAN_WLAN_DUALBAND&&$.act(ACT_OP,ACT_OP_WLAN_UPDATE_ASSOC,wlanObj_5g.__stack),$.exe(function(i){if(!i){var _,n,s={},c={};INCLUDE_ONEMESH&&(_=$.act(ACT_GL,ONEMESH_RELIST,null,null),n=$.act(ACT_GL,ONEMESH_MAC,null,null)),staList_2g=$.act(ACT_GS,LAN_WLAN_ASSOC_DEV,null,wlanObj_2g.__stack,["AssociatedDeviceMACAddress","X_TP_TotalPacketsSent","X_TP_TotalPacketsReceived","X_TP_HostName"]),INCLUDE_LAN_WLAN_DUALBAND&&(staList_5g=$.act(ACT_GS,LAN_WLAN_ASSOC_DEV,null,wlanObj_5g.__stack,["AssociatedDeviceMACAddress","X_TP_TotalPacketsSent","X_TP_TotalPacketsReceived","X_TP_HostName"])),$.exe(function(i){i||(INCLUDE_ONEMESH&&$.each(_,function(){s[t(this.mac.substring(0,8))]=1}),INCLUDE_ONEMESH&&$.each(n,function(){c[t(this.proxy)]=t(this.mac)}),$.each(staList_2g,function(i){var _=0;if(this.X_TP_HostName==guestObj_2g.name){n=initSecType(vapObj_2g);_=1}else var n=initSecType(wlanObj_2g);var o=t(this.associatedDeviceMACAddress);if(INCLUDE_ONEMESH){if(!c[o])return;if(o=c[o],s[o.substring(0,8)])return}e.push([{text:a,width:"5%"},{text:o,width:"20%"},{text:0==_?table_str.wl2g:table_str.wlguest2g,width:""},{text:n,width:"15%"},{text:this.X_TP_TotalPacketsReceived,width:"10%"},{text:this.X_TP_TotalPacketsSent,width:"15%"}]),a++}),INCLUDE_LAN_WLAN_DUALBAND&&$.each(staList_5g,function(i){var _=0;if(this.X_TP_HostName==guestObj_5g.name){n=initSecType(vapObj_5g);_=1}else{var n=initSecType(wlanObj_5g);_=0}var o=t(this.associatedDeviceMACAddress);if(INCLUDE_ONEMESH){if(!c[o])return;if(o=c[o],s[o.substring(0,8)])return}e.push([{text:a,width:"5%"},{text:o,width:"20%"},{text:0==_?table_str.wl5g:table_str.wlguest5g,width:""},{text:n,width:"15%"},{text:this.X_TP_TotalPacketsReceived,width:"10%"},{text:this.X_TP_TotalPacketsSent,width:"15%"}]),a++}),$("#num").html("<span>"+e.length+"</span>"),$.initTableBody($("#tableWlStat"),e),$.tablePages($("#tableWlStat"),5))})}})}var ONEMESH_INIT_TOPO=2,wlanObj_2g,wlanObj_5g,vapList_2g,vapList_5g,guestObj_2g,guestObj_5g,vapObj_2g,vapObj_5g,statsList;$.auto(function(){initTable()},2e4)</script>

<h3 id="et">Wireless Stations Online</h3>

<div>
    <form class="pure-form pure-form-aligned">
        <div class="table-op" id="addItem">
            <div class="table-note">
                <label class="label-title" id="t_clientnum">Total Clients:</label>
                <span id="num" class="text">0</span>
            </div>
            <div class="table-btn">
                <span id="refreshIcon" class="refresh-icon"></span>
                <label class="T_refresh">Refresh</label>
            </div>
        </div>
        <table id="tableWlStat">
            <thead></thead>
            <tbody id="bodyWlStat">
            </tbody>
        </table>
    </form>
</div>


<script>$(document).ready(function(){var t=[{text:table_str.id,width:"5%"},{text:table_str.mac,width:"20%"},{text:table_str.conntype,width:""},{text:table_str.sec,width:"20%"},{text:table_str.revpkg,width:"10%"},{text:table_str.sendpkg,width:"10%"}];$.tpInit(init),$.initTableHead($("#tableWlStat"),t),$("#tableWlStat").tpTable(initTable)})</script>
