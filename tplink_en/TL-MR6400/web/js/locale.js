!function($){$.locale={URL_STR_JS:"./locale/%LAN_TYPE%/str.js",URL_HELP_JS:"./locale/%LAN_TYPE%/help.js",URL_ARRAY_JS:"./locale/%LAN_TYPE%/array.js",URL_ERR_JS:"./locale/%LAN_TYPE%/err.js",URL_CSS:"./locale/%LAN_TYPE%/lan.css",DEFAULT_LAN_TYPE:"en_US",INCLUDE_NAME:"INCLUDE_LANGUAGE_%LAN_TYPE%",URL_ERR_DEF_JS:"./locale/err_def.js",URL_HELP_FORMAT_JS:"./locale/help_format.js"},$.locale._findLocale=function(lan){lan=lan.replace("-","_").toUpperCase();var result=null,getLanguageName="$.su.CHAR.LANGUAGE."+lan;if($.su.CHAR.LANGUAGE.hasOwnProperty(lan)&&0!=eval(getLanguageName))result=lan;else{lan=lan.split("_")[0];for(var i in $.su.CHAR.LANGUAGE)if(getLanguageName="$.su.CHAR.LANGUAGE."+i,$.su.CHAR.LANGUAGE.hasOwnProperty(i)&&0!=eval(getLanguageName)&&0===i.search(lan)){result=i;break}}if(result){var subs=result.split("_");result=subs[0].toLowerCase()+"_"+subs[1]}return result},$.locale.get=function(callbackSuccess,callbackFailed){var match;if(($.sim||$.local)&&(match=document.cookie.match(/locale=(?:(\w+);?)/))&&match[1]&&(match[1]=this._findLocale(match[1])))return $.locale.changeType({locale:match[1]}),void(callbackSuccess&&callbackSuccess());(void 0!==$.cgi?$.cgi:$.locale.cgi)("/cgi/language"),void 0!=locale_language&&$.locale.load(locale_language,callbackSuccess,callbackFailed)},$.locale.load=function(language,callbackSuccess,callbackFailed,strOnly){language&&(language=this._findLocale(language))?($.locale.changeType({locale:language,strOnly:strOnly}),callbackSuccess&&callbackSuccess()):(language=this._findLocale(navigator.language||navigator.browserLanguage))?$.locale.changeType({locale:language,strOnly:strOnly}):($.locale.changeType({locale:$.locale.DEFAULT_LAN_TYPE,strOnly:strOnly}),callbackFailed&&callbackFailed())},$.locale.cgi=function(cmd,callback){function getHttpObject(hook){var xmlHttp=null;try{xmlHttp=new XMLHttpRequest}catch(e){try{xmlHttp=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{xmlHttp=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}}return xmlHttp.onreadystatechange=function(){4==xmlHttp.readyState&&hook&&hook()},xmlHttp}var xmlHttpObj;xmlHttpObj=getHttpObject(function(){200==xmlHttpObj.status&&callback&&callback()}),$.ret=-1,xmlHttpObj.open("POST",window.location.protocol+"//"+window.location.host+cmd,!1),xmlHttpObj.send(null),eval(xmlHttpObj.responseText)},$.locale.set=function(lanType,callback_success,callback_failed){lanType&&($.sim||$.local?(document.cookie="locale="+lanType,callback_success&&callback_success(),location.reload()):((void 0!==$.cgi?$.cgi:$.locale.cgi)("/cgi/language?language="+lanType),0==$.ret&&callback_success?callback_success():callback_failed&&callback_failed(),location.reload()))},$.locale.changeType=function(data){var lanType=data.locale||$.locale.DEFAULT_LAN_TYPE;if(this.locale=lanType,!0===data.strOnly){url_str_js=$.locale.URL_STR_JS.replace("%LAN_TYPE%",lanType);$("head").append('<script src="'+url_str_js+'" id="lan-str-js" type="text/javascript"><\/script>')}else{var url_str_js=$.locale.URL_STR_JS.replace("%LAN_TYPE%",lanType),url_help_js=$.locale.URL_HELP_JS.replace("%LAN_TYPE%",lanType),url_array_js=$.locale.URL_ARRAY_JS.replace("%LAN_TYPE%",lanType),url_err_js=$.locale.URL_ERR_JS.replace("%LAN_TYPE%",lanType),url_css=$.locale.URL_CSS.replace("%LAN_TYPE%",lanType);$("#lan-str-js").remove(),$("#lan-help-js").remove(),$("#lan-array-js").remove(),$("#lan-err-js").remove(),$("#lan-css").remove(),$("head").append('<script src="'+url_str_js+'" id="lan-str-js" type="text/javascript"><\/script>').append('<script src="'+url_help_js+'" type="text/javascript" id="lan-help-js"><\/script>').append('<script src="'+$.locale.URL_HELP_FORMAT_JS+'" type="text/javascript" ><\/script>').append('<script src="'+$.locale.URL_ERR_DEF_JS+'" type="text/javascript" ><\/script>').append('<script src="'+url_array_js+'" type="text/javascript" id="lan-array-js"><\/script>').append('<script src="'+url_err_js+'" type="text/javascript" id="lan-err-js"><\/script>').append('<link rel="stylesheet" type="text/css" id="lan-css" href="'+url_css+'"/>'),$("#lan-css")[0].rel="stylesheet"}},$.locale.setDefault=function(){$.locale.changeType({locale:this.DEFAULT_LAN_TYPE})}}(jQuery);