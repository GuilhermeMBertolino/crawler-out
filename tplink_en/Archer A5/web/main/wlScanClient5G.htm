<script language="javascript" type="text/javascript">var showNum=10;var authMode=new Array(s_str.opensys,s_str.sharekey,s_str.auto,"WPA","WPA-PSK","WPA-None","WPA2","WPA2-PSK","WPA/WPA2","WPA/WPA2-PSK");var wepStatus;if(INCLUDE_WIFI_5G_CHIP_MT7613){wepStatus=new Array("WEP","EncryptionDisabled","KeyAbsent","EncryptionNotSupported","TKIP","TKIP KeyAbsent","AES","CCMP256","GCMP128","GCMP256","AES KeyAbsent","TKIP or AES mix","TKIP or AES mix KeyAbsent","GroupWEP40","GroupWEP104")}else{wepStatus=new Array("WEP","EncryptionDisabled","KeyAbsent","EncryptionNotSupported","TKIP","TKIP KeyAbsent","AES","AES KeyAbsent","TKIP or AES mix","TKIP or AES mix KeyAbsent","GroupWEP40","GroupWEP104")}function removeAll(){var tlb=$.id("apTbl");while(tlb.rows.length>1){tlb.deleteRow(-1)}}function connect(apObj){var param=new Object();param.ssid=$.mainParam.ssid;param.standard=$.mainParam.standard;param.channel=$.mainParam.channel;param.autoChannel=$.mainParam.autoChannel;param.bandWidth=$.mainParam.bandWidth;if(!INCLUDE_LAN_WLAN_HWSWITCH){param.apEn=$.mainParam.apEn}param.SSIDAdvertisementEnabled=$.mainParam.SSIDAdvertisementEnabled;param.wdsExist=0;if(apObj!=null){param.wdsExist=1;param.SSID=apObj.SSID;param.BSSID=apObj.BSSID;param.channel=apObj.channel;param.authMode=apObj.authMode;param.wepStatus=apObj.wepStatus}if($.mainParam.loadFlag){$.addLoading($.id("backBtn"),500,function(){$.loadMain("clientMode5G.htm",param)})}else{$.addLoading($.id("backBtn"),500,function(){$.loadMain("qsWlClient.htm",param)})}}function getTbl(apTable,page){var tbl=$.id("apTbl");removeAll();$.each(apList,function(arg,index){row=tbl.insertRow(-1);cell=row.insertCell(-1);cell.innerHTML=index+1;cell.width="26px";cell=row.insertCell(-1);cell.innerHTML=this.BSSID;cell.width="117px";cell=row.insertCell(-1);cell.innerHTML=this.SSID.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/ /g,"&nbsp;");cell.width="240px";cell=row.insertCell(-1);cell.innerHTML=this.RSSI;cell.width="100px";cell=row.insertCell(-1);cell.innerHTML=this.channel;cell.width="65px";cell=row.insertCell(-1);if(0==this.securityEnable){cell.innerHTML="<span class='T T_none'>"+m_str.none+"</span>"}else{var encryptType=authMode[this.authMode]+"/"+wepStatus[this.wepStatus];cell.innerHTML="<span>"+encryptType+"</span>"}cell.width="80px";cell=row.insertCell(-1);cell.innerHTML="<span class=a onclick=connect(apList["+index+"]);><span class='T T_conn'>"+m_str.conn+"</span></span>";cell.width="65px"});$.resize(tbl,showNum)}function refresh(obj){$.addLoading(obj);$.act(ACT_OP,ACT_OP_WLAN_SCAN,wlanObj.__stack);$.exe(function(ret){if(ret){return}apList=$.act(ACT_GS,LAN_WLAN_BSSDESC_ENTRY,null,wlanObj.__stack,["SSID","BSSID","SecurityEnable","Channel","RSSI","authMode","wepStatus"]);$.exe(function(ret){if(ret){return}setTip(apList.length);getTbl(apList);$.removeLoading()})})}function setTip(apNum){$.h($.id("tip"),apNum)};</script>
<p class="et T" id="et">AP List</p>
<div class="con1 L">
<p class="ct"></p>
<p class="bl"></p>
<div class="con2">
<p class="line">
<span class="T" id="t_info">The scanned APs are as follows</span>
</p>
<p align="left"><span class="T" id="t_aps">AP numbers:</span> <i class="bd" id="tip"></i><input type="button" class="button L ml T T_refresh" id="refresh" value="Refresh" onclick="refresh(this)" /></p>
<div class="thead"><table class="XL bdr tc" id="apTbl"><tr><th width="26px">ID</th><th width="117px">BSSID</th><th width="240px">SSID</th><th width="100px" class="T" id="t_signal">Signal strength</th><th width="65px" class="T T_channel">Channel</th><th width="80px" class="T T_encryption">Encryption</th><th width="65px" class="T T_conn">Connect</th></tr></table></div>
</div>
<p class="bl"></p>
<p class="tail"><input type="button" id="backBtn" class="button L T T_back" onclick="connect(null);" value="Back"/></p>
</div>
<script language="javascript" type="text/javascript">var apList,wlanList,wlanObj;wlanList=$.act(ACT_GL,LAN_WLAN,null,null,["name","X_TP_Band"]);if(!$.exe()){$.each(wlanList,function(){if("5GHz"==this.X_TP_Band){wlanObj=this}})}apList=$.act(ACT_GS,LAN_WLAN_BSSDESC_ENTRY,null,wlanObj.__stack,["SSID","BSSID","SecurityEnable","Channel","RSSI","authMode","wepStatus"]);if(!$.exe()){setTip(apList.length);getTbl(apList,1)};</script>
