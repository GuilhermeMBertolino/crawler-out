<script type="text/javascript" language="javascript">
var newConn = {};
function showParams() {
	var localizationObj = n_str["quicksetup"];
	var types = {"ppp": localizationObj.c_qsPPPoE, "pppoa": localizationObj.c_qsPPPoA, "dhcp": localizationObj.c_qsDynIp, "staip": localizationObj.c_qsStaIp, "ipoa": localizationObj.c_qsIPoA, "br": s_str.bridge, "pptp": "PPTP", "l2tp": "L2TP"};
	var connStatus = newConn.connectionStatus;
	$("#connType").text(types[$.qd.type]);
	if ($.qd.type != "br") {
		$("#addrInfo").removeClass("nd");
		$("#ip").text(newConn.externalIPAddress);

		if ($.qd.type == "ppp") {
			if (newConn.connectionStatus == "Connected")
				$("#mask").text("255.255.255.255");
		}
		else {
			$("#mask").text(newConn.subnetMask);
		}
		$("#gw").text(newConn.defaultGateway ? newConn.defaultGateway : "0.0.0.0");
		$("#dns").text(newConn.DNSServers);
		if (connStatus == "" || connStatus == "Unconfigured" || connStatus == "Disconnected")
			$("#connStatus").text(m_str.disconnected);
		else if (connStatus == "Connecting")
			$("#connStatus").text(m_str.connecting);
		else
			$("#connStatus").text(m_str.connected);
	}
	else
		$("#connStatus").text(m_str.connected);
	
	
	if ($.qd.wl) {
		if ($.qd.wl.en == true) {
			$("#wl24gEnable > span").text(m_str.enabled);
            $("#wl24gSSID > input").prop("value", $.qd.wl.ssid);
            $("#wl24gPwd > input").prop("value", $.qd.wl.pwd);
		}
		else {
			$("#wl24gEnable > span").text(m_str.disabled);
			$("#wl24gSSID").addClass("nd");
			$("#wl24gPwd").addClass("nd");
		}
	}
	if (INCLUDE_LAN_WLAN_DUALBAND && $.qd.wl5g) {
		$("#wl5g").removeClass("nd");
		if ($.qd.wl5g.en == true) {
			$("#wl5gEnable > span").text(m_str.enabled);
            $("#wl5gSSID > input").prop("value", $.qd.wl5g.ssid);
            $("#wl5gPwd > input").prop("value", $.qd.wl5g.pwd);
		}
		else {
			$("#wl5gEnable > span").text(m_str.disabled);
			$("#wl5gSSID").addClass("nd");
			$("#wl5gPwd").addClass("nd");
		}
	}
	//wxl
	if (INCLUDE_LAN_WLAN_DUALBAND && $.qd.wl5g_2) {
		$("#wl5g_2").removeClass("nd");
		if ($.qd.wl5g_2.en == true) {
			$("#wl5gEnable_2 > span").text(m_str.enabled);
			$("#wl5gSSID_2 > span").text($.qd.wl5g_2.ssid);
			$("#wl5gPwd_2 > span").text($.qd.wl5g_2.pwd);
		}
		else {
			$("#wl5gEnable_2 > span").text(m_str.disabled);
			$("#wl5gSSID_2").addClass("nd");
			$("#wl5gPwd_2").addClass("nd");
		}
	}

}
function doFinish() {
	$("#basic").click();
}
</script>
<div id="quicksetup_sum_container" >
	<form class="pure-form pure-form-aligned">
		<div id="div_succNote" class="nd">
			<p><span id="t_setupStatus">Internet connected. You can enjoy the Internet surfing now.</span></p>
		</div>
		<div class="pure-control-group group-spec" style="margin-top: 40px;">
			<label class="label-title T_conntype l">Connection Type:</label>
			<span class="text" id="connType"></span>
		</div>
		<div id="addrInfo" class="nd">
			<div class="pure-control-group group-spec">
				<label class="label-title T_c_ipaddr l">IP Address:</label>
				<span class="text" id="ip">0.0.0.0</span>
			</div>
			<div class="pure-control-group group-spec">
				<label class="label-title T_c_mask l">Subnet Mask:</label>
				<span class="text" id="mask">0.0.0.0</span>
			</div>
			<div class="pure-control-group group-spec">
				<label class="label-title T_c_gw l">Gateway:</label>
				<span class="text" id="gw">0.0.0.0</span>
			</div>
			<div class="pure-control-group group-spec">
				<label class="label-title T_c_dnsSrvs l">DNS Servers:</label>
				<span class="text" id="dns">0.0.0.0,0.0.0.0</span>
			</div>
		</div>
		<div class="pure-control-group group-spec">
			<label class="label-title l" id="t_connStatus">Connection Status:</label>
			<span class="text" id="connStatus"></span>
		</div>
		<div id="wirelessParams" style="margin-top: 40px;">
			<div id="wl24g">
				<div id="wl24gEnable" class="pure-control-group group-spec">
					<label class="label-title T_c_wl24g l">Wireless Network (2.4GHz):</label>
					<span class="text"></span>
				</div>
				<div id="wl24gSSID" class="pure-control-group group-spec">
					<label class="label-title T_c_ssid l">Wireless Network Name (SSID):</label>
					<input type="text" readonly="ture" class="tp-input-text xl" />
				</div>
				<div id="wl24gPwd" class="pure-control-group group-spec">
					<label class="label-title T_c_wlPwd l">Password:</label>
					<input type="text" readonly="ture" class="tp-input-text xl" />
				</div>
			</div>
			<div id="wl5g" class="nd" style="margin-top: 40px;">
				<div id="wl5gEnable" class="pure-control-group group-spec">
					<label class="label-title T_c_wl5g l">Wireless Network (5GHz-1):</label>
					<span class="text"></span>
				</div>
				<div id="wl5gSSID" class="pure-control-group group-spec">
					<label class="label-title T_c_ssid l">Wireless Network Name (SSID):</label>
					<input type="text" readonly="ture" class="tp-input-text xl" />
				</div>
				<div id="wl5gPwd" class="pure-control-group group-spec">
					<label class="label-title T_c_wlPwd l">Password:</label>
					<input type="text" readonly="ture" class="tp-input-text xl" />
				</div>
			</div>
			<div id="wl5g_2" class="nd" style="margin-top: 40px;">
				<div id="wl5gEnable_2" class="pure-control-group group-spec">
					<label class="label-title T_c_wl5g_2 l">Wireless Network (5GHz-2):</label>
					<input type="text" readonly="ture" class="tp-input-text xl" />
				</div>
				<div id="wl5gSSID_2" class="pure-control-group group-spec">
					<label class="label-title T_c_ssid l">Wireless Network Name (SSID):</label>
					<input type="text" readonly="ture" class="tp-input-text xl" />
				</div>
				<div id="wl5gPwd_2" class="pure-control-group group-spec">
					<label class="label-title T_c_wlPwd l">Password:</label>
					<input type="text" readonly="ture" class="tp-input-text xl" />
				</div>
			</div>
		</div>
	</form>	
</div>
<div class="inline-btn-right quicksetup-button-container">
    <div class="inline">
        <button type="submit" class="green T_finish" onclick="doFinish()">Finish</button>
    </div>
</div>
<script type="text/javascript" language="javascript">
function init() {
	var args;
	var objName = WAN_IP_CONN;
	var stack = $.qd.newConn.stack;

	if ($.qd.type == "ppp") {
		objName = WAN_PPP_CONN;
		args = ["ExternalIPAddress", "DefaultGateway", "DNSServers", "ConnectionStatus"];
	}
	else if ($.qd.type == "pptp") {
		objName = WAN_PPTP_CONN;
		args = ["externalIPAddress", "defaultGateway", "DNSServers", "ConnectionStatus"];
		args.ExternalIPAddress = args.externalIPAddress;
		args.DefaultGateway = args.defaultGateway;
	}
	else if ($.qd.type == "l2tp") {
		objName = WAN_L2TP_CONN;
		args = ["externalIPAddress", "defaultGateway", "DNSServers", "ConnectionStatus"];
		args.ExternalIPAddress = args.externalIPAddress;
		args.DefaultGateway = args.defaultGateway;
	}
	else if ($.qd.type != "br") {
		args = ["ExternalIPAddress", "SubnetMask", "DefaultGateway", "DNSServers", "ConnectionStatus"];
	}

	if (args) {
		newConn = $.act(ACT_GET, objName, stack, null, args);
		if ($.exe())
			return ;
	}
	if ($.qd.internetDiag == 3)
		$("#div_succNote").removeClass("nd");
	else
		$("#div_succNote").addClass("nd");
	showParams();
}
init();
</script>
