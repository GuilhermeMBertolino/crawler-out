<script type="text/javascript">
var currentLanguage = "en_US";
var languageNameList = {
	BG_BG: "Български",
	CS_CZ: "Čeština",
	DA_DK: "Dansk",
	DE_DE: "Deutsch",
	EN_US: "English",
	ES_ES: "Español",
	ES_MX: "Español(México)",
	FI_FI: "Suomi",
	FR_FR: "Français",
	IT_IT: "Italiano",
	JP_JP: "日本語",
	KO_KR: "한국어",
	NL_NL: "Nederlands",
	NO_NO: "Norsk",
	PL_PL: "Polski",
	PT_BR: "Português(Brasil)",
	PT_PT: "Português",
	RO_RO: "Română",
	RU_RU: "Русский",
	SK_SK: "Slovenština",
	SV_SE: "Svenska",
	TH_TH: "ภาษาไทย",
	TR_TR: "Türkçe",
	UK_UA: "Українська",
	VI_VN: "Tiếng Việt",
	ZH_CN: "简体中文",
	ZH_TW: "繁體中文"
};
</script>

<script type="text/javascript">
if (typeof String.prototype.trim !== 'function')
{
    String.prototype.trim = function() {
	        return this.replace(/^\s+|\s+$/g, '');
	    }
}
function languageLocalName(lang)
{
	return languageNameList[lang.toUpperCase()];
}
function init()
{
    var langObj = $.act(ACT_GET, IGD_DEV_INFO, null, null, ["X_TP_SupportedLanguages", "X_TP_CurrentLanguage", "X_TP_LanguageSetByUser"]);
    var langSelect = document.getElementById('languageSelect');
    if (!$.exe())
    {
        var lang;
        var langList = langObj.X_TP_SupportedLanguages.split(',');
        var len = langList.length;

        langSelect.innerHTML = "";
        for (var i = 0; i < len; i++)
        {
            lang = langList[i].trim();
            if (lang.match(/\S+/))
            {
				langSelect.add(new Option(localLanguageName[lang], lang));
            }
        }
    }

    currentLanguage = langObj.X_TP_CurrentLanguage;
    langSelect.value = currentLanguage;
}

function doSave()
{
    var newLanguage = document.getElementById('languageSelect').value;
    if (newLanguage == currentLanguage)
    {
        return;
    }
    $.act(ACT_SET, IGD_DEV_INFO, null, null, ["X_TP_CurrentLanguage=" + newLanguage]);
    $.exe(function(err)
        {
            if (!err)
            {
//                $.removeLoading();
                parent.window.location.reload();
            }
        });
}

</script>

<p class="et T" id="et">Language</p>
<div class="con1 XL" id="languageSelectContainer">
<p class="bl"></p>

<p class="L2">
    <b class="fl M T" id="language">Language:</b>
    <select id="languageSelect">
        <option value="en_US">English</option>
    </select>
</p>

<p class="bl"></p>
<p class="tail">
<input id="saveLangBtn" class="button L T T_save" value="Save" type="button" onclick="doSave();" />
</p>
</div>

<script type="text/javascript">
init();
$.loadHelpFrame("languageHelp.htm");
</script>
<script language="javascript" type="text/javascript">$.styleInputElements();</script>
