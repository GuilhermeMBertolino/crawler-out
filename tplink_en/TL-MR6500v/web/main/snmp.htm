<h3 id="et">SNMP Settings</h3>
<div class="content-container">
    <form class="pure-form pure-form-aligned">
        <div class="button-group-container">
            <b id="t_snmp">SNMP Agent: </b>
            <ul>
                <li>
                    <button id="snmp_on" class="fst" value="on">On</button>
                </li>
                <li>
                    <button id="snmp_off" class="lst" value="off">Off</button>
                </li>
            </ul>
        </div>
        <div id="snmp_cfg_div">
            <div class="button-group-container">
                <b id="t_snmp_wan">SNMP Agent for WAN: </b>
                <ul>
                    <li>
                        <button id="snmp_wan_on" class="fst" value="on">On</button>
                    </li>
                    <li>
                        <button id="snmp_wan_off" class="lst" value="off">Off</button>
                    </li>
                </ul>
            </div>
            <div class="part-separate">
                <b id="t_read">Read Community: </b>
                <input type="text" id="rCommunity" size="15" value="public" maxlength="63">
            </div>
            <div>
                <b id="t_set">Set Community: </b>
                <input type="text" id="sCommunity" size="15" value="private" maxlength="63">
            </div>
            <div>
                <b id="t_name">System Name: </b>
                <input type="text" id="sysName" size="15" maxlength="126">
            </div>
            <div>
                <b id="t_desc">System Description: </b>
                <input type="text" id="sysDescr" size="15" maxlength="127">
            </div>
            <div>
                <b id="t_locale">System Location: </b>
                <input type="text" id="sysLocation" size="15" maxlength="127">
            </div>
            <div>
                <b id="t_concat">System Contact: </b>
                <input type="text" id="sysContact" size="15" maxlength="127">
            </div>
            <div>
                <b id="t_trapip">Trap Manager IP: </b>
                <input type="text" id="trapIp" value="0.0.0.0" size="15" maxlength="15" class="ip-address">
            </div>
            <button type="submit" class="green T_save" id="t_save">Save</button>
        </div>
    </form>
</div>
<script>$.tpInit(function(){snmpCfg=$.act(ACT_GET,SNMP_CFG,null,null,null),$.exe()||(0==snmpCfg.enable?($("#snmp_on").removeClass("selected"),$("#snmp_off").addClass("selected"),$("#snmp_cfg_div").addClass("nd")):($("#snmp_on").addClass("selected"),$("#snmp_off").removeClass("selected"),$("#snmp_cfg_div").removeClass("nd")),0==snmpCfg.wanEnable?($("#snmp_wan_on").removeClass("selected"),$("#snmp_wan_off").addClass("selected")):($("#snmp_wan_on").addClass("selected"),$("#snmp_wan_off").removeClass("selected")),$("#rCommunity").prop("value",snmpCfg.ROCommunity),$("#sCommunity").prop("value",snmpCfg.RWCommunity),$("#sysName").prop("value",snmpCfg.sysName),$("#sysDescr").prop("value",snmpCfg.sysDescr),$("#sysLocation").prop("value",snmpCfg.sysLocation),$("#sysContact").prop("value",snmpCfg.sysContact),$("#trapIp").tpAddress("val",snmpCfg.trapIpAddress?snmpCfg.trapIpAddress:"0.0.0.0"))}),$("#snmp_on").click(function(){$.act(ACT_SET,SNMP_CFG,null,null,["enable=1"]),$.exe(function(s){s||$.reload()})}),$("#snmp_off").click(function(){$.act(ACT_SET,SNMP_CFG,null,null,["enable=0"]),$.exe(function(s){s||$.reload()})}),$("#snmp_wan_on").click(function(){$.act(ACT_SET,SNMP_CFG,null,null,["wanEnable=1"]),$.exe(function(s){s||$.reload()})}),$("#snmp_wan_off").click(function(){$.act(ACT_SET,SNMP_CFG,null,null,["wanEnable=0"]),$.exe(function(s){s||$.reload()})}),$("#t_save").click(function(){var s;if($.addLoading($(this)),""==$("#rCommunity").prop("value"))return $.alert(ERR_SNMP_RCOMMUNITY_EMPTY),void((s=$("#rCommunity"))&&(s.focus(),s.select()));if(""==$("#sCommunity").prop("value"))return $.alert(ERR_SNMP_SCOMMUNITY_EMPTY),void((s=$("#sCommunity"))&&(s.focus(),s.select()));var n=$("#trapIp").tpAddress("val");if(""!=n&&"0.0.0.0"!=n&&$.ifip(n,!0))return $.alert(ERR_SNMP_TRAP_IP_INVAD),void $("#trapIp").tpAddress("focus");$.act(ACT_SET,SNMP_CFG,null,null,["ROCommunity="+$("#rCommunity").prop("value"),"RWCommunity="+$("#sCommunity").prop("value"),"sysName="+$("#sysName").prop("value"),"sysDescr="+$("#sysDescr").prop("value"),"sysLocation="+$("#sysLocation").prop("value"),"sysContact="+$("#sysContact").prop("value"),"trapIpAddress="+(""!=n?n:"0.0.0.0")]),$.exe(function(s){$.removeLoading(),s||$.reload()})})</script>
