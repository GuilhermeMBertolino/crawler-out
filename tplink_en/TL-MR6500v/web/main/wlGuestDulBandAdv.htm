<h3 id="et">Settings</h3>
<div class="content-container">
    <form class="pure-form pure-form-aligned">
        <div>
            <b class="l ru-hide"></b>
            <input type="checkbox" id="seeEachOther">
            <label id="t_allowsee">Allow guests to see each other</label>
        </div>
        <div>
            <b class="l ru-hide"></b>
            <input type="checkbox" id="accessLocal">
            <label id="t_lAccess">Allow guests to access to my local network</label>
        </div>
        <div id="check_usb" class="nd">
            <b class="l ru-hide"></b>
            <input type="checkbox" id="accessUSB">
            <label id="t_uAccess">Allow guests to access my USB Storage Sharing</label>
        </div>
        <div id="div_tc" class="nd">
            <div>
                <b class="l ru-hide" id="t_gNtc">Bandwidth Control:</b>
                <input type="checkbox" id="guestTcEn">
                <label id="t_entc">Enable guest network bandwidth control</label>
            </div>
            <div id="tcnum" class="nd">
                <div>
                    <b class="l" id="t_tcup">Egress Rate (kbps):</b>
                    <input type="text" id="guestTcMinUpBW" maxlength="6">
                    <span>-</span>
                    <input type="text" id="guestTcMaxUpBW" maxlength="6">
                </div>
                <div>
                    <b class="l" id="t_tcdown">Ingress Rate (kbps):</b>
                    <input type="text" id="guestTcMinDownBW" maxlength="6">
                    <span>-</span>
                    <input type="text" id="guestTcMaxDownBW" maxlength="6">
                </div>
            </div>
        </div>
        <div id="div_qos">
            <div>
                <b class="l" id="t_gNqos">OoS Settings:</b>
                <input type="checkbox" id="guestQosEn">
                <label id="t_enqos">Enable guest network qos settings</label>
            </div>
            <div id="div_qosDetails" class="nd">
                <div>
                    <b id="t_qosClass" class="l">QoS Class</b>
                    <select id="qosClass" class="">
                        <option class="T T_high" value="4">High</option>
                        <option class="T T_middle" value="3">Middle</option>
                        <option class="T T_low" value="2">Low</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="part-separate-s">
        <button type="submit" class="green T_save" id="saveAdv">Save</button>
        </div>
    </form>
</div>
<h3 class="T_wireless">Wireless</h3>
<div class="content-container">
    <form class="pure-form pure-form-aligned">
        <div>
            <b class="T_gn24 l">2.4GHz:</b>
            <input type="checkbox" id="wlEn_2g">
            <label class="T_wlradioenGuest">Enable Wireless Radio</label>
        </div>
        <div id="hideGuest_2g">
            <div class="inline">
                <b class="T_gnssid l">Name(SSID):</b>
                <input type="text" maxlength="32" oninput="$.maxlength(this)" id="ssid_2g" class="xl">
            </div>
            <div class="inline">
                <input type="checkbox" id="hideSSID_2g">
                <label class="T_hidessid">Hide SSID</label>
            </div>
        </div>
            <div id="guest_5g_div" class="nd">
                <b class="T_gn5 l">5GHz:</b>
                <input type="checkbox" id="wlEn_5g">
            <label class="T_wlradioenGuest">Enable Wireless Radio</label>
            </div>
            <div id="hideGuest_5g" class="nd">
                <div class="inline">
                    <b class="T_gnssid l">Name(SSID):</b>
                    <input type="text" maxlength="32" oninput="$.maxlength(this)" id="ssid_5g" class="xl">
                </div>
                <div class="inline">
                    <input type="checkbox" id="hideSSID_5g">
                    <label class="T_hidessid">Hide SSID</label>
                </div>
            </div>
        <div id="secArea" class="part-separate">
            <div>
                <b class="T_wlsec l">Security:</b>
                <input type="radio" name="security" id="noSec">
                <label class="T_wldissec">No Security</label>
                <input type="radio" name="security" id="wpaSec">
                <label class="T_wlsecpersonal">WPA/WPA2 Personal</label>
            </div>
            <div id="hideWpaSec" class="nd">
                <div>
                    <b class="T_version l">Version:</b>
                    <input type="radio" name="version" id="autoVersion">
                    <label class="T_auto">Auto</label>
                    <input type="radio" name="version" id="wpa2Version">
                    <label class="T_wpa2">WPA2-PSK</label>
                </div>
                <div>
                    <b class="T_encryption l">Encryption:</b>
                    <input type="radio" name="encryption" id="autoEncryption">
                    <label class="T_auto">Auto</label>
                    <input type="radio" name="encryption" id="tkipEncryption">
                    <label>TKIP</label>
                    <input type="radio" name="encryption" id="aesEncryption">
                    <label>AES</label>
                </div>
                <div class="pure-control-group">
                    <b class="T_wlpwd l">Wireless Password:</b>
                    <input type="text" maxlength="64" oninput="$.maxlength(this)" class="tp-input-text xl" id="passwd">
                </div>
            </div>
        </div>
        <button type="submit" class="green T_save" id="save_5g">Save</button>
    </form>
</div>
<script>!function(){var a,n,t,c,o,s,p,i,r,d,l,_,E="INCLUDE_APP_IQOS"in window&&1==INCLUDE_APP_IQOS;function A(e){e&&(e.focus(),e.select())}function u(e,n){return INCLUDE_QOS||""!=e.val()&&""!=n.val()?""==e.val()&&""==n.val()||(""!=e.val()&&$.isnum(e.val())&&0!=parseInt(e.val(),10)?""!=n.val()&&$.isnum(n.val())&&0!=parseInt(n.val(),10)?!(parseInt(n.val(),10)<parseInt(e.val(),10))||($.alert(ERR_TC_BW_ORDER_INVAD),A(n),!1):($.alert(ERR_TC_NUM_INVAD),A(n),!1):($.alert(ERR_TC_NUM_INVAD),A(e),!1)):($.alert(ERR_TC_NUM_INVAD),A(""==e.val()?e:n),!1)}function h(e){var n=$("#passwd"),c=n.prop("value");if(0==c.length)return $.alert(ERR_WLAN_WPA_PSK_EMPTY),n.focus(),n.select(),!1;if(c.length<8)return $.alert(ERR_WLAN_WPA_PSK_LENGTH_INVALID),n.focus(),n.select(),!1;if(64<=c.length){if(!function(e,n){e=e.toLowerCase();for(var c=0;c<e.length;c++)if(!("0"<=e.charAt(c)&&e.charAt(c)<="9"||"a"<=e.charAt(c)&&e.charAt(c)<="f"))return 0!=n&&$.alert(ERR_WLAN_WEP_KEY_HEX_INVALID),!1;return 0!=parseInt(e,16)||(0!=n&&$.alert(ERR_WLAN_WEP_KEY_HEX_INVALID),!1)}(c,0))return $.alert(ERR_WLAN_WPA_PSK_HEX_INVALID),n.focus(),n.select(),!1;n.prop("value",n.prop("value").substr(0,64))}else{if($.asc(c,!0))return $.alert(ERR_WLAN_WPA_PSK_ASCII_INVALID),n.focus(),n.select(),!1;if(1==/[ ]/.test(c))return $.alert(ERR_WLAN_WPA_PSK_SPACE_INVALID),n.focus(),n.select(),!1}return!(1==r&&"_2g"==e&&$("#wlEn_2g").prop("checked")||INCLUDE_LAN_WLAN_DUALBAND&&1==d&&"_5g"==e&&$("#wlEn_5g").prop("checked"))||!$("#tkipEncryption").prop("checked")||($.alert(ERR_WLAN_QSS_TKIP_CONFLICT),!1)}function N(e){return 0!=(n=$("#ssid"+e),c=$.realLen(n.prop("value")),INCLUDE_LAN_WLAN_MSSID&&INCLUDE_LAN_WLAN_GUESTNETWORK&&(n.prop("value")==a.SSID||INCLUDE_LAN_WLAN_DUALBAND&&n.prop("value")==t.SSID)?($.alert(CMM_WLAN_SSID_CONFLICTE),n.focus(),n.select(),!1):c<=0?($.alert(ERR_WLAN_SSID_IS_EMPTY),n.focus(),n.select(),!1):!(32<c&&($.alert(ERR_WLAN_SSID_LEN_OUTRANGE),n.focus(),n.select(),1)))&&((!$("#wpaSec").prop("checked")||0!=h(e))&&void 0);var n,c}function T(e){var n,c={};0!=N(e)&&(c.enable=$("#wlEn"+e).prop("data-checked")?1:0,c.SSID=$("#ssid"+e).prop("value"),c.SSIDAdvertisementEnable=$("#hideSSID"+e).prop("data-checked")?0:1,$("#noSec").prop("checked")?(c.beaconType="Basic",c.basicEncryptionModes="None",c.basicAuthenticationMode="None","_2g"==e?$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,s.__stack,null,c):INCLUDE_LAN_WLAN_DUALBAND&&$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,o.__stack,null,c)):$("#wpaSec").prop("checked")&&($("#autoEncryption").prop("checked")?n="TKIPandAESEncryption":$("#tkipEncryption").prop("checked")?n="TKIPEncryption":$("#aesEncryption").prop("checked")&&(n="AESEncryption"),$("#autoVersion").prop("checked")&&(c.beaconType="WPAand11i",c.WPAAuthenticationMode="PSKAuthentication",c.WPAEncryptionModes=n,c.IEEE11iAuthenticationMode="PSKAuthentication",c.IEEE11iEncryptionModes=n,c.preSharedKey=$("#passwd").prop("value")),$("#wpaVersion").prop("checked")&&(c.beaconType="WPA",c.WPAAuthenticationMode="PSKAuthentication",c.WPAEncryptionModes=n,c.preSharedKey=$("#passwd").prop("value")),$("#wpa2Version").prop("checked")&&(c.beaconType="11i",c.IEEE11iAuthenticationMode="PSKAuthentication",c.IEEE11iEncryptionModes=n,c.preSharedKey=$("#passwd").prop("value")),"_2g"==e?$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,s.__stack,null,c):INCLUDE_LAN_WLAN_DUALBAND&&$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,o.__stack,null,c)),$.exe(function(e){$.removeLoading()}))}function e(e,n){"Basic"==e.beaconType&&"None"==e.basicEncryptionModes?$("#noSec").prop("checked","checked"):"WPA"==e.beaconType?"PSKAuthentication"==e.WPAAuthenticationMode&&$("#wpaSec").prop("checked","checked"):"11i"!=e.beaconType&&"WPAand11i"!=e.beaconType||"PSKAuthentication"==e.IEEE11iAuthenticationMode&&$("#wpaSec").prop("checked","checked")}function S(e,n){"WPAand11i"==e.beaconType&&"PSKAuthentication"==e.WPAAuthenticationMode?($("#autoVersion").prop("checked","checked"),"TKIPEncryption"==e.IEEE11iEncryptionModes?$("#tkipEncryption").prop("checked","checked"):"AESEncryption"==e.IEEE11iEncryptionModes?$("#aesEncryption").prop("checked","checked"):$("#autoEncryption").prop("checked","checked")):"WPA"==e.beaconType&&"PSKAuthentication"==e.WPAAuthenticationMode?($("#wpaVersion").prop("checked","checked"),"TKIPEncryption"==e.WPAEncryptionModes?$("#tkipEncryption").prop("checked","checked"):"AESEncryption"==e.WPAEncryptionModes?$("#aesEncryption").prop("checked","checked"):$("#autoEncryption").prop("checked","checked")):"11i"==e.beaconType&&"PSKAuthentication"==e.IEEE11iAuthenticationMode?($("#wpa2Version").prop("checked","checked"),"TKIPEncryption"==e.IEEE11iEncryptionModes?$("#tkipEncryption").prop("checked","checked"):"AESEncryption"==e.IEEE11iEncryptionModes?$("#aesEncryption").prop("checked","checked"):$("#autoEncryption").prop("checked","checked")):($("#wpa2Version").prop("checked","checked"),$("#autoEncryption").prop("checked","checked")),null==e.preSharedKey?$("#passwd").prop("value",""):$("#passwd").prop("value",e.preSharedKey)}function L(){null==$.mainParam&&(1==s.enable&&$("#wlEn_2g").prop("checked",!0),0==a.enable&&($("#wlEn_2g").prop("disabled",!0),$.errorTip("wlEn_2g",ERR_WLAN_DISABLED),$("#ssid_2g").prop("disabled",!0),$("#hideSSID_2g").prop("disabled",!0)),$("#ssid_2g").prop("value",s.SSID),0==s.SSIDAdvertisementEnable&&$("#hideSSID_2g").prop("checked","checked"),e(s),S(s),INCLUDE_LAN_WLAN_DUALBAND&&(1==o.enable&&$("#wlEn_5g").prop("checked",!0),0==t.enable&&($("#wlEn_5g").prop("disabled",!0),$.errorTip("wlEn_5g",ERR_WLAN_DISABLED),$("#ssid_5g").prop("disabled",!0),$("#hideSSID_5g").prop("disabled",!0)),$("#ssid_5g").prop("value",o.SSID),0==o.SSIDAdvertisementEnable&&$("#hideSSID_5g").prop("checked","checked"),e(o),S(o)),0==s.isolateClients&&$("#seeEachOther").prop("checked","checked"),1==p.LANAccessEnable&&$("#accessLocal").prop("checked","checked"),1==p.USBAccessEnable&&$("#accessUSB").prop("checked","checked"),INCLUDE_LAN_WLAN_DUALBAND&&(0==o.isolateClients&&$("#seeEachOther").prop("checked","checked"),1==c.LANAccessEnable&&$("#accessLocal").prop("checked","checked"),1==c.USBAccessEnable&&$("#accessUSB").prop("checked","checked")),E?($("#div_tc").addClass("nd"),$("#div_qos").removeClass("nd"),INCLUDE_APP_IQOS&&(l=$.act(ACT_GET,IQOS,null,null)),$.exe(),0==l.enable&&($("#guestQosEn").prop("disabled",!0),$("#qosClass").prop("disabled",!0),$.errorTip("guestQosEn",n_str.wlGuestDulBandAdv.t_disqos)),$("#guestQosEn").prop("checked",1==l.guestEnable),1==l.guestEnable?$("#div_qosDetails").removeClass("nd"):$("#div_qosDetails").addClass("nd"),$("#qosClass").find("option[value="+l.guestClass+"]").prop("selected",!0)):($("#div_tc").removeClass("nd"),$("#div_qos").addClass("nd"),INCLUDE_LAN_WLAN_DUALBAND&&p.TCEnable==c.TCEnable&&1==p.TCEnable||!INCLUDE_LAN_WLAN_DUALBAND&&1==p.TCEnable?(0==_.enable&&($("#guestTcEn").prop("disabled",!0),$("#guestTcMinUpBW").prop("disabled",!0),$("#guestTcMaxUpBW").prop("disabled",!0),$("#guestTcMinDownBW").prop("disabled",!0),$("#guestTcMaxDownBW").prop("disabled",!0)),$("#guestTcEn").prop("checked","checked"),$("#tcnum").show()):0==_.enable?($("#tcnum").hide(),$("#guestTcEn").prop("disabled",!0),$.errorTip("guestTcEn",n_str.wlGuestDulBandAdv.t_distc)):$("#tcnum").hide(),$("#guestTcMinUpBW").prop("value",0==p.TCMinUpBW?"":p.TCMinUpBW),$("#guestTcMaxUpBW").prop("value",0==p.TCMaxUpBW?"":p.TCMaxUpBW),$("#guestTcMinDownBW").prop("value",0==p.TCMinDownBW?"":p.TCMinDownBW),$("#guestTcMaxDownBW").prop("value",0==p.TCMaxDownBW?"":p.TCMaxDownBW)))}$("#wpaSec").on("click.guestNetwork",function(e){$("#hideWpaSec").show("fast")}),$("#noSec").on("click.guestNetwork",function(e){$("#hideWpaSec").hide("fast")}),$("#save_5g").on("click.guestNetwork",function(e){$.addLoading($(this)),INCLUDE_LAN_WLAN_DUALBAND&&T("_5g"),T("_2g")}),$("#saveAdv").on("click.guestNetwork",function(e){$.addLoading($(this)),function(){var e={};if(E){if(1==l.enable){var n={};n.guestEnable=$("#guestQosEn").prop("data-checked")?1:0,1==n.guestEnable&&(n.guestClass=$("#qosClass").data("value")),$.act(ACT_SET,IQOS,null,null,n)}}else if(3==_.enable&&(e.TCEnable=$("#guestTcEn").prop("data-checked")?1:0,1==e.TCEnable)){if(!u($("#guestTcMinUpBW"),$("#guestTcMaxUpBW")))return;if(!u($("#guestTcMinDownBW"),$("#guestTcMaxDownBW")))return;if(parseInt(_.upTotalBW,10)<parseInt($("#guestTcMinUpBW").prop("value"),10))return $.alert(CMM_TC_UP_BANDWIDTH),$("#guestTcMinUpBW").focus().select();if(parseInt(_.downTotalBW,10)<parseInt($("#guestTcMinDownBW").prop("value"),10))return $.alert(CMM_TC_DOWN_BANDWIDTH),$("#guestTcMinDownBW").focus().select();e.TCMinUpBW=""==$("#guestTcMinUpBW").prop("value")?0:parseInt($("#guestTcMinUpBW").prop("value"),10),e.TCMaxUpBW=""==$("#guestTcMaxUpBW").prop("value")?0:parseInt($("#guestTcMaxUpBW").prop("value"),10),e.TCMinDownBW=""==$("#guestTcMinDownBW").prop("value")?0:parseInt($("#guestTcMinDownBW").prop("value"),10),e.TCMaxDownBW=""==$("#guestTcMaxDownBW").prop("value")?0:parseInt($("#guestTcMaxDownBW").prop("value"),10)}var c=$("#seeEachOther").prop("data-checked")?0:1;e.LANAccessEnable=$("#accessLocal").prop("data-checked")?1:0,e.USBAccessEnable=$("#accessUSB").prop("data-checked")?1:0,e.eachOtherAccessEnable=$("#seeEachOther").prop("data-checked")?1:0,$.act(ACT_SET,LAN_WLAN_MSSIDENTRY,s.__stack,null,["IsolateClients="+c]),$.act(ACT_SET,LAN_WLAN_GUESTNET,a.__stack,null,e),INCLUDE_LAN_WLAN_DUALBAND&&($.act(ACT_SET,LAN_WLAN_MSSIDENTRY,o.__stack,null,["IsolateClients="+c]),$.act(ACT_SET,LAN_WLAN_GUESTNET,t.__stack,null,e)),$.exe(function(e){$.removeLoading()})}()}),$("#guestTcEn").on("click.guestNetwork",function(e){1==$(this).prop("data-checked")?$("#tcnum").show():$("#tcnum").hide()}),$("#guestQosEn").on("click.guestNetwork",function(e){1==$(this).prop("data-checked")?$("#div_qosDetails").show():$("#div_qosDetails").hide()}),$("#wpa2Version").on("click.guestNetwork",function(e){$("#autoEncryption").prop("disabled",!0).prop("checked",!1).data("tpRadio").refresh(),$("#tkipEncryption").prop("disabled",!0).prop("checked",!1).data("tpRadio").refresh(),$("#aesEncryption").prop("checked",!0).data("tpRadio").refresh()}),$("#autoVersion").on("click.wlSettings",function(e){$("#autoEncryption").prop("disabled",!1).data("tpRadio").refresh(),$("#tkipEncryption").prop("disabled",!1).data("tpRadio").refresh()}),$.tpInit(function(){var e=$.act(ACT_GL,LAN_WLAN,null,null,["Enable","SSID","X_TP_Band","BeaconType","BasicEncryptionModes"]);$.exe()||($.each(e,function(){"2.4GHz"==this.X_TP_Band&&(a=this),INCLUDE_LAN_WLAN_DUALBAND&&"5GHz"==this.X_TP_Band&&(t=this)}),wpsObj_2g=$.act(ACT_GET,LAN_WLAN_WPS,a.__stack,null,["Enable"]),$.act(ACT_GET,LAN_WLAN_MULTISSID,a.__stack,null,["MultiSSIDEnable"]),n=$.act(ACT_GS,LAN_WLAN_MSSIDENTRY,null,a.__stack,["Name","Enable","SSID","SSIDAdvertisementEnable","isolateClients","BeaconType","BasicAuthenticationMode","WEPKeyIndex","BasicEncryptionModes","WPAEncryptionModes","WPAAuthenticationMode","IEEE11iEncryptionModes","IEEE11iAuthenticationMode","PreSharedKey","GroupKeyUpdateInterval","RadiusServerIP","RadiusServerPort","RadiusServerPassword"]),p=$.act(ACT_GET,LAN_WLAN_GUESTNET,a.__stack,null,["Enable","Name","IsModified","LANAccessEnable","EachOtherAccessEnable","USBAccessEnable","TCEnable","TCMaxUpBW","TCMinUpBW","TCMaxDownBW","TCMinDownBW","TCRuleID"]),INCLUDE_LAN_WLAN_DUALBAND&&(wpsObj_5g=$.act(ACT_GET,LAN_WLAN_WPS,t.__stack,null,["Enable"]),$.act(ACT_GET,LAN_WLAN_MULTISSID,t.__stack,null,["MultiSSIDEnable"]),i=$.act(ACT_GS,LAN_WLAN_MSSIDENTRY,null,t.__stack,["Name","Enable","SSID","SSIDAdvertisementEnable","isolateClients","BeaconType","BasicAuthenticationMode","WEPKeyIndex","BasicEncryptionModes","WPAEncryptionModes","WPAAuthenticationMode","IEEE11iEncryptionModes","IEEE11iAuthenticationMode","PreSharedKey","GroupKeyUpdateInterval","RadiusServerIP","RadiusServerPort","RadiusServerPassword"]),c=$.act(ACT_GET,LAN_WLAN_GUESTNET,t.__stack,null,["Enable","Name","IsModified","LANAccessEnable","EachOtherAccessEnable","USBAccessEnable","TCEnable","TCMaxUpBW","TCMinUpBW","TCMaxDownBW","TCMinDownBW","TCRuleID"])),_=INCLUDE_APP_IQOS?$.act(ACT_GET,IQOS,null,null):$.act(ACT_GET,TC,null,null),$.exe()||(r=wpsObj_2g.enable,$.each(n,function(e,n){this.name==p.name&&(s=this)}),p.enable,INCLUDE_LAN_WLAN_DUALBAND&&(d=wpsObj_5g.enable,$.each(i,function(e,n){this.name==c.name&&(o=this)}),c.enable)),INCLUDE_USB_STORAGE&&$("#check_usb").removeClass("nd"),L()),INCLUDE_LAN_WLAN_DUALBAND&&($("#guest_5g_div").removeClass("nd"),$("#hideGuest_5g").removeClass("nd"))})}()</script>
