<h3 id="t_diskSett">Device Settings</h3>
<div class="content-container">
    <form class="pure-form pure-form-aligned">
        <button type="submit" id="refresh" class="blue left T_scan">Scan</button>
        <div id="usb_drawing" class="part-separate">
        </div>
        <div id="chart_cnt" class="part-separate">
        </div>
        <div id="chart_tip" class="nd">
            <div id="chart_tips_point"></div>
            <p></p>
            <div id="chart_tips_button"></div>
        </div>
    </form>
</div>
<script>!function(){var s,l,o;function c(t){var e={};"Online"==s[t].status?(e.enable=0,s[t].enable=0):"Standby"==s[t].status&&1==s[t].enable?(s[t].enable=0,e.enable=0):(s[t].enable=1,e.enable=1),$.act(ACT_SET,USB_DEVICE,s[t].__stack,null,e),$.exe(function(){$.removeLoading(),$.reload()})}function e(t){var e={};"Standby"==s[t].status&&1==s[t].enable&&(e.enable=1,$.act(ACT_SET,USB_DEVICE,s[t].__stack,null,e),$.exe()||$.reload())}function v(t){var e,a,n={};if("Online"==l[t].status)n.enable=0;else{if("Error"==l[t].status)return;if("Offline"==l[t].status&&"1"==l[t].enable)return e=t,a={enable:1,force:1},$.act(ACT_SET,LOGICAL_VOLUME,l[e].__stack,null,a),void($.exe()||$.reload());"Offline"==l[t].status?n.enable=1:$.reload()}$.act(ACT_SET,LOGICAL_VOLUME,l[t].__stack,null,n),$.exe(function(){$.removeLoading(),$.reload()})}function a(){var t,e,a=[];for(o=1;o<=s.length;o++)if("Online"==s[o-1].status){for(t=e=0;t<l.length;t++)s[o-1].__stack.split(",")[0]==l[t].__stack.split(",")[0]&&e++;for(t=0;t<l.length;t++)if(s[o-1].__stack.split(",")[0]==l[t].__stack.split(",")[0]){var n;n="Online"==l[t].status||("Error"==l[t].status||"Offline"==l[t].status&&l[t].enable,!1),0!=s[o-1].enable&&"Online"==s[o-1].status||(n=!1);var i={text:"<span class='safely-remove-icon table-icon' data-index='"+(o-1)+"'></span>",width:"15%",rowspan:e};a.push([{text:l[t].label+":("+l[t].name+")",width:"15%"},{text:l[t].capacity,width:"20%"},{text:r(p(l[t].freeSpace),p(l[t].capacity)),width:"38%"},{text:'<span class="table-grid-icon'+(n?" enable-icon":" disable-icon")+'" data-index="'+t+'"></span>',width:"12%"},i])}}return $.initTableBody($("#volumeTbl"),a),a}function r(t,e){var a=1-t/e,n=.9<=a,i='<div class="inline-block">';return i+='<div class="" style="position: relative; display: inline-block;">',i+='<div class="" style="margin-bottom:10px;top:7px;position:relative;">',i+='<div class="" style="border: 0 none;background-color: #a7a9ac;width: 230px; height: 6px;">',i+='<div class="progressbar-value'+(n?" grid_alert":"")+'" style="width:'+230*a+'px;height:100%;overflow: hidden;"></div>',i+="</div>",i+="</div>",i+="</div>",i+='<div class="volume-progress-text">',i+='<span class="'+(n?"grid_alert":"")+'">'+s_str.used+":"+(e-t).toFixed(1)+"G</span>",i+="<span>"+s_str.free+":"+t+"G</span>",i+="</div>",i+="</div>"}function p(t){return/K/.test(t)?1*(1*t.split(" K")[0]/1024/1024).toFixed(1):/M/.test(t)?1*(1*t.split(" M")[0]/1024).toFixed(1):/G/.test(t)?1*(1*t.split(" G")[0]).toFixed(1):/T/.test(t)?1*(1024*t.split(" T")[0]).toFixed(1):1*(1*t).toFixed(1)}$.tpInit(function(){if(s=$.act(ACT_GL,USB_DEVICE,null,null),l=$.act(ACT_GL,LOGICAL_VOLUME,null,null),$("#chart_tip p").text(c_str.usbChartInfo),$("#chart_tips_button").text(m_str.ok),!$.exe()){if(0==s.length)return;if(s.length<=2&&function(t,e){for(var a=0,n=0;n<t.length;n++){for(var i=0,s=0;s<e.length;s++)$.stkPop(e[s].__stack)==t[n].__stack&&(i+=1);if(a<i&&(a=i),5<a)return!1}return!0}(s,l))!function(h,u){var a,n=["#4ACBD6","#11BBBF","#0D9999","#86E2E2","#59E6EA"],t=[];$("#chart_cnt").empty().show(),$("#usb_drawing").hide(),0<h.length&&-1===document.cookie.search("usbInfo=1")&&(document.cookie="usbInfo=1",$.showCover(),$("#mask").css({background:"#000",opacity:"0.3"}),$("#chart_tip").removeClass("nd"),$("#main").scrollTop(0));for(var i=0;i<h.length;i++)if("Online"==h[i].status){var s=0,l=0;t[i]=document.createElement("div"),$(t[i]).attr("class","device_chart"),$("#chart_cnt").append(t[i]),$.each(u,function(t){$.stkPop(this.__stack)==h[i].__stack&&(s+=p(this.capacity))}),a=[];var f=document.createElement("canvas");f.className="bg-line",f.width=350,f.height=350;var e=document.createElement("ul");e.className="device_info_ul",$.each(u,function(t){var o,c,r,d,e=this;$.stkPop(e.__stack)==h[i].__stack&&(o=i,c=l,r=f,d=s,a.push({value:p(e.capacity),color:"1"==e.enable?n[c%5]:"#A7A9AC",label:e.label+":("+e.name+")",free:p(e.freeSpace),clickCallback:function(){$.addLoading(),v(t)},showInfo:function(){var t,e=0,a=0,n=this.outerRadius,i=r.getContext("2d");$("#chart_cnt .device_chart:eq("+o+")").find("div.device_info").hide(),i.clearRect(0,0,350,350),i.beginPath(),i.strokeStyle=this.fillColor,i.lineWidth=2,i.moveTo(170,170),$.each(u,function(){$.stkPop(this.__stack)==h[o].__stack&&(a<c&&(e+=p(this.capacity)),a++)}),e=e/d*2*Math.PI,t=this.value/d*2*Math.PI,this.value==d&&(t=2.3);var s=e+t/2>Math.PI?-1:0,l=$("#chart_cnt .device_chart:eq("+o+")").find("div.device_info:eq("+c+")");i.lineTo(170+1.4*n*Math.sin(e+t/2),170-1.4*n*Math.cos(e+t/2)),i.lineTo(170+1.4*n*Math.sin(e+t/2)+(0==s?1:-1)*l.width(),170-1.4*n*Math.cos(e+t/2)),i.stroke(),_&&(i.beginPath(),i.fillStyle="#ffffff",i.arc(170,170,36,0,2*Math.PI,!1),i.fill()),l.show()},hideInfo:function(){var t=r.getContext("2d");$("#chart_cnt .device_chart:eq("+o+")").find("div.device_info").hide(),t.clearRect(0,0,350,350)}}),l++)}),1===a.length&&a.push({value:.01,color:"#fff",label:"",free:.01,clickCallback:function(){},showInfo:function(){},hideInfo:function(){}}),$("#chart_cnt .device_chart:eq("+i+")").append(f),$("#chart_cnt .device_chart:eq("+i+")").append(e);var o=document.createElement("canvas");o.width=140,o.height=140,$("#chart_cnt .device_chart:eq("+i+")").append(o);var _="Microsoft Internet Explorer"==navigator.appName&&"MSIE8.0"==navigator.appVersion.split(";")[1].replace(/[ ]/g,"");_&&(o=window.G_vmlCanvasManager.initElement(o),f=window.G_vmlCanvasManager.initElement(f)),function(u,f,v){new Chart(u.getContext("2d")).Doughnut(a,{showTooltips:!0,segmentStrokeWidth:1,percentageInnerCutout:45,animationSteps:30,animationEasing:"easeOutQuad",onAnimationComplete:function(){for(var t,e,a,n,i,s,l=v.getContext("2d"),o=0,c=0,r=0,d=this.outerRadius,h=0;h<this.segments.length;h++)a=this.segments[h].value/this.total*2*Math.PI,2==this.segments.length&&(a=2.3),t=document.createElement("div"),e=document.createElement("li"),t.className="device_info",e.className="device_info_li",$(u).closest(".device_chart").append(t),$(u).closest(".device_chart").find(".device_info_ul").append(e),c=o+a/2>Math.PI?-1:0,r=-1,$(t).css("top",parseInt(d-1.4*d*Math.cos(o+a/2)+r*t.offsetHeight-1)+"px"),$(t).css("left",parseInt(d+1.4*d*Math.sin(o+a/2)+c*t.offsetWidth+20)+"px"),n=-1<(1*this.segments[h].value-1*this.segments[h].free+"").indexOf(".")?(1*this.segments[h].value-1*this.segments[h].free).toFixed(1):1*this.segments[h].value-1*this.segments[h].free,i=-1<(1*this.segments[h].free+"").indexOf(".")?(1*this.segments[h].free).toFixed(1):1*this.segments[h].free,t.innerHTML="<h4>"+this.segments[h].label+'</h4><ul><li class="'+(9<=n/i?"alert":"")+'">'+s_str.used+": "+n+"G</li><li>"+s_str.free+": "+i+"G</li></ul>",e.innerHTML='<div style="background:'+this.segments[h].fillColor+'"></div>'+this.segments[h].label.split("(")[0],o+=a,t.style.display="none";l.beginPath(),l.fillStyle="#ffffff",l.arc(170,170,36,0,2*Math.PI,!1),l.fill(),f=-1<(f+"").indexOf(".")?(1*f).toFixed(1):1*f,s=_?'<div class="device_total" style="background:transparent;">'+f+"G</div>":'<div class="device_total">'+f+"G</div>",$(u).closest(".device_chart").append($(s))}})}(o,s,f),$("#chart_cnt .device_chart:eq("+i+")").append($('<button data-index="'+i+'" type="submit" class="bottom_button blue">'+m_str.remove+"</button>"))}$(".bottom_button").click(function(){var t=$(this).attr("data-index");$.addLoading(),c(t)})}(s,l);else{for(o=0;o<s.length;o++)"Online"==s[o].status&&0;for(o=0;o<l.length;o++)"Online"==l[o].status&&0;"<table id='volumeTbl'><thead></thead><tbody></tbody></table>",$("#usb_drawing").append("<table id='volumeTbl'><thead></thead><tbody></tbody></table>").append("<br>");var t=[{text:table_str.name,width:"15%"},{text:table_str.total,width:"20%"},{text:table_str.capacity,width:"38%"},{text:table_str.enable,width:"12%"},{text:m_str.remove,width:"15%"}];$.initTableHead($("#volumeTbl"),t),$("#volumeTbl").tpTable(a)}}}),$("#refresh").click(function(){if($.addLoading($(this)),s=$.act(ACT_GL,USB_DEVICE,null,null),!$.exe()){if(0==s.length)return $.removeLoading(),void $.reload();var t;for(t=0;t<s.length;t++)s[t].enable=1,e(t);$.removeLoading(),$.reload()}}),$("#chart_tips_button").click(function(){$.hideCover(),$("#mask").css({background:"#36444b",opacity:"0.2"}),$("#chart_tip").addClass("nd")}),$("#usb_drawing").on("click","span.safely-remove-icon",function(){var t=$(this).attr("data-index");$.addLoading(),c(t)}).on("click","span.disable-icon, span.enable-icon",function(){v($(this).attr("data-index"))})}()</script>
