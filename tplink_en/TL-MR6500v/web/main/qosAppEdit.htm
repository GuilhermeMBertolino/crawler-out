<script>var upQueueList=[],upQueueNum=0,dscp_list=new Array(["AF13","56"],["AF12","48"],["AF11","40"],["CS1","32"],["AF23","88"],["AF22","80"],["AF21","72"],["CS2","64"],["AF33","120"],["AF32","112"],["AF31","104"],["CS3","96"],["AF43","152"],["AF42","144"],["AF41","136"],["CS4","128"],["EF","184"],["CS5","160"],["CS6","192"],["CS7","224"]),app_name_list=new Array(["VoIP","VOIP"],["TR069","TR069"],["Other","OTHER"]);function draw_one_option(e,a,p){$("#"+e).append("<option value="+p+">"+a+"</option>")}function draw_app_option(){$.each(app_name_list,function(){draw_one_option("app_name",this[0],this[1])})}function draw_cos_option(e){for(var a=0;a<8;a++)draw_one_option(e,a,a)}function draw_dscp_option(e){$.each(dscp_list,function(){draw_one_option(e,this[0],this[1])})}function draw_queue_option(e,a){for(var p=0;p<a;p+=2)draw_one_option("qos_queue",e[p],e[p+1])}function init(){$.each(queueList,function(){qosIntfCfg[0].__stack==$.stkPop(this.__stack,1)&&(upQueueList[upQueueNum++]=this.queueName,upQueueList[upQueueNum++]=this.queueKey)}),draw_app_option(),$.id("qos_dir").value="Upstream",draw_queue_option(upQueueList,upQueueNum),draw_cos_option("cos_mark"),draw_dscp_option("dscp_mark"),0<=appClsEditIndex?(appCfg=appClsList[appClsEditIndex],$("#app_name option[value="+appCfg.appName+"]").prop("selected","selected"),$("#status_en").prop("checked",1==appCfg.appEnable),$("#qos_queue option[value="+appCfg.classQueue+"]").prop("selected","selected"),$("#cos_mark option[value="+appCfg.ethernetPriorityMark+"]").prop("selected","selected"),$("#dscp_mark option[value="+appCfg.DSCPMark+"]").prop("selected","selected")):($("#qos_queue option[value=-1]").prop("selected","selected"),$("#cos_mark option[value=-1]").prop("selected","selected"),$("#dscp_mark option[value=-1]").prop("selected","selected"))}function selectObj(e){var a=$("#"+e);a&&(a.focus(),a.select())}function doSave(){}function clickOK(){var e={};if(""==$("#app_name").data("value"))return $.alert(ERR_QOS_APP_NAME),selectObj("app_name"),!1;if(e.appName=$("#app_name").data("value"),e.appEnable=1==$("#status_en").prop("data-checked")?1:0,-1==$("#qos_queue").data("value")||""==$("#qos_queue").data("value"))return $.alert(ERR_QOS_EMPTY_QUEUE),selectObj("qos_queue"),!1;e.classQueue=$("#qos_queue").data("value"),e.classInterface=qosIntfCfg[0].interfaceKey,e.DSCPMark=parseInt($("#dscp_mark").data("value"),10),e.ethernetPriorityMark=parseInt($("#cos_mark").data("value"),10);var a=ACT_ADD,p=null;0<=appClsEditIndex&&(a=ACT_SET,p=appClsList[appClsEditIndex].__stack),$.act(a,QOS_APP,p,null,e),$.exe(function(e){e||$.removeLoading(),$.reload()})}function clickCancel(){$.reload()}</script>
<div class="content-container">
	<form class="pure-form pure-form-aligned">
		<div>
			<p class="br"></p>
			<span id="t_note1">Note: A blank criteria indicates no operation.</span>
			<p class="br"></p>
		</div>
		<div>
			<b id="str_app_name">Business Name:</b>
			<select id="app_name" class="xl">
			</select>
		</div>
		<div>
			<b id="dir">Direction:</b>
			<input class="xl" type="text" id="qos_dir" disabled="disabled">
		</div>
		<div>
			<b id="queue">Queue:</b>
			<select id="qos_queue" class="xl">
				<option value="-1">&nbsp;</option>
			</select>
		</div>
		<div>
			<b id="str_dscp_mark">Mark Differentiated Service Code Point (DSCP):</b>
			<select id="dscp_mark" class="xl">
				<option value="-1">&nbsp;</option>
			</select>
		</div>
		<div>
			<b id="str_cos_mark">Mark 802.1P Priority:</b>
			<select id="cos_mark" class="xl">
				<option value="-1">&nbsp;</option>
			</select>
		</div>
	        <div>
	            <b></b>
	            <input type="checkbox" id="status_en" checked="true">
	            <label class="c_enable">Enable this entry</label>
	        </div>
	        <div class="inline-btn-right">
	            <button type="submit" class="green inline T_cancel" id="editCancel">Cancel</button>
	            <button type="submit" class="green inline T_save" id="editOK">Save</button>
	        </div>
	</form>
</div>
<script>$("#editOK").on("click",function(i){$.addLoading($(this)),clickOK()}),$("#editCancel").on("click",function(i){clickCancel()}),$.tpInit(init)</script>
