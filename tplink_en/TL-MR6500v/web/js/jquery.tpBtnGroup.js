!function($){"use strict";function TPBtnGroup(){}TPBtnGroup.prototype={constuctor:TPBtnGroup,instances:[],init:function(id){var tag;this.id=id,this.$btngroup=$("#"+id);var bTmp=this.$btngroup.children("b");void 0!==$(bTmp).attr("class")&&(tag=$(bTmp).attr("class")),$(bTmp).replaceWith("<label class='label-title "+tag+"'>"+$(bTmp).html()+"</label>"),this.$btngroup.addClass("pure-control-group"),this.$btngroup.children("ul").addClass("button-group-container"),this.$button=this.$btngroup.find("ul li button"),this.$button.addClass("button-group-button").html("");this.$btngroup.children("ul").wrap("<div class='button-group-wrap widget-wrap'></div>");this.$btngroup.children("div").children("ul").after("<ul class='button-group-cover'></ul>");var errorTips='<div class="widget-error-tips flow" id="'+this.$btngroup.attr("id")+'_tips"><div class="widget-error-tips-wrap"><div class="content error-tips-content"><span id="'+this.$btngroup.attr("id")+'_tips_content"></span></div></div></div>';this.errorTips=$(errorTips).hide(),this.$btngroup.find(".button-group-wrap").wrap('<div style="display: inline-block">').after(this.errorTips),this.refresh(),this.registerHandlers()},refresh:function(){"on"==this.$btngroup.find("button.button-group-button.selected").val()?this.$btngroup.addClass("on").removeClass("off"):this.$btngroup.addClass("off").removeClass("on")},clickBtn:function(e,me){e.preventDefault(),$(me).hasClass("selected")||($(me).addClass("selected"),$(me).closest("li").siblings("li").find("button.button-group-button").removeClass("selected"))},registerHandlers:function(){var self=this;self.unregisterHandlers(),self.$button.on("click.tpBtnGroup",function(e){self.clickBtn(e,this),self.refresh()}),self.$btngroup.find("div.button-group-wrap").children("ul.button-group-cover").on("click.tpBtnGroup",function(e){self.$btngroup.hasClass("disabled")||(self.$btngroup.hasClass("on")?self.$btngroup.find("button.button-group-button[value=off]").click():self.$btngroup.find("button.button-group-button[value=on]").click())})},unregisterHandlers:function(){$(this).off(".tpBtnGroup")},destroy:function(){this.unregisterHandlers(),delete Object.getPrototypeOf(this).instance[this.id],$(this).removeData("tpBtnGroup")}},$.fn.tpBtnGroup=function(options){options=$.extend({},options),this.each(function(){var tpbtngroup=$(this).data("tpBtnGroup");if(tpbtngroup)"destroy"===options&&tpbtngroup?tpbtngroup.destroy():$(this).data("tpBtnGroup").refresh();else{var instance=new TPBtnGroup;$(this).data("tpBtnGroup",instance),""!=this.id&&void 0!==this.id||$(this).prop("id",$.randomId("tpbtngroup")),(instance.instances[this.id]=instance).init(this.id)}})}}(jQuery);