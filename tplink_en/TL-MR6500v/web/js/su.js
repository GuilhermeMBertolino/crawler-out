!function($){$.su=$.su||{},$.su.CHAR=$.su.CHAR||{},$.su.CHAR.VTYPETEXT=$.tpLang.VTYPETEXT,$.su.vtype=function(options){var defaults={type:"sample",regex:/^[a-zA-Z0-9]&/,vtypeText:"sample run!",validator:null},name="",opt={};if("string"===$.type(options)?name=options:"object"===$.type(options)&&options.vtype&&(name=options.vtype,opt=options),!$.su.vtype.types[name])return null;defaults=$.su.vtype.types[name],$.extend(this,defaults,opt,{isVtype:!0})},$.su.vtype.types={email:{regex:/^[a-zA-Z0-9_+.-]+\@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,4}$/,vtypeText:$.su.CHAR.VTYPETEXT.EMAIL},float:{regex:/^-?[0-9]\d*(.[0-9]\d{0,2})?$/,vtypeText:$.su.CHAR.VTYPETEXT.NUMBER,validator:function(value){if((value=parseFloat(value),null!==this.max||void 0!==this.max)&&value>this.max)return null===this.min&&void 0===this.min?$.su.CHAR.VTYPETEXT.NUMBER_MAX.replace("%max",this.max.toString()):$.su.CHAR.VTYPETEXT.NUMBER_MIN_MAX.replace("%min",this.min.toString()).replace("%max",this.max.toString());if((null!==this.min||void 0!==this.min)&&value<this.min)return null===this.max&&void 0===this.max?$.su.CHAR.VTYPETEXT.NUMBER_MIN.replace("%min",this.min.toString()):$.su.CHAR.VTYPETEXT.NUMBER_MIN_MAX.replace("%min",this.min.toString()).replace("%max",this.max.toString());return!0}},number:{regex:/^-?[0-9]\d*$/,vtypeText:$.su.CHAR.VTYPETEXT.NUMBER,validator:function(value){if((value=parseInt(value,10),null!==this.max||void 0!==this.max)&&value>this.max)return null===this.min&&void 0===this.min?$.su.CHAR.VTYPETEXT.NUMBER_MAX.replace("%max",this.max.toString()):$.su.CHAR.VTYPETEXT.NUMBER_MIN_MAX.replace("%min",this.min.toString()).replace("%max",this.max.toString());if((null!==this.min||void 0!==this.min)&&value<this.min)return null===this.max&&void 0===this.max?$.su.CHAR.VTYPETEXT.NUMBER_MIN.replace("%min",this.min.toString()):$.su.CHAR.VTYPETEXT.NUMBER_MIN_MAX.replace("%min",this.min.toString()).replace("%max",this.max.toString());return!0},keybordHandler:function(e){e.stopPropagation();var keyCode=e.keyCode,shiftKey=e.shiftKey,ctrlKey=e.ctrlKey;if(shiftKey)return!1;if(37==keyCode||39==keyCode)return!0;if(38==keyCode||40==keyCode){var input=$(this),_value=input.val();if($.su.vtype.types.number.regex.test(_value))if(38==keyCode){if(!(_value<(input.hasClass("hour-text")?23:59)))return!1;input.val(parseInt(_value,10)+1)}else{if(0==_value)return!1;input.val(parseInt(_value,10)-1)}else input.val(0)}return!(!ctrlKey&&(keyCode<48||57<keyCode)&&32<keyCode)&&void 0}},date:{regex:/^(0[1-9]|1[0-2])\/(0[1-9]|1[0-9]|2[0-9]|3[0-1])\/([0-9]{4})$/,vtypeText:$.su.CHAR.VTYPETEXT.DATE,validator:function(val){var arr=val.split("/");if(parseInt(arr[2],10)<1970)return $.su.CHAR.VTYPETEXT.DATE_INVALID;if(2030<parseInt(arr[2],10))return $.su.CHAR.VTYPETEXT.DATE_INVALID;var formatDate=arr[2]+"/"+arr[0]+"/"+arr[1];return new Date(formatDate).getDate()==formatDate.substring(formatDate.length-2)}},ipv6:{isPrefixFlag:!1,regex:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,vtypeText:$.su.CHAR.VTYPETEXT.IPV6,validator:function(val){if(!new RegExp("^[2-3][0-9A-Fa-f]{1,3}:").test(val))return $.su.CHAR.VTYPETEXT.IPV6_NOT_GLOBAL;var reg2=new RegExp("::$");if(this.isPrefixFlag){if(!reg2.test(val))return $.su.CHAR.VTYPETEXT.IPV6_NOT_PREFIX}else if(reg2.test(val))return $.su.CHAR.VTYPETEXT.IPV6_NOT_GLOBAL;var arr=val.match(/:/g);return!(this.isPrefixFlag&&5<arr.length)||$.su.CHAR.VTYPETEXT.IPV6_NOT_PREFIX}},ip:{allowAllZeroFlag:!1,disallowAllZeroText:$.su.CHAR.VTYPETEXT.IP_NO_ALL_ZERO,allowLoopFlag:!1,disallowLoopText:$.su.CHAR.VTYPETEXT.IP_NO_LOOP,allowDTypeFlag:!1,disallowDTypeText:$.su.CHAR.VTYPETEXT.IP_NO_D_TYPE,allowETypeFlag:!1,disallowETypeText:$.su.CHAR.VTYPETEXT.IP_NO_E_TYPE,allowAllOneFlag:!1,disallowAllOneText:$.su.CHAR.VTYPETEXT.IP_NO_ALL_ONE,disallowFirstZeroFlag:!0,disallowFirstZeroText:$.su.CHAR.VTYPETEXT.IP_NO_FIRST_ZERO,disallowFirstAllOneText:$.su.CHAR.VTYPETEXT.IP_NO_FIRST_ALL_ONE,regex:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5]|0\d\d)(\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5]|0\d\d)){3}$/,validator:function(value){var remain,i,ipStr=value,szarray=[0,0,0,0];for(i=0;i<3;i++){var n=ipStr.indexOf(".");szarray[i]=ipStr.substring(0,n),ipStr=remain=ipStr.substring(n+1)}for(szarray[3]=remain,i=0;i<4;i++)if(szarray[i]<0||255<szarray[i])return!1;if(!this.allowLoopFlag&&127==szarray[0])return this.disallowLoopText;if(!this.allowDTypeFlag&&224<=szarray[0]&&szarray[0]<=239)return this.disallowDTypeText;if(!this.allowETypeFlag&&240<=szarray[0]&&szarray[0]<=254)return this.disallowETypeText;if(this.allowAllOneFlag){if(255==szarray[0]&&255==szarray[1]&&255==szarray[2]&&255==szarray[3]);else if(255==szarray[0])return this.disallowFirstAllOneText}else{if(255==szarray[0]&&255==szarray[1]&&255==szarray[2]&&255==szarray[3])return this.disallowAllOneText;if(255==szarray[0])return this.disallowFirstAllOneText}return this.allowAllZeroFlag||0!=szarray[0]||0!=szarray[1]||0!=szarray[2]||0!=szarray[3]?!(!this.allowAllZeroFlag&&!this.allowFirstZeroFlag&&0==szarray[0])||this.disallowFirstZeroText:this.disallowAllZeroText},vtypeText:$.su.CHAR.VTYPETEXT.IP},ip_no_zero:{},mac:{regex:/^[a-fA-F\d]{2}\:[a-fA-F\d]{2}\:[a-fA-F\d]{2}\:[a-fA-F\d]{2}\:[a-fA-F\d]{2}\:[a-fA-F\d]{2}$/,disallowAllMultiText:$.su.CHAR.VTYPETEXT.MULTI_MAC,validator:function(value){if(/^\s*[0-9A-Fa-f]{1}[13579bdfBDF]{1}(\-[A-Fa-f0-9]{2}){5}\s*$/.test(value))return this.disallowAllMultiText;return!/^(0{1,2}-){5}0{1,2}$/.test(value)},vtypeText:$.su.CHAR.VTYPETEXT.MAC},netmask:{allowAllOneFlag:!1,disallowAllOneText:$.su.CHAR.VTYPETEXT.MASK_NO_ALL_ONE,regex:/^(254|252|248|240|224|192|128)\.0\.0\.0$|^(255\.(254|252|248|240|224|192|128|0)\.0\.0)$|^(255\.255\.(254|252|248|240|224|192|128|0)\.0)$|^(255\.255\.255\.(254|252|248|240|224|192|128|0))$|^255.255.255.255$/,vtypeText:$.su.CHAR.VTYPETEXT.MASK,validator:function(value){return"255.255.255.255"!=value||(!!this.allowAllOneFlag||this.disallowAllOneText)}},string_ip_domain:{regex:/^[A-Za-z0-9\_\-\.]+$/,vtypeText:$.su.CHAR.VTYPETEXT.STRING_DOMAIN,validator:function(value){return!!/^\S+$/.test(value)||$.su.CHAR.VTYPETEXT.STRING_DOMAIN}},ip_domain:{regex:/^.+$/,vtypeText:$.su.CHAR.VTYPETEXT.IP_DOMAIN,validator:function(value){return!(!$.su.vtype.types.ip.regex.test(value)||!$.su.vtype.types.ip.validator(value))||!!$.su.vtype.types.domain.regex.test(value)}},domain:{regex:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,vtypeText:$.su.CHAR.VTYPETEXT.DOMAIN},domain_header:{regex:/^[a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]*)$/,vtypeText:$.su.CHAR.VTYPETEXT.DOMAIN},ascii_visible:{regex:/^[\x21-\x7e]+$/,vtypeText:$.su.CHAR.VTYPETEXT.ASCII_VISIBLE},string_visible:{regex:/^\S+$/,vtypeText:$.su.CHAR.VTYPETEXT.STRING_VISIBLE},string_visible_no_comma:{regex:/^\S+$/,vtypeText:$.su.CHAR.VTYPETEXT.STRING_VISIBLE_NO_COMMA,validator:function(value){return!(0<=value.indexOf(","))}},password:{regex:/^[A-Za-z0-9\`\~\!\@\#\$\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\%\^\/\ ]+$/,vtypeText:$.su.CHAR.VTYPETEXT.PWD},portal_domain_name:{regex:/((http|ftp|https):\/\/)*(([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,4})*(\/[a-zA-Z0-9\&%_\.\/-~-]*)?/,vtypeText:$.su.CHAR.VTYPETEXT.INVALIDTEXT},string_visible_allow_blank:{regex:/^(\S|\x20)+$/,vtypeText:$.su.CHAR.VTYPETEXT.STRING_VISIBLE_ALLOW_BLANK},string_visible_describe:{regex:/^[A-Za-z0-9\-\_]+$/,vtypeText:$.su.CHAR.VTYPETEXT.INVALIDTEXT},name:{regex:/^[A-Za-z0-9\_]+$/,vtypeText:$.su.CHAR.VTYPETEXT.NAME},name_special:{regex:/^[A-Za-z0-9\_\-]+$/,vtypeText:$.su.CHAR.VTYPETEXT.NAME},name_with_special_start:{regex:/^[a-zA-Z_]/,vtypeText:$.su.CHAR.VTYPETEXT.NAME_START},name_in_vpn:{regex:/^[a-zA-Z0-9\_][A-Za-z0-9\_\-]{0,14}$/,vtypeText:$.su.CHAR.VTYPETEXT.VPN_NAME_PWD},pwd_in_vpn:{regex:/^[A-Za-z0-9\_\-]{1,15}$/,vtypeText:$.su.CHAR.VTYPETEXT.VPN_NAME_PWD},cloud_username:{regex:/^[\s\S]*?$/,vtypeText:$.su.CHAR.VTYPETEXT.NAME},cloud_email:{regex:/^[a-zA-Z0-9\.\!\#\$\%\&\'\*\+\/\=\?\^\_\`\{\|\}\~\-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*$/,vtypeText:$.su.CHAR.VTYPETEXT.EMAIL},cloud_pwd:{regex:/^[\x21-\x7E]{6,32}$/,vtypeText:$.su.CHAR.VTYPETEXT.PWD},note:{regex:/^[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\ ]*$/,vtypeText:$.su.CHAR.VTYPETEXT.NOTE},floatNum:{regex:/^[0-9.]+$/,vtypeText:$.su.CHAR.VTYPETEXT.NUMBER},sim_pin:{regex:/^[0-9]{4}$/,vtypeText:$.su.CHAR.VTYPETEXT.SIM_PIN},sim_dialnum:{regex:/^[0-9*#]{0,118}$/,vtypeText:$.su.CHAR.VTYPETEXT.SIM_DIALNUM}},$.su.vtype.prototype.validate=function(value){var resultVal=!0;return this.regex&&!0!==this.regex.test(value)?this.vtypeText:!this.validator||!0===(resultVal=this.validator(value))||resultVal},$.su.mask={displayed:!1,process:{},count:0,height:0,width:0,zIndex:890,show:function(name,autoIndex,$modal){this.dom=$("div.mask#mask");var isEmpty=$.isEmptyObject(this.process);autoIndex?"number"==typeof autoIndex?(this.dom.css("zIndex",autoIndex),this.process[name]=autoIndex):!0===autoIndex&&$modal?(this.dom.css("zIndex",parseInt($modal.css("zIndex"))-1),this.process[name]=parseInt($modal.css("zIndex"))-1):(this.dom.css("zIndex",this.zIndex),this.process[name]=this.zIndex):(this.dom.css("zIndex",this.zIndex),this.process[name]=this.zIndex),isEmpty&&this.dom.show()},hide:function(name,adjustZIndex){if(this.dom=$("div.mask#mask"),this.process[name]&&delete this.process[name])if($.isEmptyObject(this.process))this.dom.hide(),this.dom.css("zIndex",this.zIndex);else if(!1!==adjustZIndex){var maxZIndex=-100;for(var i in this.process)this.process.hasOwnProperty(i)&&this.process[i]>maxZIndex&&(maxZIndex=this.process[i]);this.dom.css("zIndex",maxZIndex)}},init:function(){var dom=$("div.mask#mask");0==dom.length&&(dom=$('<div id="mask" class="mask"><div id="cover-loading"></div></div>')).appendTo($("body")),this.zIndex=dom.css("zIndex")||this.zIndex;(this.dom=dom).css("display","none")}},$.su.mask.init(),$.su.unicode={encode:function(str){for(var a=[],i=0;i<str.length;i++){var code=str.charCodeAt(i);code=code.toString(16).length%2==0?code.toString(16):"0"+code.toString(16),a[i]=code}return"&#"+a.join(";&#")+";"},decode:function(str){return str.replace(/&#(x)?([^&]{1,6});?/g,function(a,b,c){return parseInt("0x"+String,16).fromCharCode(parseInt(c,b?16:10))})},encodeNoPrefix:function(str){return this.encode(str).replace(/[&#;]/g,"").toString()},getUnicodeLength:function(str){var unicode=this.encode(str);return unicode=unicode.replace(/[&#;]/g,""),Math.ceil(unicode.length/2)},getUtf8Length:function(str){var unicode=this.encode(str),len=0;return unicode.replace(/&#(x)?([^&]{1,6});?/g,function(code){var utf8Code=code.replace(/\&\#/g,"0x").replace(/\;/g,"").toString();0<=utf8Code&&utf8Code<=127?len+=1:128<=utf8Code&&utf8Code<=2047?len+=2:2048<=utf8Code&&utf8Code<=65535?len+=3:65536<=utf8Code&&utf8Code<=2097151?len+=4:2097152<=utf8Code&&utf8Code<=67108863?len+=5:67108864<=utf8Code&&utf8Code<=2147483647&&(len+=6)}),len},checkUtf8Length:function(str,minLength,maxLength){minLength=minLength||0,maxLength=maxLength||"";var len=$.su.unicode.getUtf8Length(str);return!(len<minLength)&&!(""!==maxLength&&maxLength<len)},checkUnicodeLength:function(str,minLength,maxLength){minLength=2*minLength||0,maxLength=2*maxLength||"";var pattern="^.{%minLength%,%maxLength%}$";return pattern=pattern.replace("%minLength%",minLength).replace("%maxLength%",maxLength),(pattern=new RegExp(pattern)).test(this.encodeNoPrefix(str))}}}(jQuery);