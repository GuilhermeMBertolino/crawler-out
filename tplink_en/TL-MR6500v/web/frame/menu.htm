<script>var menuBasic={netMap:[{name:menu_str.map,url:"networkMap.htm"}],internet:[{name:menu_str.internet,url:INCLUDE_LTEWAN&&"LTE"==$.sysMode?"basicLte.htm":INCLUDE_EWAN_VLAN&&"ETH"==$.sysMode?"ethWanBasic.htm":"USB_3G"==$.sysMode?"basic3g.htm":"wanBasic.htm"}],wireless:[{name:menu_str.wl,url:"wirelessBasic.htm"}],oneMesh:[{name:menu_str.mesh,url:INCLUDE_ONEMESH?"oneMesh.htm":0}],guestNtw:[{name:menu_str.wlguest,url:"wlGuestDulBandBasic.htm"}],voip:[{name:menu_str.voip,url:"voice_basic.htm"},{name:menu_str.voicetel,url:"voice_basic.htm"},{name:menu_str.voicedev,url:INCLUDE_VOLTE&&$.VOIPSwitch?"voice_telephony.htm":0},{name:menu_str.usbmail,url:"voice_usbmailBasic.htm"}],usb:[{name:menu_str.usb,url:"usbManage.htm"},{name:menu_str.disk,url:"usbManage.htm"},{name:menu_str.printer,url:"printSrv.htm"},{name:menu_str.usb3g,url:INCLUDE_USB_STORAGE||INCLUDE_USB_OVER_IP?"basic3g.htm":0}],parentCtrl:[{name:menu_str.pc,url:"parentCtrl.htm"}],iptv:[{name:menu_str.iptv,url:INCLUDE_IPTV_V2?"DSL"==$.sysMode?"iptvDsl.htm":INCLUDE_EWAN_IPTV&&"ETH"==$.sysMode?"iptvEth.htm":0:INCLUDE_IPTV&&"ETH"==$.sysMode?"iptv.htm":0}],cloud:[{name:menu_str.cloud,url:INCLUDE_CLOUD_V2?"cloudBasic.htm":0}]},menuAdv={status:[{name:menu_str.status,url:"status.htm"}],sysMode:[{name:menu_str.sysmod,url:"sysMode.htm"}],internet:[{name:menu_str.network,url:"LTE"==$.sysMode?"advanceLte.htm":"USB_3G"==$.sysMode?"usb3g.htm":"ETH"==$.sysMode&&INCLUDE_EWAN_VLAN?"wan.htm":"ETH"==$.sysMode?"ethWan.htm":"wan.htm"},{name:menu_str.internet,url:"LTE"==$.sysMode?"advanceLte.htm":"USB_3G"==$.sysMode?"usb3g.htm":"ETH"==$.sysMode&&INCLUDE_EWAN_VLAN?"wan.htm":"ETH"==$.sysMode?"ethWan.htm":"wan.htm"},{name:menu_str.usb3g,url:!INCLUDE_USB_3G_DONGLE||INCLUDE_USB_STORAGE||INCLUDE_USB_OVER_IP?0:"usb3g.htm"},{name:menu_str.ewan,url:"USB_3G"==$.sysMode&&INCLUDE_EWAN_BACKUP&&"1"==$.ewanBackup?"ethWan.htm":0},{name:menu_str.lteBackup,url:INCLUDE_LTEWAN&&"LTE"==$.sysMode||!INCLUDE_LTEWAN?0:"advanceLte.htm"},{name:menu_str.lteispupdate,url:INCLUDE_LTEWAN&&clientLocal?"lteIspUpdate.htm":0},{name:menu_str.ltepin,url:INCLUDE_LTEWAN?"PINManagement.htm":0},{name:menu_str.ltedata,url:INCLUDE_LTEWAN?"dataSettings.htm":0},{name:menu_str.lan,url:"dhcp.htm"},{name:menu_str.dsl,url:"DSL"==$.sysMode?"dslcfg.htm":0},{name:menu_str.ddns,url:"ddns.htm"},{name:menu_str.advroute,url:"route.htm"},{name:menu_str.tunnel6,url:"ipv6Tunnel.htm"},{name:menu_str.ussd,url:INCLUDE_LTEWAN&&"LTE"==$.sysMode&&INCLUDE_USSD?"lteUssd.htm":0}],sms:[{name:menu_str.sms,url:INCLUDE_LTEWAN?"lteSmsInbox.htm":0},{name:menu_str.inbox,url:INCLUDE_LTEWAN?"lteSmsInbox.htm":0},{name:menu_str.newMsg,url:INCLUDE_LTEWAN?"lteSmsNewMsg.htm":0},{name:menu_str.outbox,url:INCLUDE_LTEWAN?"lteSmsOutbox.htm":0},{name:menu_str.draftbox,url:INCLUDE_LTEWAN?"lteSmsDraftbox.htm":0},{name:menu_str.smsSettings,url:INCLUDE_LTEWAN?"lteSmsSettings.htm":0}],iptv:[{name:menu_str.iptv,url:INCLUDE_IPTV_V2?"DSL"==$.sysMode?"iptvDsl.htm":INCLUDE_EWAN_IPTV&&"ETH"==$.sysMode?"iptvEth.htm":0:INCLUDE_IPTV&&"ETH"==$.sysMode?"iptv.htm":0}],wireless:[{name:menu_str.wl,url:"wirelessSettings.htm"},{name:menu_str.wlset,url:"wirelessSettings.htm"},{name:menu_str.wps,url:"wps.htm"},{name:menu_str.wlsche,url:INCLUDE_LAN_WLAN_SCHEDULE?"wirelessSchedule.htm":0},{name:menu_str.stat,url:"wirelessStat.htm"},{name:menu_str.advset,url:"wirelessAdv.htm"}],oneMesh:[{name:menu_str.mesh,url:INCLUDE_ONEMESH?"oneMesh.htm":0}],guestNtw:[{name:menu_str.wlguest,url:"wlGuestDulBandAdv.htm"}],voip:[{name:menu_str.voip,url:"voice_advance.htm"},{name:menu_str.voicetel,url:"voice_advance.htm"},{name:menu_str.voicebook,url:INCLUDE_VOLTE&&$.VOIPSwitch?"voice_telebook.htm":0},{name:menu_str.voicedev,url:INCLUDE_VOLTE&&$.VOIPSwitch?"voice_telephony.htm":0},{name:menu_str.voicelog,url:INCLUDE_VOLTE&&$.VOIPSwitch?"voice_calllog.htm":0},{name:menu_str.voicerule,url:INCLUDE_VOLTE&&$.VOIPSwitch?"voice_electionRule.htm":0},{name:menu_str.voiceblock,url:INCLUDE_VOLTE&&$.VOIPSwitch?"voice_callblocks.htm":0},{name:menu_str.voicefwd,url:INCLUDE_VOLTE&&$.VOIPSwitch?"voice_callforward.htm":0},{name:menu_str.voiceth,url:INCLUDE_VOLTE&&$.VOIPSwitch?"voice_callthrough.htm":0},{name:menu_str.voicedect,url:INCLUDE_VOLTE&&$.VOIPSwitch?"voice_dectadv.htm":0},{name:menu_str.voiceapp,url:INCLUDE_VOICEAPP?"voice_voiceapp.htm":0},{name:menu_str.usbmail,url:"voice_usbmail.htm"}],fwd:[{name:menu_str.fwd,url:"alg.htm"},{name:menu_str.hwnat,url:"natBoost.htm"},{name:menu_str.alg,url:"alg.htm"},{name:menu_str.vs,url:"virtualServer.htm"},{name:menu_str.pt,url:"portTrigger.htm"},{name:menu_str.dmz,url:"dmz.htm"},{name:menu_str.upnp,url:"upnp.htm"}],usb:[{name:menu_str.usb,url:"folderSharing.htm"},{name:menu_str.disk,url:"folderSharing.htm"},{name:menu_str.printer,url:"printSrv.htm"},{name:menu_str.usb3g,url:INCLUDE_USB_STORAGE||INCLUDE_USB_OVER_IP?"usb3g.htm":0}],parentCtrl:[{name:menu_str.pc,url:"parentCtrl.htm"}],qos:[{name:menu_str.qos,url:INCLUDE_APP_IQOS?"qosSettings.htm":0},{name:menu_str.qosSub,url:INCLUDE_APP_IQOS?"qosSettings.htm":0},{name:menu_str.qosdatabase,url:INCLUDE_APP_IQOS?"qosDatabase.htm":0}],trafficCtrl:[{name:menu_str.tc,url:INCLUDE_APP_IQOS?0:"trafficCtrl.htm"}],security:[{name:menu_str.sec,url:"ddos.htm"},{name:menu_str.ddos,url:"ddos.htm"},{name:menu_str.pf,url:"portFiltering.htm"},{name:menu_str.acc,url:"accessControl.htm"},{name:menu_str.arp,url:"arpBind.htm"},{name:menu_str.ipv6Firewall,url:INCLUDE_IPV6_FORWARDING_RULE?"ipv6Firewall.htm":0},{name:menu_str.yandexDns,url:INCLUDE_YANDEX_DNS?"yandexDns.htm":0}],vpn:[{name:menu_str.vpn,url:INCLUDE_VPN?INCLUDE_OPENVPN_SERVER?"openvpnServer.htm":INCLUDE_PPTPVPN_SERVER?"pptpvpnServer.htm":INCLUDE_IPSEC?"ipsec.htm":0:0},{name:menu_str.openvpn,url:INCLUDE_VPN&&INCLUDE_OPENVPN_SERVER?"openvpnServer.htm":0},{name:menu_str.pptpvpn,url:INCLUDE_VPN&&INCLUDE_PPTPVPN_SERVER?"pptpvpnServer.htm":0},{name:menu_str.ipsec,url:INCLUDE_VPN&&INCLUDE_IPSEC?"ipsec.htm":0},{name:menu_str.vpnconn,url:INCLUDE_VPN&&(INCLUDE_OPENVPN_SERVER||INCLUDE_PPTPVPN_SERVER||INCLUDE_IPSEC)?"vpnStatus.htm":0}],tools:[{name:menu_str.tools,url:"time.htm"},{name:menu_str.time,url:"time.htm"},{name:menu_str.ledsche,url:INCLUDE_LED_SCHEDULE?"ledSchedule.htm":0},{name:menu_str.pushService,url:INCLUDE_MAIL?"pushService.htm":0},{name:menu_str.diag,url:"diagnostic.htm"},{name:menu_str.softup,url:clientLocal?"softup.htm":0},{name:menu_str.bnr,url:clientLocal?"backNRestore.htm":0},{name:menu_str.restart,url:INCLUDE_REBOOT_SCHEDULE?"restart.htm":0},{name:menu_str.admin,url:clientLocal?"manageCtrl.htm":"manageCtrl_remote.htm"},{name:menu_str.log,url:"log.htm"},{name:menu_str.cwmp,url:"cwmp.htm"},{name:menu_str.snmp,url:"snmp.htm"},{name:menu_str.tm,url:"stat.htm"}]},menuWanHide=["softup.htm","backNRestore.htm","ethWanBasic.htm","wanBasic.htm","wan.htm","ethWan.htm","quicksetup.htm","qsDsl.htm","qsEwan.htm","manageCtrl.htm","sysMode.htm","advanceLte.htm","basicLte.htm"];!function(N){"use strict";function n(){}n.prototype={constructor:n,instances:[],init:function(e,h){var _,d=this,p=/\w+.htm$/,E=0,v="";if(d.id=e,d.$menu=N("#"+e),N("#qs").hasClass("selected"))return N("#menu").tpMenu("destroy"),N("#con").fadeOut(200),N("#verticalFixed").fadeOut(0),N.loadPage("quicksetup","quicksetup.htm",function(){N("#main").empty(),N.emptyElem(N.bak),N.clearAsync(),N.unlock()}),N("#quicksetup").fadeIn(200),void(N.curPage="quicksetup.htm");N("#con").fadeIn(200),N("#verticalFixed").fadeIn(200),N("#quicksetup").fadeOut(200);var L='<div><ul class="mu1" id="menuTree">';N.cgi("./frame/menu.cgi",null,function(e){if(!e){for(var t=menulist.length,s=0;s<t;s++){if(!N.local&&0==clientLocal){N("#qs").css("visibility","hidden");for(var n=0;n<menuWanHide.length;n++)if(menulist[s]==menuWanHide[n]){menulist[s]=void 0;break}if(null==menulist[s])continue}var a=p.exec(menulist[s]);menulist[s]=a?a[0]:void 0}for(_ in d.menuFilter(menulist,h),h)if(v="",E=0,1==h[_].length){if(INCLUDE_IPTV_V2){if("USB_3G"==N.sysMode&&(h[_][0].name==menu_str.internet||h[_][0].name==menu_str.iptv)||"0"==h[_][0].url)continue}else if("USB_3G"==N.sysMode&&h[_][0].name==menu_str.internet||"DSL"!=N.sysMode&&h[_][0].name==menu_str.iptv||"0"==h[_][0].url)continue;L+='<li class="ml1"><a class="click" href="javascript:void(0);" url="'+h[_][0].url+'">',L+='<span class="icon" id="'+_+'"></span>',L+='<span class="text T">'+h[_][0].name+"</span></a>",L+="</li>"}else{if("USB_3G"==N.sysMode&&h[_][0].url==menu_str.wan)continue;v+='<li class="ml1"><a class="click more" href="javascript:void(0);" url="'+h[_][0].url+'">',v+='<span class="icon" id="'+_+'"></span>',v+='<span class="text T">'+h[_][0].name+"</span></a>",v+='<ul class="mu2">';for(var m=1;m<h[_].length;m++)"USB_3G"==N.sysMode&&h[_][m].name==menu_str.wan||"0"==h[_][m].url||(E=1,v+='<li class="ml2"><a class="click" href="javascript:void(0);" url="'+h[_][m].url+'">',v+='<span class="text T">'+h[_][m].name+"</span></a>",v+="</li>");if(v+="</ul>",v+="</li>",0==E)continue;1==E&&void 0!==v&&(L+=v)}if(L+="</ul></div>",N("#menu").append(N(L)).find("ul.mu2").hide(),N("#menu").niceScroll({cursorcolor:"#36444b",cursoropacitymax:.15,cursoropacitymin:.15,touchbehavior:!1,cursorwidth:"8px",cursorborder:"0",cursorborderradius:"4px",scrollspeed:20,zindex:2}),d.$a=N("a.click"),d.$li=N("li"),d.registerHandlers(),null!=N.reloadPage&&0!=N.reloadPage.length){for(s=0;s<N("#menu a").length;s++)N("#menu a")[s].getAttribute("url")==N.reloadPage&&N("#menu a")[s].click();N.reloadPage=""}else d.$a.first().click();if(0==N("#menu").prev(".menu-search-input-container").length){N("#menu").before('<div class="menu-search-input-container"><input type="text" class="menu-search-input" id="menu-search-input"/></div>').addClass("hasSearch");var r,u,l,i,o=[],c=[];!function(e,t){for(s in d.menuFilter(menulist,e),e){var n="";for(r=0,l=e[s].length;r<l;r++)1<l&&0==r?n=e[s][r].name+" -> ":0!=e[s][r].url&&((i={}).text=n+e[s][r].name,i.value={},i.value.url=e[s][r].url,i.value.navName=t,o.push(i),c.push(i))}}(menuBasic,"basic"),function(e,t){for(s in d.menuFilter(menulist,e),e){var n="";for(r=0,l=e[s].length;r<l;r++)if(1<l&&0==r)n=e[s][r].name+" -> ";else if(0!=e[s][r].url){for((i={}).text=n+e[s][r].name,u=0;u<c.length;u++)i.text==c[u].text&&(i.text+=" ("+s_str.adv+")");i.value={},i.value.url=e[s][r].url,i.value.navName=t,o.push(i)}}}(menuAdv,"advanced"),o.sort(function(e,t){return e.text.toUpperCase()<=t.text.toUpperCase()?-1:1}),N("#menu-search-input").tpSearchInput({data:o,width:N("#menuTree li.ml1").width(),placeholder:s_str.search,selectCallback:function(e,t){N.goToOtherPage(t.url,t.navName,function(){N("#menu-search-input").tpSearchInput("val","")})}})}}})},menuFilter:function(e,t){var n=0;for(var s in t)for(var a=0;a<t[s].length;a++)n=0,N.each(e,function(){if(this==t[s][a].url)return!(n=1)}),0==n&&(t[s][a].url="0")},registerHandlers:function(){var u=0;function e(){var e=N(window).height()-N("#bot").offset().top;e=e<0?0:e,N("#menu").css("maxHeight",N(window).height()-e-N("#top").height()-parseInt(N("#menu").css("marginTop").match(/\d*/)))}this.$a.on("click.tpMenu",function(e){var t,n=N(this),s=n.parent("li");if(s.hasClass("ml2")){N("#menu").find("a").removeClass("sel").removeClass("clicked").parent("li.sel").removeClass("sel");var a=s.closest("li.ml1");a.children("a").addClass("sel").addClass("clicked"),n.addClass("sel").addClass("clicked"),s.addClass("sel"),u=a.position().top,N("#menu").find("li:not(:has(a.clicked)) ul.mu2:visible").slideUp("fast",function(){N("#menu").scrollTop(a.position().top-N("#menu").children(":first").position().top-u)})}else{if(n.hasClass("more")){var m=n.next("ul.mu2");if(m.is(":visible"))0==m.find("a.sel.clicked").length&&n.removeClass("clicked"),m.slideUp("fast",function(){});else{n.addClass("clicked"),m.slideDown("fast",function(){N("#menu").scrollTop(n.position().top-N("#menu").children(":first").position().top),N("#menu").getNiceScroll().resize()});var r=s.siblings("li:has(a.clicked:not(.sel))");r.find("a").removeClass("clicked"),r.find("ul.mu2").slideUp("fast")}return}N("#menu").find("a").removeClass("sel").removeClass("clicked").parent("li.sel").removeClass("sel"),u=s.position().top,N("ul.mu2:visible").slideUp("fast",function(){N("#menu").scrollTop(s.position().top-N("#menu").children(":first").position().top-u)}),n.addClass("sel").addClass("clicked")}t=n.attr("url"),N("#scroll").scrollTop(0),N.loadMain(t)}),N("#scroll").off("scroll.menu").on("scroll.menu",function(){e()}),N(window).off("resize.menu loadPage.menu").on("resize.menu loadPage.menu",function(){e()}),e()},destroy:function(){var e=this;e.$a&&e.$a.off(".tpMenu"),e.$li&&e.$li.off(".tpMenu"),delete Object.getPrototypeOf(e).instances[e.id]}},N.fn.tpMenu=function(t){this.each(function(){var e=N(this).data("tpMenu");e?"destroy"===t&&e?e.destroy():(e.destroy(),N(this).data("tpMenu",new n),N(this).data("tpMenu").init(this.id,menuargs)):(N(this).data("tpMenu",new n),N(this).data("tpMenu").init(this.id,menuargs))})}}(jQuery);var haveClick=!1;($("#advanced").hasClass("selected")||$("#basic").hasClass("selected"))&&(haveClick=!0),0!=haveClick||!$.local&&0==clientLocal||1!=$.isFD?($("#advanced").hasClass("selected")?menuargs=menuAdv:$("#qs").hasClass("selected")?menuargs={}:(menuargs=menuBasic,$("#basic").addClass("selected")),$("#menu").tpMenu(menuargs)):($("#qs").addClass("selected"),$("#con").fadeOut(200),$("#verticalFixed").fadeOut(0),$.loadPage("quicksetup","quicksetup.htm",function(){$.curPage="quicksetup.htm",$.emptyElem($.bak),$.clearAsync(),$.unlock()}),1==$.isFD&&$("#quicksetup").css("display","block"))</script>
