<script>function addSeverity(){for(var e,o,r="",t=0,l=severities.length;t<l;t++)r+="<option value='"+(o=t)+"' text='"+(e=severities[t])+"' >"+e+"</option>";$("#localSeverity").empty().append(r),$('#localSeverity option[value="'+o+'"]').prop("selected","selected"),r="";for(var t=0,l=severities.length;t<l;t++)r+="<option value='"+(o=t)+"' text='"+(e=severities[t])+"' >"+e+"</option>";$("#remoteSeverity").empty().append(r),$('#remoteSeverity option[value="'+o+'"]').prop("selected","selected")}function init(){addSeverity();var e=$.act(ACT_GET,SYSLOG_CFG);$.exe()||($("#localLog").prop("checked",1==e.logToLocal),$("#remoteLog").prop("checked",1==e.logToRemote),$("#serverip").prop("value",e.serverIP),$("#serverport").prop("value",e.serverPort),$('#facility option[value="'+e.facility+'"]').prop("selected","selected"),$('#localSeverity option[value="'+e.localSeverity+'"]').prop("selected","selected"),$('#remoteSeverity option[value="'+e.remoteSeverity+'"]').prop("selected","selected"),1==e.logToRemote?$("#remoteCon").removeClass("nd"):$("#remoteCon").addClass("nd"))}var severities=[s_str.emerg,s_str.alert,s_str.crit,m_str.err,m_str.warn,s_str.notice,s_str.info,s_str.debug];$("#t_back").click(function(){$.loadMain("log.htm",$.mainParam)}),$("#t_save").click(function(){$.addLoading($(this));var e={};if(e.logToLocal=$("#localLog").prop("data-checked")?1:0,e.logToRemote=$("#remoteLog").prop("data-checked")?1:0,e.localSeverity=$("#localSeverity").data("value"),e.remoteSeverity=$("#remoteSeverity").data("value"),e.serverIP=$("#serverip").prop("value"),$.ifip(e.serverIP))return $.alert(ERR_IP_FORMAT),(o=$("#serverip"))&&(o.focus(),o.select()),!1;if(e.serverPort=$("#serverport").prop("value"),$.num(e.serverPort,[1,65535])){$.alert(CMM_FW_ILLEGAL_PORT);var o=$("#serverport");return o&&(o.focus(),o.select()),!1}e.facility=$("#facility").data("value"),$.act(ACT_SET,SYSLOG_CFG,null,null,e),$.exe(function(e){$.removeLoading(),e||$.reload()})}),$("#localLog").click(function(){$("#localLog").prop("data-checked")?$("#localCon").removeClass("nd"):$("#localCon").addClass("nd")}),$("#remoteLog").click(function(){$("#remoteLog").prop("data-checked")?$("#remoteCon").removeClass("nd"):$("#remoteCon").addClass("nd")})</script>
<h3 id="et">Log Settings</h3>
<div class="content-container">
    <form class="pure-form pure-form-aligned">
        <div>
            <input type="checkbox" id="localLog">
            <label class="T" id="t_local">Save Locally</label>
        </div>
        <div id="localCon">
            <b class="T" id="t_minlvl1">Minimum Level</b>
            <select id="localSeverity" class="xl">
            </select>
        </div>
        <br>
        <div>
            <input type="checkbox" id="remoteLog">
            <label class="T" id="t_remote">Save Remotely</label>
        </div>
        <div id="remoteCon" class="nd">
            <div>
                <b class="item T" id="t_minlvl2">Minimum Level:</b>
                <select id="remoteSeverity" class="xl"></select>
            </div>
            <div>
                <b class="item T" id="t_ip">Server IP</b>
                <input type="text" class="text xl" id="serverip">
            </div>
            <div>
                <b class="item T" id="t_port">Server Port</b>
                <input type="text" class="text xl" id="serverport">
            </div>
            <div>
                <b class="item T" id="t_fcname">Local Facility Name</b>
                <select id="facility" class="xl">
                    <option value="1" selected="selected" id="t_User">User</option>
                    <option value="16" id="t_Local0">Local0</option>
                    <option value="17" id="t_Local1">Local1</option>
                    <option value="18" id="t_Local2">Local2</option>
                    <option value="19" id="t_Local3">Local3</option>
                    <option value="20" id="t_Local4">Local4</option>
                    <option value="21" id="t_Local5">Local5</option>
                    <option value="22" id="t_Local6">Local6</option>
                    <option value="23" id="t_Local7">Local7</option>
		</select>
            </div>
        </div>
        <br>
        <div class="btn-right">
            <button type="submit" id="t_back" class="green inline T_back">Back</button>
            <button type="submit" id="t_save" class="green inline T_save">Save</button>
        </div>
    </form>
</div>
<script>$.tpInit(init)</script>

