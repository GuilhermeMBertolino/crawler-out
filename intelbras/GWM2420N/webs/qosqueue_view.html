<html><head>
<link rel=stylesheet href='stylemain.css' type='text/css'>
<link rel=stylesheet href='colors.css' type='text/css'>
<script language='javascript' src='util.js'></script>
<script language='javascript'>
<!-- hide
	var MAX_ATM_TRANSMIT_QUEUES = 16;
	var WIRELESS_PREDEFINE_QUEUE = 8;
	var ETH_QOS_LEVELS = 4;
	var entrynum = 0;
	var sessionKey = '<%ejGetOther(sessionKey)%>';
	var qosenable = '<%ejGetOther(qosenable)%>';
	var qosQueueStr = '<%ejGetOther(qosQueueStr)%>';

function addClick() {
   var loc = 'qosqueueadd.html';
   var code = 'location=\"' + loc + '\"';
   eval(code);
}

function enableClick(ebl) {
   var lst = '';
	   if (WIRELESS_PREDEFINE_QUEUE > 0)
	   {
		  if (ebl.length > 0)
			 for (i = 0; i < ebl.length; i++) {
				if ( ebl[i].checked == true )
				   lst += '1,';
				else
				   lst += '0,';
			 }
		  else if ( ebl.checked == true )
			 lst = '1';
		  else
			 lst = '0';
	   }
   var loc = 'qosqueue.cmd?action=enable&eblLst=' + lst;
   loc += '&sessionKey='+sessionKey;
   var code = 'location=\"' + loc + '\"';
   eval(code);
}

function removeClick(rml) {
   var lst = '';

      if (rml.length > 0)
         for (i = 0; i < rml.length; i++) {
            if ( rml[i].checked == true )
               lst += '1,';
            else
               lst += '0,';
         }
      else if ( rml.checked == true )
         lst = '1';
      else
         lst = '0';
  
   var loc = 'qosqueue.cmd?action=remove&rmLst=' + lst;
   loc += '&sessionKey='+sessionKey;
   var code = 'location=\"' + loc + '\"';
   eval(code);
}

// done hiding -->
</script>
</script>
<meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
                                     
</head><body>
   <script>tbl_head('QoS Queue Setup')</script>                                                                              
<form>                                                                             
<div style="width:90%;text-align:left;"> 
<p>
In ATM mode, maximum <script>document.write(MAX_ATM_TRANSMIT_QUEUES);</script> queues can be configured.<br>
For each Ethernet interface, maximum <script>document.write(ETH_QOS_LEVELS);</script> queues can be configured.<br>
If you disable WMM function in Wireless Page, queues related to wireless will not take effects<br><br>
<script>
   if(qosenable!='1')
   	document.write("The QoS function has been disabled. Queues would not take effects.");
</script>
</p>
<table border='1' cellpadding='6' cellspacing='0' width='100%'>
<tr align='center'>
   <td class='hd'>Name</td>
   <td class='hd'>Key</td>
   <td class='hd'>Interface</td>
   <td class='hd'>Scheduler Alg</td>
   <td class='hd'>Precedence</td>
   <td class='hd'>Weight</td>
   <td class='hd'>DSL Latency</td>
   <td class='hd'>Enable</td>
   <td class='hd'>Remove</td>
</tr>
  <script>
   	var htm;
   	var rows;
   	var cols;
   	rows = qosQueueStr.split('~');
   	entrynum =rows.length;
   	if(qosQueueStr!='')
	   	for(var i=0;i<rows.length;i++)
	   	{
	   			cols = rows[i].split(',');
	   			if(cols.length!=9) continue;
	   			htm = '<tr>';
	   			htm += '<td>'+cols[0]+'</td>';
	   			htm += '<td>'+cols[1]+'</td>';
	   			htm += '<td>'+cols[2]+'</td>';
	   			htm += '<td>'+cols[3]+'</td>';
	   			htm += '<td>'+cols[4]+'</td>';
	   			htm += '<td>'+cols[5]+'</td>';
	   			htm += '<td>'+cols[6]+'</td>';
	   			if(cols[7]=='1')
	   				htm += "<td><input type='checkbox' name='enbl' checked></td>";
	   			else if(cols[7]=='0')
	   				htm += "<td><input type='checkbox' name='enbl'></td>";
	   			else
	   				htm += '<td>'+cols[7]+'</td>';
	   			if(cols[8]=='rml')
	   				htm +="<td align='center'><input type='checkbox' name='rml'></td>";
	   			else
	   				htm += '<td>&nbsp;</td>';
	   			htm += '</tr>';
	   			document.write(htm);
	   	}
 	</script>
</table><br>
</div>
<script>tbl_tail("<input type='button' class='button' onClick='addClick()' value='Add'>&nbsp;&nbsp;<input type='button' class='button' onClick='enableClick(this.form.enbl)' value='Enable'>&nbsp;&nbsp;<input type='button' class='button' onClick='removeClick(this.form.rml)' value='Remove'>")</script>
</form>
</body>
</html>