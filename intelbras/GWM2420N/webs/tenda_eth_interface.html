<html><head>
<link rel=stylesheet href='stylemain.css' type='text/css'>
<link rel=stylesheet href='colors.css' type='text/css'>
<meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
<script language="javascript" src="util.js"></script>
<script language='javascript' src='portName.js'></script>
<script language='javascript'>
<!-- hide
var sessionKey='<%ejGetOther(sessionKey)%>';

//wanItfList:"Ifname,connMode,PersistentDevice"
var wanItfList="<%ejGetOther(tenda,wanEthItfList)%>";
var brdId = '<%ejGet(boardID)%>';
var haveEth='0';

function showEthWanList(){
	if(wanItfList == ""){
		haveEth='0';
	}else{
		var s=wanItfList.split(",");
		if (s.length!=3) {
			return;
		}
		if(""==s[0]){
			return;
		}		
		if(""==s[1]){
			return;
		}		
		if(""==s[2]){
			s[2] = '0';
		}
		var  m='<tr align=center>';
		var brdIntf = brdId + '|' + s[0];
		var intfDisp = getUNameByLName(brdIntf);		
		m += '<td>'+s[0]+'/' + intfDisp + '</td>';
		m += '<td>'+s[1]+'</td>';
		
		if(s[2] == '0'){
			m += '<td align=center><input type=checkbox name=rml value=' + s[0] + '></td>';
		}else{
			m += '<td align=center><input type=checkbox name=rml value=' + s[0] + ' Disabled></td>';
		}
		document.write(m);
		haveEth='1';
	}
}


function addClick() {
   var code = 'location="' + 'cfgeth.html' + '"';
   eval(code);
}

function removeClick(rml) {
   var lst = '';
   if (rml.length > 0)
      for (i = 0; i < rml.length; i++) {
         if ( rml[i].checked == true )
            lst += rml[i].value + ', ';
      }
   else if ( rml.checked == true )
      lst = rml.value;
   var loc = 'ethwan.cmd?action=remove&rmLst=' + lst;
   loc += '&sessionKey='+sessionKey;
   var code = 'location="' + loc + '"';
   eval(code);
}

// done hiding -->
</script>
</head>
<body >
<form>
<script>tbl_head('ETH WAN Interface Configuration');</script>
Choose Add, or Remove to configure ETH WAN interfaces.<br>
Allow one ETH as layer 2 wan interface.<br><br>
<table border='1' cellpadding='4' cellspacing='0' width='88%'>
   <tr align='center'>
      <td class='hd'>Interface/(Name)</td>
      <td class='hd'>Connection Mode</td>
      <td class='hd'>Remove</td>
   </tr>
   <script>
   		showEthWanList();
   </script>
   
</table><br>
<script>
	if(haveEth == '1')
		tbl_tail("<input type='button' class='button' onClick='removeClick(this.form.rml)' value='Remove'>")
	else
		tbl_tail("<input type='button' class='button' onClick='addClick()' value='Add'>")
</script>
</form>
</body>
</html>