<html>
<head>
    <meta http-equiv='Pragma' content='no-cache'>
    <link rel="stylesheet" href='stylemain.css' type='text/css'>
    <link rel="stylesheet" href='colors.css' type='text/css'>

    <script language="javascript" src="util.js"></script>

    <script language="javascript">
<!-- hide
var addr = '<%ejGet(wanIpAddress)%>';
var mask = '<%ejGet(wanSubnetMask)%>';

function frmLoad() {
   with ( document.forms[0] ) {
      wanIpAddress.value = addr;
      wanSubnetMask.value = mask;
   }
}

function btnNext() {
   var loc = 'natcfg2.cgi?';
 
   with ( document.forms[0] ) {
      // wan IP address
      if ( isValidIpAddress(wanIpAddress.value) == false ) {
         alert('WAN IP address "' + wanIpAddress.value + '" is invalid IP address.');
         return;
      }
      loc += 'wanIpAddress=' + wanIpAddress.value;
      // wan subnet mask
      if ( isValidNetMask(wanSubnetMask.value) == false &&  wanSubnetMask.value != '255.255.255.255') {
         alert('WAN subnet mask "' + wanSubnetMask.value + '" is invalid IP address.');
         return;
      }
      loc += '&wanSubnetMask=' + wanSubnetMask.value;
      
      if(isSameSubNet(wanIpAddress.value, wanSubnetMask.value, '<%ejGet(ethIpAddress)%>', '<%ejGet(ethSubnetMask)%>'))
      {
      	alert("WAN IP and LAN IP can't be in the same net£¡"); return false;	
      }
   }

   loc += '&sessionKey=<%ejGetOther(sessionKey)%>';
   var code = 'location="' + loc + '"';
   eval(code);
}

function btnBack() {
   var loc = 'wansrvc.cmd';

   var code = 'location="' + loc + '"';
   eval(code);
}

// done hiding -->
    </script>

</head>
<body onload='frmLoad()'>

    <script>tbl_head('WAN IP Settings');</script>

    <form>
    <table border="0" cellpadding="0" cellspacing="0" width='88%'>
        <tr>
            <td colspan="2">
                Enter information provided to you by your ISP to configure the WAN IP settings.<br>
            </td>
        </tr>
        <tr>
            <td width="116">
                WAN IP Address:
            </td>
            <td width="212">
                <input type='text' name='wanIpAddress'>
            </td>
        </tr>
        <tr>
            <td>
                WAN Subnet Mask:
            </td>
            <td>
                <input type='text' name='wanSubnetMask'>
            </td>
        </tr>
    </table>
    <br>

    <script>tbl_tail("    <input type='button' class='button' onclick='btnBack()' value='Back'>&nbsp;&nbsp;<input type='button' class='button' onclick='btnNext()' value='Next'>");</script>

    </form>
</body>
</html>
