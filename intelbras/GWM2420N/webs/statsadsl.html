<html>
<head>
    <meta http-equiv='Pragma' content='no-cache'>
    <meta http-equiv="refresh" content="15">
    <link rel="stylesheet" href='stylemain.css' type='text/css'>
    <link rel="stylesheet" href='colors.css' type='text/css'>

    <script language="javascript" src="util.js"></script>

    <script language="javascript">
<!-- hide
var DslBondingEnabled='<%ejGetOther(isDslBondingEnabled)%>';
var currLineNum='<%ejGet(bondingLineNum)%>';
var xdslItfList=new Array(<%ejGetOther(DeviceInfo,xdsl)%>);

function frmLoad() {
   var errMsg = '<%ejGetOther(memInfo, errMsg)%>';
   
   if ( errMsg != '&nbsp' )
      eval('location="statsadslerr.html"');
}

function btnBerTest() {
   var options;

   options = 'menubar=no,resizable=no,scrollbars=yes,titlebar=yes,toolbar=no,width=400,height=300';

   window.open('berstart.tst?berState=1', 'BCM963xxBerTest', options);
}

function btnReset() {
   var loc = 'statsadslreset.html';

   var code = 'location="' + loc + '"';
   eval(code);
}

function changeLineNum() {
   var loc = 'statsadsl.cgi?';   
   with ( document.forms[0] ) { 
       loc += 'bondingLineNum=' + lineNum.value;   
   }
   var code = 'location="' + loc + '"';
   eval(code);
}

function btnClose() {
   window.close();
}

function showXdsl()
{
 
var s=xdslItfList[0].split("|");
 
 
var m = "<tr>";
 
m+= "<td colspan='3' class='hd'>Mode:</td>";
 
m+="<td colspan='2'>"+s[0]+"</td>";
 
m+= "</tr>";
 
m+="<tr>";
 
m+="<td colspan='3' class='hd'>Traffic Type:</td>";
 
if(s[4]=="Up")//if connected
{ 
 
 	
   if (s[3]=="G.992.3_Annex_K_ATM" || s[3]=="G.993.2_Annex_K_ATM")
         {m+="<td colspan='2'>ATM</td>";}
 
  else if(s[2] == 1 && (s[3]== "G.992.3_Annex_K_ATM" || s[3]=="G.993.2_Annex_K_ATM"))
 
       {m +="<td colspan='2'>PTM</td>";}
   
  else
       { m +="<td colspan='2'>&nbsp&nbsp;</td>";}
 
	m +="</tr>";
	m +="<tr>";
	m +="<td colspan='3' class='hd'>Status:</td>";
	m +="<td colspan='2'>"+s[4]+"</td>";
	m +="</tr>";
	m +=" <tr>";
	m +="<td colspan='3' class='hd'>Link Power State:</td>";
	m +=" <td colspan='2'>"+s[5]+"</td> ";
	m +=" </tr>";
	m +=" <tr>";
	m +=" <td colspan='5'>&nbsp;</td>";
	m +="</tr>";
	m +="<tr>";
	m +="<td class='hd'>&nbsp;</td>"
	m +="<td  class='hd' colspan='2'>Downstream</td>"
	m +="<td  class='hd' colspan='2'>Upstream</td>"
	m +="</tr><tr>"
	m +="<td class='hd'><nobreak>Line Coding(Trellis):</nobreak></td>"
	 if( s[6]==0 ) 
	  {
            m+="<td colspan='2'>"+s[7]+"</td>";
            m+="<td colspan='2'>"+s[7]+"</td>";
         }
         else {
           m+="<td colspan='2'>"+s[7]+"</td>";
           m+="<td colspan='2'>"+s[8]+"</td>";
         }
	m+=" </tr>";
	m+="<tr>";
	m+=" <td class='hd'>SNR Margin (0.1 dB):</td>";
	m+="<td colspan='2'>"+s[9]+"</td>";
	m+="<td colspan='2'>"+s[10]+"</td>"
	m+="</tr><tr>";
	m+="<td class='hd'>Attenuation (0.1 dB):</td>";
	m+="<td colspan='2'>"+s[11]+"</td>";
	m+="<td colspan='2'>"+s[12]+"</td>";
	m+="</tr><tr>";
	m+="<td class='hd' >Output Power (0.1 dBm):</td>"
	m+="<td colspan='2'>"+s[12]+"</td>";
	m+=" <td colspan='2'>"+s[14]+"</td>";
	m+="</tr><tr>"
	m+=" <td class='hd'><nobreak>Attainable Rate (Kbps):</nobreak></td>"
	m+="<td colspan='2'>"+s[15]+"</td>";
	m+=" <td colspan='2'>"+s[16]+"</td>";
	m+=" </tr><tr>";
	m+="<td colspan='12'>&nbsp;</td></tr>";
	m+="<tr>"
	//m+="<td class='hd' colspan='2'>&nbsp;</td>";
	m+="<td class='hd' colspan='12' align='middle'>Path 0</td>";
	//m+="<td class='hd'>&nbsp;</td>";
	//m+="<td class='hd'>Path 1</td>";
	//m+="<td class='hd'>&nbsp;</td>";
	m+="</tr><tr>";
	m+="<td class='hd'>&nbsp;</td>";
	m+="<td class='hd' colspan='2'>Downstream</td>";
	m+="<td class='hd' colspan='2'>Upstream</td>";
	//m+="<td class='hd'>Downstream</td>";
	//m+="<td class='hd'>Upstream</td>";
	m+="</tr><tr>";
	m+="<td class='hd'>Rate (Kbps):</td>";
	m+="<td colspan='2'>"+s[17]+"</td>";
	m+="<td colspan='2'>"+s[18]+"</td>";
	//m+="<td>"+s[19]+"</td>"; 
	//m+="<td>"+s[20]+"</td>";
  	m+="</tr><tr>";
   }
document.write(m);
}
// done hiding -->
    </script>

</head>
<body onload='frmLoad()'>

    <form>
    <script>tbl_head('Statistics -- xDSL');</script>


    <script language="javascript">
            if ( DslBondingEnabled == 1 ) {
               document.write("<br>");
               document.write("Bonding Line Selection  <select size=\"1\" name=\"lineNum\" onChange='changeLineNum()'> \n");
               if ( currLineNum == 0 ) {
                   document.write("<option value=\"0\" selected=\"1\"> line 0 \n");
               } else {
                   document.write("<option value=\"0\"> line 0 \n");
               }
               if ( currLineNum == 1 ) {
                   document.write("<option value=\"1\" selected=\"1\"> line 1 \n");
               } else {
                   document.write("<option value=\"1\"> line 1 \n");
               }
               document.write("</option> </select>\n");
               document.write("<br><br>");
            }
    </script>

    <table border="1" cellpadding="0" cellspacing="0" width="90%">

        <script>
		 showXdsl();
            
        </script>

    </table>

    <script>tbl_tail("<input type='button' class='button' onclick='btnBerTest()' value='xDSL BER Test'>");</script>

    </form>
</body>
</html>
