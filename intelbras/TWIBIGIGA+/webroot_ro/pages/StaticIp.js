(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7QSU":function(t,e,i){"use strict";i.r(e);i("I78e"),i("Vd3H"),i("KKXr"),i("RW0V"),i("ioFf"),i("0l/t"),i("mYba"),i("jm62");var a=i("L2JU"),s=i("kP5/");function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d={dev_name:"",dev_ip:"",dev_mac:""},c={data:function(){return this.tableHeadHeight=48,this.tableRowHeight=56,{STATUS:{0:_("Offline"),1:_("Online")},action:"",editIndex:-1,formOption:{dev_name:{maxlength:32,show:!0,disabled:!1,placeholder:_("Host name (Optional)"),required:!1},dev_ip:{valid:[{type:"ipAll"}],show:!0,placeholder:_("IP address")},dev_mac:{valid:[{type:"mac"}],show:!0,disabled:!1,placeholder:_("MAC address")}},dialog:{title:"",show:!1,closeOnClickModal:!0}}},computed:o(o(o({},Object(a.e)("staticip",["static_ip","lan_info"])),Object(a.c)(["active_route"])),{},{listData:function(){if(!this.static_ip||0===this.static_ip.length)return[];var t=this.static_ip.slice();return t.forEach((function(t){t.dev_name=""===t.dev_name?"unknown":t.dev_name})),t.sort((function(t,e){return"0"===t.status?1:-1}))}}),methods:o(o({},Object(a.b)("staticip",["getData","setData"])),{},{editSubmit:function(t){var e=this;this.setData(t).then((function(){e.getData()}))},bind:function(t){var e=this.listData[t],i={action:"bind",dev_mac:e.dev_mac,dev_ip:e.dev_ip,is_bind:"1"};this.editSubmit(i)},showAddRow:function(){this.dialog.show=!0,this.dialog.title=_("Add static IP"),this.editIndex=-1,this.action="add",this.formOption.dev_name.disabled=!1,this.formOption.dev_mac.disabled=!1,this.reset()},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.formOption.dev_name.val=t.dev_name,this.formOption.dev_ip.val=t.dev_ip,this.formOption.dev_mac.val=t.dev_mac,this.clear()},clear:function(){this.formOption.dev_name.error="",this.formOption.dev_ip.error="",this.formOption.dev_mac.error=""},showEdit:function(t){this.dialog.show=!0,this.dialog.title=_("Edit static IP"),this.editIndex=t,this.action="edit",this.formOption.dev_name.disabled=!0,this.formOption.dev_mac.disabled="1"===this.listData[t].status,this.reset(this.listData[t])},deleteRow:function(t){var e=this.listData[t],i={action:"delete",dev_mac:e.dev_mac,dev_ip:e.dev_ip};this.editSubmit(i)},edit:function(){var t=this,e={action:this.action,dev_mac:this.formOption.dev_mac.val,dev_ip:this.formOption.dev_ip.val,dev_name:this.formOption.dev_name.val};this.setData(e).then((function(){t.getData(),t.dialog.show=!1}))},beforeSubmit:function(){for(var t=this.formOption.dev_ip.val.split("."),e=this.lan_info.lan_ip.split("."),i=0;i<this.static_ip.length;i++)if(this.formOption.dev_ip.val==this.static_ip[i].dev_ip)return this.$toast(_("The IP address exists.")),!1;return this.$checkAll(this.formOption)?Object(s.c)(this.formOption.dev_ip.val,this.lan_info.lan_ip,this.lan_info.lan_mask)?t[3]===e[3]?(this.$toast(_("Static IP cannot be the same as LAN IP(%s)",[this.lan_info.lan_ip]),this.left),!1):!(parseInt(t[3])<parseInt(this.lan_info.start_ip.split(".")[3])||parseInt(t[3])>parseInt(this.lan_info.end_ip.split(".")[3]))||(this.$toast(_("IP address has to be within DHCP address pool"),this.left),!1):(this.$toast(_("The internal network IP address must be in the same network segment as the LAN IP"),this.left),!1):(this.$toast(_("The input is incorrect, please check the red input box"),this.left),!1)},submit:function(){this.beforeSubmit()&&this.edit()},cancel:function(){this.dialog.show=!1}}),created:function(){this.getData()}},l=(i("GILR"),i("KHd+")),p=Object(l.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"tool-bar"},[i("v-button",{attrs:{title:t._("Add"),disabled:t.listData.length>=t.active_route.maxRules,css:"btn-add icon-add"},on:{callback:t.showAddRow}})],1),t._v(" "),i("table",{staticClass:"form-table"},[i("thead",[i("tr",[i("th",{attrs:{width:"25%"}},[t._v(t._s(t._("Host name")))]),t._v(" "),i("th",{staticClass:"center",attrs:{width:"25%"}},[t._v(t._s(t._("IP address")))]),t._v(" "),i("th",{staticClass:"center",attrs:{width:"28%"}},[t._v(t._s(t._("MAC address")))]),t._v(" "),i("th",{staticClass:"center",attrs:{width:"15%"}},[t._v(t._s(t._("Status")))]),t._v(" "),i("th",{staticClass:"center",attrs:{width:"18%"}},[t._v(t._s(t._("operation")))])])]),t._v(" "),t.listData.length>0||t.showAdd?i("tbody",t._l(t.listData,(function(e,a){return i("tr",{key:e.dev_mac},[i("td",{attrs:{title:e.dev_name}},[t._v(t._s(e.dev_name))]),t._v(" "),i("td",{staticClass:"center"},[t._v(t._s(e.dev_ip))]),t._v(" "),i("td",{staticClass:"center"},[t._v(t._s(e.dev_mac))]),t._v(" "),i("td",{staticClass:"center"},[t._v(t._s(t.STATUS[e.status]))]),t._v(" "),i("td",{staticClass:"tool"},["0"===e.is_bind?i("i",{staticClass:"table-icon icon-bind",attrs:{title:t._("Bind")},on:{click:function(e){return t.bind(a)}}}):t._e(),t._v(" "),"0"===e.is_bind?i("i",{staticClass:"table-icon icon-edit1",on:{click:function(e){return t.showEdit(a)}}}):t._e(),t._v(" "),"1"===e.is_bind?i("i",{staticClass:"table-icon icon-delete",on:{click:function(e){return t.deleteRow(a)}}}):t._e()])])})),0):i("tbody",[i("tr",[i("td",{staticClass:"no-data",attrs:{colspan:"5"}},[i("div",[t._v(t._s(t._("No data")))])])])])]),t._v(" "),i("v-pop",{attrs:{option:t.dialog},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("v-form",{staticClass:"port-mapping-form",attrs:{showCancel:!0,saveText:t.saveText,disabled:t.disabled,formData:t.formOption},on:{submit:t.submit,cancel:t.cancel}},[i("v-group",{attrs:{title:t._("Host name"),vname:"v-input",dataKey:t.formOption.dev_name}}),t._v(" "),i("v-group",{attrs:{title:t._("IP address"),vname:"v-input",dataKey:t.formOption.dev_ip}}),t._v(" "),i("v-group",{attrs:{title:t._("MAC address"),vname:"v-input",dataKey:t.formOption.dev_mac}})],1)],1)],1)}),[],!1,null,"b4a6a99a",null);e.default=p.exports},GILR:function(t,e,i){"use strict";i("jG42")},jG42:function(t,e,i){},"kP5/":function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o}));i("pIFo"),i("I78e"),i("Btvt"),i("bWfx"),i("KKXr"),i("Vd3H"),i("xfY5"),i("ioFf"),i("XfO3"),i("yt8O"),i("rGqo");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,i,a){if(""===t||""===e||""===i||""===a)return!1;var s,n=t.split("."),o=e.split("."),r=i.split("."),d=a?a.split("."):r,c=r;for(s=0;s<4;s++)if(r[s]!=d[s]){c=r[s]&d[s]==r[s]?r:d;break}for(s=0;s<4;s++)if((n[s]&c[s])!=(o[s]&c[s]))return!1;return!0}function n(t,e,i,a,n){return s(t,i,e)?t===i||t===a||t===n?_("The WAN port gateway or DNS cannot be the same as the WAN port IP address"):void 0:_("The WAN port IP address and the default gateway must be on the same network segment")}function o(t,e){var i,a=e.split(".").map((function(t){return parseInt(t,10)})),s=t.split(".").map((function(t){return parseInt(t,10)})),n=[],o=0,r=0,d=0,c=0;if(127==s[0])return _("IP address could not start with 127");if(0==s[0]||s[0]>=224)return _("Wrong IP address");for(c=0;c<4;c++)0==(s[c]&a[c])?r+=0:r+=1;for(c=0;c<a.length;c++)i=255-a[c],n.push(i);for(var l=0;l<4;l++)0==(s[l]&n[l])?o+=0:o+=1;if(0==o||0==r)return _("IP address is a network number, please enter it again.");for(var p=0;p<4;p++)255==(s[p]|a[p])?d+=0:d+=1;return 0==d?_("IP address is a broadcast address, please enter it again."):void 0}function r(t,e,i,s){var n,o,r,d="",c="",l=0;if(d=(a(t),t.split(".")),c=(a(e),e.split(".")),""==i&&""==s)return!1;for(n=i.split("."),r=o=s.split("."),l=0;l<4;l++)if(c[l]!=o[l]){if(c[l]>o[l]){r=o;break}r=c;break}for(l=0;l<4;l++)if((d[l]&r[l])!=(n[l]&r[l]))return!1;return!0}}}]);