(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/qfm":function(t,a,e){"use strict";e("yOUB")},mCsG:function(t,a,e){"use strict";e.r(a);e("bWfx"),e("KKXr"),e("CX2u"),e("Btvt"),e("VRzm"),e("I78e"),e("h7Nl"),e("a1Th"),e("RW0V"),e("ioFf"),e("0l/t"),e("mYba"),e("jm62");var n=e("L2JU");function i(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,n)}return e}function r(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?i(Object(e),!0).forEach((function(a){l(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function l(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var s={data:function(){var t=this;return{ipv6Data:{},disabled:!1,ipv6EnDisable:!1,formOption:{ipv6_en:{values:["1","0"],disabled:!1,changeCallBack:function(a){for(var e in t.formOption)if("ipv6_en"!==e){var n=t.formOption[e];n.error="",n.show="1"===a}}},con_type:{sortArray:[{value:"DHCP",title:_("DHCPv6")},{value:"PPPoE",title:_("PPPoEv6")},{value:"Static",title:_("Static IPv6 Address")}],changeCallBack:function(a){var e={Static:["wan_addr","wan_prefix_len","gate_way","wan_pre_dns","wan_alt_dns"],PPPoE:["isp_username","isp_password"],DHCP:[]};e.PPPoE.map((function(a){t.formOption[a].show=!1})),e.Static.map((function(a){t.formOption[a].show=!1})),e[a].map((function(a){t.formOption[a].show=!0})),"Static"===a&&(t.formOption.prefix_type.val="manual",t.formOption.prefix_delegate.val="0")}},isp_username:{maxlength:128,valid:[{type:"ppoe"}]},isp_password:{hasEye:!0,type:"password",maxlength:128,valid:[{type:"ppoe"}]},wan_addr:{maxlength:128,valid:[{type:"ipv6"}]},wan_prefix_len:{maxlength:3,valid:[{type:"num",args:[16,64]}]},gate_way:{maxlength:128,valid:[{type:"ipv6LocalLink"}]},wan_pre_dns:{maxlength:128,valid:[{type:"ipv6"}]},wan_alt_dns:{required:!1,maxlength:128,valid:[{type:"ipv6"}]},non_temp_addr:{sortArray:[{title:_("Obter endereÃ§o Stateful"),value:"1"}]},prefix_delegate:{sortArray:[{title:_(_("Obtain IPv6 Prefix Delegation")),value:"1"}],changeCallBack:function(a){t.formOption.lan_prefix.show="1"!==a,t.formOption.prefix_type.val="1"===a?"auto":"manual"}},lan_type:{sortArray:[{value:"auto",title:_("Auto")},{value:"manual",title:_("Manual")}],changeCallBack:function(a){t.formOption.lan_addr.show="manual"===a}},lan_addr:{valid:[{type:"ipv6"}]},prefix_type:{sortArray:[{value:"auto",title:_("Auto")},{value:"manual",title:_("Manual")}],changeCallBack:function(a){t.formOption.lan_prefix.show="manual"===a}},lan_prefix:{},dhcp_en:{sortArray:[{value:"1",title:_("Enable")},{value:"0",title:_("Disable")}],changeCallBack:function(a){t.formOption.dhcp_type.show="1"===a,t.formOption.dns_type_v6.show="1"===a}},dhcp_type:{sortArray:[{value:"auto",title:_("Stateless")},{value:"manual",title:_("Stateful")}],changeCallBack:function(a){t.formOption.start_id.show="manual"===a,t.formOption.end_id.show="manual"===a}},start_id:{valid:[{type:"ipv6pool"}]},end_id:{valid:[{type:"ipv6pool"}]},dns_type_v6:{sortArray:[{value:"auto",title:_("Auto")},{value:"manual",title:_("Manual")}],changeCallBack:function(a){t.formOption.lan_pre_dns.show="manual"===a,t.formOption.lan_alt_dns.show="manual"===a}},lan_pre_dns:{valid:[{type:"ipv6"}]},lan_alt_dns:{valid:[{type:"ipv6"}]}}}},computed:r({},Object(n.e)("ipv6",["ipv6_info"])),methods:r(r({},Object(n.b)("ipv6",["getData","setData"])),{},{updateData:function(){var t=this;this.getData().then((function(){t.$refs.form.setValue(t.ipv6_info),t.formOption.wan_addr.val=t.ipv6_info.wan_addr.split("/")[0],t.formOption.wan_prefix_len.val=t.ipv6_info.wan_addr.split("/")[1],t.formOption.lan_addr.val=t.ipv6_info.lan_addr.split("/")[0],!t.ipv6_info||"3"!=t.ipv6_info.link_mode&&"4"!=t.ipv6_info.link_mode&&"5"!=t.ipv6_info.link_mode||(t.ipv6EnDisable=!0)}))},submit:function(){var t=this,a=this.formOption,e=a.ipv6_en,n=a.isp_username,i=a.isp_password,r=a.non_temp_addr,l=a.prefix_delegate,s=a.dhcp_en,o=a.dhcp_type,p=a.start_id,v=a.end_id,_=a.dns_type_v6,d=a.lan_pre_dns,f=a.lan_alt_dns,u=a.con_type,m=a.gate_way,c=a.wan_addr,h=a.lan_addr,y=a.wan_pre_dns,g=a.wan_alt_dns,O=a.wan_prefix_len,w=a.lan_type,P=a.prefix_type,b=a.lan_prefix,I={ipv6_en:e.val,con_type:u.val,isp_username:n.val,isp_password:i.val,non_temp_addr:"1"==r.val?1:0,prefix_delegate:"1"==l.val?1:0,wan_addr:c.val+"/"+O.val,gate_way:m.val,wan_pre_dns:y.val,wan_alt_dns:g.val,lan_type:w.val,prefix_type:P.val,dhcp_en:s.val,dhcp_type:o.val,start_id:p.val,end_id:v.val,dns_type_v6:_.val,lan_pre_dns:d.val,lan_alt_dns:f.val,lan_addr:h.val+"/64",lan_prefix:b.val+"/64"};this.checkData()&&(this.disabled=!0,this.setData(I).then((function(){t.updateData()})).finally((function(){t.disabled=!1})))},checkData:function(){var t=this.formOption,a=t.ipv6_en,e=t.dhcp_en,n=t.dhcp_type,i=t.start_id,r=t.end_id,l=t.dns_type_v6,s=t.lan_pre_dns,o=t.lan_alt_dns,p=t.con_type,v=t.gate_way,d=t.wan_addr,f=t.lan_addr,u=t.wan_pre_dns,m=t.wan_alt_dns,c=t.wan_prefix_len,h=t.lan_type,y=t.prefix_type,g=t.lan_prefix;if("1"===a.val){if("1"===e.val){if("manual"===n.val&&i.val>r.val)return this.$toast(_("The end ID should be greater than the start ID")),!1;if("manual"===l.val&&s.val>o.val)return this.$toast(_("The primary DNS server and secondary DNS server cannot be the same.")),!1}if("Static"==p.val){if(v.val==d.val)return this.$toast(_("The default IPv6 gateway cannot be the duplicate with WAN IPv6 address")),!1;if(v.val==f.val)return this.$toast(_("The default IPv6 gateway cannot be duplicate with LAN IPv6 address")),!1;if(u.val==m.val)return this.$toast(_("The primary DNS server and secondary DNS server cannot be the same.")),!1;if(!this.checkIpv6InSameSegment(d.val,v.val,c.val,c.val)&&"FE80"!==v.val.slice(0,4).toUpperCase())return this.$toast(_("The gateway and the IP address must be in the same network segment.")),!1}if("manual"==h.val&&"manual"==y.val&&!this.checkIpv6InSameSegment(f.val,g.val,64,64))return this.$toast(_("IPv6 LAN Address and LAN prefix must be in the same segment")),!1;if("manual"==y.val){if(this.checkIpv6InSameSegment(d.val,g.val,64,64))return this.$toast(_("IPv6 WAN address and IPv6 LAN address cannot be in the same segment")),!1}else if("manual"==h&&this.checkIpv6InSameSegment(d.val,f.val,64,64))return this.$toast(_("IPv6 WAN address and IPv6 LAN address cannot be in the same segment")),!1}return!0},checkIpv6InSameSegment:function(t,a,e,n){if((e=parseInt(e,10))!=(n=parseInt(n,10)))return!1;var i=e,r=this.toBinary(this.getFullIpv6(t)),l=this.toBinary(this.getFullIpv6(a));return r.slice(0,i)==l.slice(0,i)},toBinary:function(t){for(var a=t.length,e="",n="",i=0;i<a;i++){for(n=parseInt(t[i],16).toString(2);n.length<4;)n="0"+n;e+=n}return e},getFullIpv6:function(t){var a,e,n="",i=t.split("::"),r=i[0].split(":"),l=[],s="";if(-1!==t.indexOf("::"))for(l=i[1].split(":"),a=8-(r.length+l.length);a;)s+="0000",a--;for(e=0;e<r.length;e++){for(4-r[e].length;r[e].length<4;)r[e]="0"+r[e];n+=r[e]}for(n+=s,e=0;e<l.length;e++){for(4-l[e].length;l[e].length<4;)l[e]="0"+l[e];n+=l[e]}return n}}),mounted:function(){this.updateData()}},o=(e("/qfm"),e("sTN+"),e("KHd+")),p=Object(o.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-form",{ref:"form",staticClass:"form-wrapper",attrs:{formData:t.formOption},on:{submit:t.submit}},[e("v-group",{attrs:{css:t.ipv6EnDisable?"disabled":"",vname:"v-switch",title:t._("IPv6:"),dataKey:t.formOption.ipv6_en,disabled:t.ipv6EnDisable}}),t._v(" "),t.ipv6EnDisable?e("span",{staticClass:"text-warning"},[t._v(t._s(t._("The IPv6 function is not available when WAN connection type is PPPoE MODE2/L2TP/PPTP.")))]):t._e(),t._v(" "),"1"===t.formOption.ipv6_en.val?e("div",[e("div",{staticClass:"split-line"},[t._v("IPv6 WAN Settings")]),t._v(" "),e("v-group",{attrs:{show:"1"===t.formOption.ipv6_en.val,vname:"v-select",title:t._("Connection Type:"),dataKey:t.formOption.con_type,css:"split-first-elem"}}),t._v(" "),"PPPoE"===t.formOption.con_type.val?e("div",[e("v-group",{attrs:{vname:"v-input",title:t._("PPPoE Username:"),dataKey:t.formOption.isp_username}}),t._v(" "),e("v-group",{attrs:{vname:"v-input",title:t._("PPPoE Password:"),dataKey:t.formOption.isp_password}})],1):t._e(),t._v(" "),"Static"===t.formOption.con_type.val?e("div",[e("v-group",{attrs:{title:t._("IPv6 Address:")}},[e("div",{staticClass:"inline first"},[e("v-group",{attrs:{vname:"v-input",dataKey:t.formOption.wan_addr}})],1),t._v(" "),e("div",{staticClass:"inline line"},[t._v("/")]),t._v(" "),e("div",{staticClass:"inline"},[e("v-group",{attrs:{vname:"v-input",dataKey:t.formOption.wan_prefix_len}})],1)]),t._v(" "),e("v-group",{attrs:{vname:"v-input",title:t._("Default IPv6 Gateway:"),dataKey:t.formOption.gate_way}}),t._v(" "),e("v-group",{attrs:{vname:"v-input",title:t._("Primary IPv6 DNS:"),dataKey:t.formOption.wan_pre_dns}}),t._v(" "),e("v-group",{attrs:{vname:"v-input",title:t._("Secondary IPv6 DNS:"),dataKey:t.formOption.wan_alt_dns}})],1):t._e(),t._v(" "),"Static"!==t.formOption.con_type.val?e("div",[e("v-group",{staticClass:"no-border",attrs:{vname:"v-checkbox",dataKey:t.formOption.non_temp_addr}}),t._v(" "),e("v-group",{staticClass:"no-border",attrs:{vname:"v-checkbox",dataKey:t.formOption.prefix_delegate}})],1):t._e(),t._v(" "),e("div",{staticClass:"split-line"},[t._v("IPv6 LAN Address:")]),t._v(" "),e("v-group",{attrs:{title:t._("IPv6 Address:"),css:"split-first-elem"}},[e("div",{staticClass:"inline small"},[e("v-group",{attrs:{vname:"v-select",dataKey:t.formOption.lan_type}})],1),t._v(" "),"manual"===t.formOption.lan_type.val?e("span",[e("div",{staticClass:"inline middle"},[e("v-group",{attrs:{vname:"v-input",dataKey:t.formOption.lan_addr}})],1),t._v(" "),e("div",{staticClass:"inline line"},[t._v("/64")])]):t._e()]),t._v(" "),e("v-group",{attrs:{title:t._("IPv6 LAN Prefix Length:")}},[e("div",{staticClass:"inline small"},[e("v-group",{attrs:{css:"disabled",vname:"v-select",dataKey:t.formOption.prefix_type}})],1),t._v(" "),"manual"===t.formOption.prefix_type.val?e("span",[e("div",{staticClass:"inline middle"},[e("v-group",{attrs:{vname:"v-input",dataKey:t.formOption.lan_prefix}})],1),t._v(" "),e("div",{staticClass:"inline line"},[t._v("/64")])]):t._e()]),t._v(" "),e("v-group",{attrs:{vname:"v-select",title:t._("IPv6 DHCP"),dataKey:t.formOption.dhcp_en}}),t._v(" "),"1"===t.formOption.dhcp_en.val?e("span",[e("v-group",{attrs:{vname:"v-select",title:t._("DHCPv6 Address Assignment Method:"),dataKey:t.formOption.dhcp_type}}),t._v(" "),"manual"===t.formOption.dhcp_type.val?e("span",[e("v-group",{attrs:{vname:"v-input",title:t._("Start ID:"),dataKey:t.formOption.start_id}}),t._v(" "),e("v-group",{attrs:{vname:"v-input",title:t._("End ID:"),dataKey:t.formOption.end_id}})],1):t._e(),t._v(" "),e("v-group",{attrs:{vname:"v-select",title:t._("IPv6 DNS:"),dataKey:t.formOption.dns_type_v6}}),t._v(" "),"manual"===t.formOption.dns_type_v6.val?e("span",[e("v-group",{attrs:{vname:"v-input",title:t._("Primary IPv6 DNS:"),dataKey:t.formOption.lan_pre_dns}}),t._v(" "),e("v-group",{attrs:{vname:"v-input",title:t._("Secondary IPv6 DNS:"),dataKey:t.formOption.lan_alt_dns}})],1):t._e()],1):t._e()],1):t._e()],1)],1)}),[],!1,null,"2791e8b7",null);a.default=p.exports},"sTN+":function(t,a,e){"use strict";e("vCt4")},vCt4:function(t,a,e){},yOUB:function(t,a,e){}}]);