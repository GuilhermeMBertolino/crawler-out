<html>
<head>
<meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
<link rel="stylesheet" href='stylemain.css' type='text/css'>
<script language="JavaScript" src="util.js"></script>
<script language="javascript">
<!-- hide

var ipv6addr_ll = '<%ej_get_ipv6(ipv6addr_ll)%>';
var ifname = '<%ej_get_ipv6(wanintflist)%>';
var currintf = '<%ejGet(wanL2IfName)%>';
var intf_tmp = currintf.split('/');
var conninfo = '<%ej_get_ipv6(conntype6)%>';
var tmp = conninfo.split('|');

var wan6_type = '<%ejGet(wanAddr6Type)%>';
var ll_enbl = '<%ejGet(ip6_ll_enbl)%>';
var ipv6_addr = '<%ejGet(wanAddr6)%>';
var dflt_gtw6 = '<%ejGet(dflt_gtw6)%>';
var pri_dns6 = '<%ejGet(dns6Pri)%>';
var sec_dns6 = '<%ejGet(dns6Sec)%>';

function llClick()
{
    with (document.forms[0])
	{
	    if (llenbl.checked == true)
    	{
			var addr = ipv6addr_ll.split('/');
			ipv6addr.value = addr[0];
			prxlen.value = addr[1];
			ipv6addr.disabled = 1;
			prxlen.disabled = 1;		    	    
    	}
		else
		{
		    ipv6addr.disabled = 0;
			prxlen.disabled = 0;	
			if (wan6_type == 'Static')
			{
				var addr = ipv6_addr.split('/');
				ipv6addr.value = addr[0];
				prxlen.value = addr[1];	
			}
			else
			{
			    ipv6addr.value = '';
				prxlen.value = '';
			}
		}
	}
}

function btnPrev()
{
    var code = 'location="ipv6wizselect.html"';
    eval(code);
}

function btnCancel()
{
    var code = 'location="ipv6internet.html"';
    eval(code);
}

function btnConnect()
{
    var code = 'location="internet.html"';
    eval(code);
}

function staticheck()
{
	with (document.forms[0])
	{
		if (llenbl.checked == false)
		{
	        if (ipv6addr.value == '' || (ipv6addr.value != '' && isValidIpAddress6(ipv6addr.value) == false)) 
		    {
				alert('Invalid WAN IPv6 address.');
				return false;
	        }

			if (prxlen.value != '' && isValidPrefixLength(prxlen.value) == false) 
			{
				alert('Invalid WAN IPv6 address prefix length.');
				return false;
			}
		}
		
		if (dfltgtw.value != '' && isValidIpAddress6(dfltgtw.value) == false) 
		{
			alert('Invalid next hop IPv6 address.');
			return false;
		}

		if (pridns.value == '')
		{
		    alert('This mode you should set one dns server at least.');
			return false;
		}
		
		if (pridns.value != '' && isValidIpAddress6(pridns.value) == false) 
		{
			alert('IPv6 Primary DNS Server "' + pridns.value + '" is invalid address.');
			return false;
		}
		
		if (secdns.value != '' && isValidIpAddress6(secdns.value) == false) 
		{
			alert('IPv6 Secondary DNS Server "' + secdns.value + '" is invalid address.');
			return false;
		}			 
	}

	return true;
}

function btnNext()
{
	var loc = 'ipv6wiz.cmd?action=staticip';

    with (document.forms[0])
    {
		if (staticheck() == false)
		{
			return;
		}

		if (llenbl.checked == true)
		{
			loc += '&llenbl=1';
		}
		else
		{				
			loc += '&llenbl=0';
			loc += '&ipv6addr=' + ipv6addr.value + '/' + prxlen.value;
		}
		loc += '&dfltgtw6=' + dfltgtw.value;
		loc += '&dnstype6=Static';

		loc += '&pridns6=' + pridns.value;
		if (secdns.value != '') 
		{
			loc += '&secdns6=' + secdns.value;
		}
		
        var code = 'location="' + loc + '"';
        eval(code);
    }
}

function frmLoad()
{
	with (document.forms[0])
	{
		if (wan6_type == 'Static')
		{
			if (ll_enbl == '1')
			{
			    llenbl.checked = true;					
			}
			else
			{
		    	llenbl.checked = false;
			}

			llClick();

			dfltgtw.value = dflt_gtw6;

			if ((pri_dns6 != '') && (sec_dns6 == ''))
			{
				pridns.value = pri_dns6;
				secdns.value = '';
			}
			else if ((pri_dns6 != '') && (sec_dns6 != ''))
			{
				pridns.value = pri_dns6;
				secdns.value = sec_dns6;
			}		
		}
		else
		{
			dfltgtw.value = '';
		    pridns.value = '';
			secdns.value = '';
		}
	}
}

// done hiding -->
    </script>

<script language="JavaScript" src="menu.js"></script>
   </head>
<body onLoad='frmLoad()'>
<blockquote>
<script language="JavaScript">
</script> 
<script type='text/javascript'>
	mainTableStart();	
	logo();
	TopNav();
	ThirdRowStart();
	Write_Item_Images();
	mainBodyStart();
</script>
<form>
	<table id=body_header width="690" border=0 cellSpacing=0>
		<tr>
			<td class=topheader>
				Set Static IPv6 Address Connection
			</td>										
		</tr>
		
			<td class=content>
            <P>To set up this connection you will need to have a complete list of IPv6 information provided by
            	your IPv6 Internet Service Provider. If you have a Static IPv6 connection and do not have this 
            	information, please contact your ISP.</P>
            <br> 	
			<p>
			<table class=formarea cellSpacing=0 cellPadding=0 border=0>
			  <tbody>
                <tr>
	                <td class=form_label>
	                   	<label for=llenbl>Use Link-Local Address&nbsp;:</label>
	                </td>
                    <td>
                       	<input id=llenbl name=llenbl type=checkbox onclick="llClick()">
                    </td>
                </tr>

               	<tr>
                	<td class=form_label>
                		<label for=ipv6addr>IPv6 Address&nbsp;:</label>
                	</td>
                	<td>
	                	<input id='ipv6addr' type='text' name='ipv6addr' size='30'>
                	</td>
			  	</tr>
			  
              	<tr>
                	<td class=form_label>
                		<label for=prxlen>Subnet Prefix Length&nbsp;:</label>
                	</td>
                	<td>
	                	<input id='prxlen' type='text' name='prxlen' size='5' maxlength='3'>
                	</td>
			  	</tr>
			  
            	<tr>
                	<td class=form_label>
                		<label for=dfltgtw>Default Gateway&nbsp;:</label>
                	</td>
                	<td>
	                	<input id='dfltgtw' type='text' name='dfltgtw' size='30'> 
                	</td>
			  	</tr>
			  
	        	<tr>
                	<td class=form_label>
                		<label for=pridns>Primary IPv6 DNS Server&nbsp;:</label>
                	</td>
                	<td>
	                	<input id='pridns' type='text' name='pridns' size='30'>
                	</td>
			  	</tr>			  

              	<tr>
                	<td class=form_label>
                	<label for=secdns>Secondary IPv6 DNS Server&nbsp;:</label>
                	</td>
                	<td>
	                	<input id='secdns' type='text' name='secdns' size='30'>
                	</td>
			  	</tr>			  
			  </tbody>
			</table>
		  </td>	
			</p>
      		</td>

			<tr>
			<td>
            	
			<p>
			<p align=center>
				<input type="button" value='Prev' onclick='btnPrev()'>
				<input type="button" value='Next' onclick='btnNext()'>
				<input type="button" value='Cancel' onclick='btnCancel()'>
				<input type="button" value='Connect' onclick='btnConnect()' disabled="true">
			</p>
			</td>
			</tr>
      		
	</table>
<script type='text/javascript'>
	mainBodyEnd();
	ThirdRowEnd();
	Footer()
	mainTableEnd()
</script>
</form>
</blockquote>
   </body>
</html>
