<html>
   <head>
      <meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
      <link rel="stylesheet" href='stylemain.css' type='text/css'>
            <script language="javascript">
<!-- hide

var chipId = <%ejGetOther(sysInfo, chipId)%>;

function frmLoad() {
   var adslFlag = '<%ejGet(adslFlag)%>';
   
//   alert('frmLoad: CHIPID=(' + chipId + ')');
   
//   alert('frmLoad: adslFlags=(' + adslFlag + ')');
   
   with ( document.forms[0] ) {
      if (adslFlag & 0x00000100)
         adslMod[0].checked = true;
      if (adslFlag & 0x00000200)
         adslMod[1].checked = true;
      if (adslFlag & 0x00000400)
         adslMod[2].checked = true;
      if (adslFlag & 0x00000800)
         adslMod[3].checked = true;
      if (adslFlag & 0x00001000)
         adslMod[4].checked = true;
      if (adslFlag & 0x00002000)
         adslMod[5].checked = true;
      if (adslFlag & 0x00004000)
         adslMod[6].checked = true;

      if (adslFlag & 0x007f0000)	// VDSL_US0_8a - For now, indicating all enabled
         us0Mask.checked = true;
         
      if (adslFlag & 0x02000000)
         adslBitswap.checked = false;
      else
         adslBitswap.checked = true;
         
      if (adslFlag & 0x08000000)
         adslSra.checked = true;
      else
         adslSra.checked = false;
         
   }
}

function applyClick() {
   var loc = 'xdslcfg.cgi?adslFlag=';
   var adslFlag = '<%ejGet(adslFlag)%>';

//   alert('applyClick: adslFlags=(' + adslFlag + ')');
   
   adslFlag |= 0x00000080;		// ANNEX_A_MODE_VDSL2   
   adslFlag &= ~0x00FFFF00;
   
   with ( document.forms[0] ) {
      if (adslMod[0].checked)
         adslFlag |= 0x00000100;
      if (adslMod[1].checked)
         adslFlag |= 0x00000200;
      if (adslMod[2].checked)
         adslFlag |= 0x00000400;
      if (adslMod[3].checked)
         adslFlag |= 0x00000800;
      if (adslMod[4].checked)
         adslFlag |= 0x00001000;
      if (adslMod[5].checked)
         adslFlag |= 0x00002000;
      if (adslMod[6].checked)
         adslFlag |= 0x00004000;
      if ((adslFlag & 0x0007f00) == 0)
         alert("Need to select at least one profile.");
	  
      if (us0Mask.checked)
         adslFlag |= 0x007f0000;

      if (!adslBitswap.checked)
         adslFlag |= 0x02000000;
      if (adslSra.checked)
         adslFlag |= 0x08000000;
   }

//   alert('applyClick: adslFlags=(' + adslFlag + ')');
   
   loc += adslFlag;
   var code = 'location="' + loc + '"';
   eval(code);
}

function btnCancel(){
   var loc = 'xdslcfg.html';

   var code = 'location="' + loc + '"';

   eval(code);

}


// done hiding -->
</script>
<script language="JavaScript" src="menu.js"></script>
   </head>
   <body onLoad='frmLoad()'>
      <blockquote>
<script language="JavaScript">
TabHeader="Advanced";
SideItem="Network Tools";
HelpItem="adslsetting";
</script> 
<script type='text/javascript'>
	mainTableStart();	
	logo();
	TopNav();
	ThirdRowStart();
	Write_Item_Images();
	mainBodyStart();
</script>
	<table id=box_header border=0 cellSpacing=0>
		<tr>
			<td class=topheader>
			DSL
			</td>										
		</tr>
		<tr>
			<td class=content>
				<p>
				This page allows you to configure the modems DSL modulation.</p>
				<p>Select the modulation below.</p>
			</td>
		</tr>
	</table>
	<table id=body_header border=0 cellSpacing=0>
		<tr>
			<td class=topheader>
				DSL Settings
			</td>										
		</tr>
		<tr>
			<td class=content>
         <form>
            <br>
            <b>Select the profile below.</b><br>
            <table border="0" cellpadding="4" cellspacing="0">
               <tr>
                  <td width='20'></td>
                  <td><input type="checkbox" name="adslMod"><b> 8a Enabled</b></td>
               </tr>
               <tr>
                  <td></td>
                  <td><input type="checkbox" name="adslMod"><b> 8b Enabled</b></td>
               </tr>
               <tr>
                  <td></td>
                  <td><input type="checkbox" name="adslMod"><b> 8c Enabled</b></td>
               </tr>
               <tr>
                  <td></td>
                  <td><input type="checkbox" name="adslMod"><b> 8d Enabled</b></td>
               </tr>
               <tr>
                  <td></td>
                  <td><input type="checkbox" name="adslMod"><b> 12a Enabled</b></td>
               </tr>
               <tr>
                  <td></td>
                  <td><input type="checkbox" name="adslMod"><b> 12b Enabled</b></td>
               </tr>
               <tr>
                  <td></td>
                  <td><input type="checkbox" name="adslMod"><b> 17a Enabled</b></td>
               </tr>
            <table>   
            <br>
            <b>US0.</b><br>
            <table border="0" cellpadding="4" cellspacing="0">
               <tr>
                  <td width='20'></td>
                  <td><input type="checkbox" name="us0Mask"><b> Enable</b></td>
               </tr>
            <table>
            <br>
            <b> Capability</b> 
            <table border="0" cellpadding="4" cellspacing="0">
               <tr>
                  <td width='20'></td>
                  <td><input type="checkbox" name="adslBitswap"><b> Bitswap Enable</b></td>
               </tr>
               <tr>
                  <td width='20'></td>
                  <td><input type="checkbox" name="adslSra"><b> SRA Enable</b></td>
               </tr>
            </table>
      		</td>
		</tr>
	</table>
            <br>
            <center>
               <input type='button' onClick='applyClick()' value='Save/Apply'><input type='button' onClick='btnCancel()' value='Cancel'>
            </center>
         </form>
<script type='text/javascript'>
	mainBodyEnd();
	ThirdRowEnd();
	Footer()
	mainTableEnd()
</script>
      </blockquote>
   </body>
</html>
