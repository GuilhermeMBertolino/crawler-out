<html>
   <head>
      <meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
      <link rel="stylesheet" href='stylemain.css' type='text/css'>
            <script language="javascript" src="util.js"></script>
            <script language="javascript">
<!-- hide
var addr = '<%ejGet(wanIpAddress)%>';
var mask = '<%ejGet(wanSubnetMask)%>';
var dftgw = '<%ejGet(wanIntfGateway)%>';
var dftgwList = '<%ejGet(defaultGatewayList)%>';
var qs = '<%ejGet(quickSetup)%>';

function frmLoad() {
   with ( document.forms[0] ) {
      wanIpAddress.value = addr;
      wanSubnetMask.value = mask;
      defaultGateway.value = dftgw;
   }
//alert("wanIntfGateway=" + dftgw +", defaultGatewayList=" + dftgwList);
}

function btnNext() {
   var loc = 'natcfg2.cgi?';
 
   with ( document.forms[0] ) {
      // wan IP address
      if ( isValidIpAddress(wanIpAddress.value) == false ) {
         alert('WAN IP address "' + wanIpAddress.value + '" is invalid IP address.');
         return;
      }
      loc += 'wanIpAddress=' + wanIpAddress.value;
      // wan subnet mask
      if ( isValidSubnetMask(wanSubnetMask.value) == false &&  wanSubnetMask.value != '255.255.255.255') {
         alert('WAN subnet mask "' + wanSubnetMask.value + '" is invalid IP address.');
         return;
      }
      loc += '&wanSubnetMask=' + wanSubnetMask.value;
      if ( isValidIpAddress(defaultGateway.value) == false ) {
         alert('Default Gateway "' + defaultGateway.value + '" is invalid IP address.');
         return;
      }
      //top.frames[0].wizDfGw = defaultGateway.value;
      loc += '&wanIntfGateway=' + defaultGateway.value;
   }
//loc += '&enblDhcpClnt=1';
   var code = 'location="' + loc + '"';
//alert(code);
   eval(code);
}

function btnBack() {
   var serviceId = '<%ejGet(serviceId)%>';
    var wanIfName = '<%ejGet(wanIfName)%>';
    var wanL2IfName = '<%ejGet(wanL2IfName)%>';
    
    var loc = 'wancfg.cmd';
   
    /* if(serviceId == 0)
       loc = 'ntwkprtcl.html';
    else
       loc = 'wansrvc.cmd?serviceId=' + serviceId + '&editIfc=' + wanIfName;*/
   loc = 'ntwkprtcl.html';
   
   var code = 'location="' + loc + '"';
   eval(code);
}

function btnCancel(){
   var loc = 'ipoacfg.cgi';

   var code = 'location="' + loc + '"';

   eval(code);

}

// done hiding -->
</script>
<script language="JavaScript" src="menu.js"></script>
   </head>
   <body onLoad='frmLoad()'>
      <blockquote>
<script language="JavaScript">
TabHeader="Setup";
SideItem="Internet Setup";
HelpItem="wancfghelp";
</script> 
<script type='text/javascript'>
	mainTableStart();	
	logo();
	TopNav();
	ThirdRowStart();
	Write_Item_Images();
	mainBodyStart();
</script>
	<table id=box_header width="690" border=0 cellSpacing=0>
		<tr>
			<td class=topheader>
<script type='text/javascript'>
if (qs == '1'){
document.write('Wizard');
}else{
document.write('WAN');
}		
</script>
			</td>										
		</tr>

		<tr>
			<td class=content>
				<p>
				Enter information provided to you by your ISP to configure the WAN IP settings.<br><br>
            Notice: DHCP is not supported in IPoA mode.
            Changing the default gateway or the DNS effects the whole system.
            Configuring them with static values will disable the automatic assignment
            from other WAN connection.</p>
			</td>
		
		</tr>
	</table>

	<table id=body_header width="690" border=0 cellSpacing=0>
		<tr>
			<td class=topheader>
				WAN IP Settings
			</td>										
		</tr>
		<tr>
			<td class=content>         <form>
            <b>WAN IP Settings</b><br>
            <br>
            Enter information provided to you by your ISP to configure the WAN IP settings.<br><br>
            <table border="0" cellpadding="0" cellspacing="0">
               <tr>
                  <td width="160">WAN IP Address:</td>
                  <td><input type='text' name='wanIpAddress'></td>
               </tr>
               <tr>
                  <td>WAN Subnet Mask:</td>
                  <td><input type='text' name='wanSubnetMask'></td>
               </tr>
               <tr>
                  <td>Default Gateway:</td>
                  <td><input type='text' name='defaultGateway'></td>
               </tr>
            </table>
      		</td>										
		</tr>
	</table>
	<br>
            <center>
               <input type='button' onClick='btnBack()' value='Back'> <input type='button' onClick='btnNext()' value='Next'><input type='button' onClick='btnCancel()' value='Cancel'>
            </center>
         </form>

<script type='text/javascript'>
	mainBodyEnd();
	ThirdRowEnd();
	Footer()
	mainTableEnd()
</script>     
</blockquote>
   </body>
</html>
