<html>
<head>
<meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
<link rel="stylesheet" href='stylemain.css' type='text/css'>
<script language="javascript" src="util.js"></script>
<script language="javascript">
<!-- hide

var ipv6AACEnable = '<%ejGet(ipv6AACEnable)%>';
var ipv6AACType = '<%ejGet(ipv6AACType)%>';
var ipv6RALifetime = '<%ejGet(ipv6RALifetime);%>';
var IntfIDStart = '<%ejGet(ipv6IntfIDStart)%>';
var IntfIDEnd = '<%ejGet(ipv6IntfIDEnd)%>';
var dhcp6Lease = '<%ejGet(dhcp6LeasedTime)%>';

function autotypeChange()
{
	with (document.forms[0])
	{
		switch(autocfgtype.selectedIndex)
		{
			case 0:
					showhide("autotype", 1);  
					showhide("ralt", 1);  
					showhide("stateful", 0);				
				break;
			case 1:
					showhide("autotype", 1);  
					showhide("ralt", 1);  
					showhide("stateful", 0);							
				break;
			case 2:
					showhide("autotype", 1);  
					showhide("ralt", 0);  
					showhide("stateful", 1);							
				break;
			default:
		}	
	}
}

function aacTypeSelect(type)
{
	with (document.forms[0])
	{
		autocfgtype.selectedIndex = parseInt(type);
	}
}

function autoClick()
{
	with (document.forms[0])
	{
		if(autoenbl.checked ==false)	
   		{
    		autoenbl.checked = false;
			showhide("autotype", 0);  
			showhide("ralt", 0);  
			showhide("stateful", 0);  
		}
		else
		{
			switch(autocfgtype.selectedIndex)
			{
				case 0:
					showhide("autotype", 1);  
					showhide("ralt", 1);  
					showhide("stateful", 0);
					break;
				case 1:
					showhide("autotype", 1);  
					showhide("ralt", 1);  
					showhide("stateful", 0);
					break;
				case 2:
					showhide("autotype", 1);  
					showhide("ralt", 0);
					showhide("stateful", 1);  
					break;
				default:
				
			}
		}
	}
}

function frmLoad()
{
	with ( document.forms[0] )
	{
		if(ipv6AACEnable != '1')	
   		{
    		autoenbl.checked = false;
			showhide("autotype", 0);  
			showhide("ralt", 0);  
			showhide("stateful", 0);  
		}
		else if(ipv6AACEnable == '1')
		{
    		autoenbl.checked = true;
			switch(ipv6AACType)
			{
				case '0':
					showhide("autotype", 1);  
					showhide("ralt", 1);  
					aacTypeSelect(ipv6AACType);
					ralife.value = ipv6RALifetime;
					showhide("stateful", 0);
					break;
				case '1':
					showhide("autotype", 1);  
					showhide("ralt", 1);  
					aacTypeSelect(ipv6AACType);
					ralife.value = ipv6RALifetime;
					showhide("stateful", 0);
					break;
				case '2':
					showhide("autotype", 1);  
					showhide("ralt", 0);
					showhide("stateful", 1);  
					aacTypeSelect(ipv6AACType);		
					addr_prx_start.value = IntfIDStart;
					addr_prx_end.value = IntfIDEnd;
					lifetime.value = dhcp6Lease;
					break;
				default:
				
			}
		}

	
   }	
}

function btnApply()
{
	var loc = 'ipv6aaccfg.cmd?action=saveapply';
	with(document.forms[0])
	{
		if(autoenbl.checked == true)
			loc += '&ipv6AACEnable=1';
		else
			loc += '&ipv6AACEnable=0';

		loc += '&ipv6AACType=' + autocfgtype.selectedIndex;
		
		switch(autocfgtype.selectedIndex)
		{
			case 0:
				loc +='&ipv6RALifetime=' + parseInt(ralife.value); 
				break;
			case 1:
				loc +='&ipv6RALifetime=' + parseInt(ralife.value); 
				break;
			case 2:
				loc +='&ipv6IntfIDStart' + addr_prx_start.value;
				loc +='&ipv6IntfIDEnd' + addr_prx_end.value;
				loc +='&dhcp6LeasedTime' + parseInt(lifetime.value);
				loc +='&enblDhcp6sStateful=1';
				break;
			default:
		}
	}
	alert(loc);
    loc += '&sessionKey=<%ejGetOther(sessionKey)%>';
    var code = 'location="' + loc + '"';
    eval(code);
}

function btnCancel()
{
	with(document.forms[0])
	{
		switch(autocfgtype.selectedIndex)
		{
			case 0:
				ralife.value = ipv6RALifetime;
				break;
			case 1:
				ralife.value = ipv6RALifetime;
				break;
			case 2:
				addr_prx_start.value = IntfIDStart;
				addr_prx_end.value = IntfIDEnd;
				lifetime.value = dhcp6Lease;
				break;
			default:
		}
	}
}

// done hiding -->
</script>
<script language="JavaScript" src="menu.js"></script>
</head>
<body onLoad='frmLoad()'>
<blockquote>
<script language="JavaScript">
TabHeader="Setup";
SideItem="IPv6";
HelpItem="ipv6";
</script> 
<script type='text/javascript'>
	mainTableStart();	
	logo();
	TopNav();
	ThirdRowStart();
	Write_Item_Images();
	mainBodyStart();
</script>
<form>
		<table id=box_header border=0 cellSpacing=0>
		  <tr>
			<td class=topheader>IPv6</td>	
		  </tr>
		  <tr>
			<td class=content>
	          <P>
                Use this section to configure your IPv6 Connection type. If you are unsure of your connection 
                method, please contact your Internet Service Provider.<br>
              </P>
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <center>
			  <input type='button' onClick='btnApply()' value="Save Settings">
			  <input type='button' onClick='btnCancel()' value="Don't Save Settings">
			  </center>
		    </td>
		  </tr>
		</table>

		<div id='autoaddr'>
		<table id=body_header border=0 cellSpacing=0>
		  <tr>
		    <td class=topheader>Address Autoconfiguration Settings</td>
		  </tr>
		  <tr>
		    <td class=content>
		      <p>Use this section to setup IPv6 Autoconfiguration to assign IP addresses to the computers on your network.</p>	
		          <table class=formarea border="0" cellpadding="0" cellspacing="0">
		          <tr>
		            <td class=form_label>
		              <label for=autoenbl>Enable automatic IPv6 address assignment&nbsp;:</label>
		      		</td>
	                <td>
	                  <input id=autoenbl name=autoenbl type=checkbox onclick="autoClick()"> 
	                </td>		      		
			      </tr>
			      </table>

				  <div id='autotype'>
			      <table class=formarea  border="0" cellpadding="0" cellspacing="0">
		          <tr>
		            <td class=form_label>
		              <label for=autocfgtype>Autoconfiguration Type&nbsp;:</label>
		      		</td>
	                <td>
		              <select name='autocfgtype' onChange="autotypeChange()">
		                <option value='1'>SLAAC + Stateless DHCP
		                <option value='2'>SLAAC + RDNSS
		                <option value='3'>Stateful DHCP
		      		  </select>
	                </td>		      		
			      </tr>	
			      </table>
			      </div>

			      <div id='ralt'>
			      <table class=formarea  border="0" cellpadding="0" cellspacing="0">
		          <tr>
		            <td class=form_label>
		              <label for=ralife>Router Advertisment Lifetime&nbsp;:</label>
		      		</td>
	                <td>
	                  <input id='ralife' type='text' name='ralife' value='10' size='10'>(minutes) 
	                </td>		      		
			      </tr>	
			      </table>
			      </div>

			      <div id='stateful'>
			      <table class=formarea  border="0" cellpadding="0" cellspacing="0">
		          <tr>
		            <td class=form_label>
		              <label for=start>IPv6 Address Range(Start)&nbsp;:</label>
		      		</td>
	                <td>
	                  <input type='text' name='addr_prx_start' size='20'>
	                </td> 
		            <td>
		              <label>&nbsp;::</label>
		      		</td>
	                <td>
	                  <input type='text' name='addr_start' value='0001' size='10'>
	                </td> 		      		
			      </tr>	
		          <tr>
		            <td class=form_label>
		              <label for=end>IPv6 Address Range(End)&nbsp;:</label>
		      		</td>
	                <td>
	                  <input type='text' name='addr_prx_end' size='20'>
	                </td>
		            <td>
		              <label>&nbsp;::</label>
		      		</td>
	                <td>
	                  <input type='text' name='addr_end' value='0200' size='10'>
	                </td>	                
			      </tr>
		          <tr>
		            <td class=form_label>
		              <label for=lifetime>IPv6 Address Lifetime&nbsp;:</label>
		      		</td>
	                <td>
	                  <input id='lifetime' type='text' name='lifetime' size='10'>(minutes)
	                </td>                
			      </tr>			      
			      </table>
			      </div>
			</td>
		  </tr>
		</table>
		</div>
</form>
<script type='text/javascript'>
	mainBodyEnd();
	ThirdRowEnd();
	Footer();
	mainTableEnd();
</script>
</blockquote>
</body>
</html>

