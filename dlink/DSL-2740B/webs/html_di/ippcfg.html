<html>
<head>
<meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
<link rel='STYLESHEET' type='text/css' href='stylemain.css'>
<script language='JavaScript' src='menu.js'></script> 
<script language='JavaScript' src='util.js'></script> 
<SCRIPT language="JavaScript">
<!--

var state = '<%ejGetIpp(ippRefresh)%>';
if ( state == '1' ) {
   var code = 'location="ippcfg.ipp?ippRefresh=0"';
   eval(code);
}

function btnApply() {
  var loc = 'ippcfg.cmd?action=savapply&ippEnabled=';

  with( document.forms[0] ) {
    if( ippEnabled.checked ) {
      if ( (ippMake.value.length == 0)  ||  (ippMake.value.length > 40) ) {
        alert('Make and model length is invalid [1-128].');
        return;
      }
      if ( (ippName.value.length == 0) || (ippName.value.length > 128) ) {
        alert('Printer name length is invalid [1-40].');
        return;
      }
	  if (!isValidName(ippMake.value,"",BLANK_VALID,SPACE_VALID))
      {
         alert('Make and model can not include special characters.');
		 return;
	  }
      loc += '1';
      loc += '&ippMake='+ippMake.value;
      
	  if (isValidPassword(ippName.value))
         loc += '&ippName='+ippName.value;
	  else{
		 alert('Printer Name can not include special characters.')
		 return;
	  }
    } else {
      loc += '0';
    }
  }
  var code = 'location="' + loc + '"';
  eval(code);
}

function ippEnblChange() {
  if( document.forms[0].ippEnabled.checked )
    hideIppConfig(0);
  else
    hideIppConfig(1);
}

function hideIppConfig(hide) {
  	var status = 'visible';
                                                                                
  	if(hide)
    	status = 'hidden';
                                                                                
  	if( document.getElementById )
		document.getElementById('ippConfig').style.visibility = status;
  	else if(!document.layers)
      document.all.ippConfig.style.visibility = status;
}


function frmLoad() {
  var i = 0;
  var enable = "<%ejGetOther(sysInfo, ippEnabled)%>";


  with (document.forms[0]) {
    ippMake.value = "<%ejGetOther(sysInfo, ippMake)%>";
    ippName.value = "<%ejGetOther(sysInfo, ippName)%>";
    if (enable == "1" ) {
      ippEnabled.checked = true;
    } else {
      ippEnabled.checked = false;
    }
  }
  ippEnblChange();
}


//-->
</SCRIPT>



</head>

<body onload='frmLoad()'>
<script language="JavaScript">
TabHeader="Setup";
SideItem="USB Setup";
HelpItem="Print";
</script> 
<script type='text/javascript'>
	mainTableStart();	
	logo();
	TopNav();
	ThirdRowStart();
	Write_Item_Images();
	mainBodyStart();
</script>
<form onload='frmLoad()'>
	<table id=box_header border=0 cellSpacing=0>
		<tr>
			<td class=topheader>
				Print Server Setting
			</td>										
		</tr>
		<tr>
			<td class=content>
				<p>
				The Print Server Configuration option allows you to configure, update, and maintain the correct Print Server settings. </p>
			</td>
		</tr>
	</table>

	<table id=body_header border=0 cellSpacing=0>
		<tr>
			<td class=topheader>
				Server Configuration
			</td>										
		</tr>
		<tr>
			<td class=content>
									<div align="left">
							<input type='checkbox' name='ippEnabled' onClick='ippEnblChange()'> 
        					Enable on-board print server.
							<br><br>
						</div>
			<div id="ippConfig">
<table class=formarea border="0" cellpadding="0" cellspacing="0">
    								<tr>
    									<td class=form_label>Printer name</td>
	    								<td><input type='text' name='ippName'></td>
   	 							</tr>
    								<tr>
    									<td class=form_label>Make and model</td>
        								<td><input type='text' name='ippMake'></td>
    								</tr>


				    </table></div>
      </td>										
		</tr>
	</table>
<br>
				    <center>
       				<input type="button" value="Apply" onClick='btnApply()'>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				    <input name='button2' class=button_submit type=button value="Cancel" onClick="window.location.href='ippcfg.html'"></center>


</form>
<script type='text/javascript'>
	mainBodyEnd();
	ThirdRowEnd();
	Footer()
	mainTableEnd()
</script>
</body>
</html>
