<HTML><HEAD><TITLE>D-Link ADSL Router</TITLE>
<META http-equiv=Content-Type content="text/html">
<META http-equiv=Pragma content=no-cache><LINK 
href="stylemain.css" type=text/css rel=stylesheet>
<SCRIPT language=JavaScript src="util.js"></SCRIPT>
<script language=JavaScript src="tree.js"></script>
<script language=JavaScript src="js_tree.js"></script>
<!--<SCRIPT language=JavaScript src="menu.js"></SCRIPT>-->
<SCRIPT language=javascript>
<!-- hide

var pr = window.opener;
var Index = pr.dev_Idx;

var part_Num =  '<%ejGet(partitions)%>';
var drive_Info = '<%ej_get_fs_type(type)%>';
var array = drive_Info.split('|');
var length = array.length-1;
var info;
for (i=0;i<length; i++)
{
	if ((Index-1) == i)	
		info = array[i];
}
var usb_size = '<%ej_get_usb_size(fs)%>';

var usb_info = info + ' ' + (usb_size + ' free');


var ftpMaxNum = 5;


var usb_dir = '';
var mount_dir = '';
var full_dir = '';

var dir_path = '<%ej_get_usb_dir(dir_path)%>';

var top_dir ='<%ej_get_usb_dir(fs, level)%>';
var dir_array = top_dir.split('|');
var dir_num = dir_array.length-1; 

var pr = window.opener;

var entrys = usb_dir.split('|');

var entryNum = entrys.length - 1;
var treeCnt = entryNum;
var urlSb = new Array(treeCnt);
urlSb[0] = '/';
for (j = 0; j < entryNum; j++)
{	
	var length = mount_dir.length;
	//var strTmp = entrys[j].substring(length, entrys[j].length);
	urlSb[j+1] = entrys[j].substring(length, entrys[j].length);
	//alert(urlSb[j]);
}

var selIdx = pr.browseIdx + 1;

var selPath = '';

function Enter_Folder(idx)
{
var loc= 'change_path.cmd?';
if (idx != -1)
    if (dir_path != '/')
    loc+='cur_dir_path='+dir_path+'/'+dir_array[idx];
   else
    loc+='cur_dir_path='+dir_path+dir_array[idx];
else
{
	var path_item= dir_path.split("/");
	var new_path = '';
	if (dir_path != '/')
	{
	for(var i=1;i<path_item.length-1;i++)
	{
		new_path = new_path + '/' + path_item[i];
	}
	if (new_path == '')
		new_path = '/';
	}
	else
		new_path = '/';
	loc+='cur_dir_path='+new_path;
}
loc+='&next_page=usb_fsrv_tree.html'
//alert(loc)
	var code = 'location="' + loc + '"';
	//alert(code);
	eval(code);
}

function setSelectPath(idx) {
   if (idx != -1)
   {
	if (dir_path != '/')
    document.tF.curPath.value =dir_path+'/'+dir_array[idx];
   else
    document.tF.curPath.value =dir_path+dir_array[idx];
   }
   else
   {
     document.tF.curPath.value =dir_path;
   }
	/*
	if (isManual) {
		document.tF.curPath.readonly = false;
		document.tF.curPath.disabled = false;
		document.tF.curPath.focus();
	}
	*/
	//alert(selPath);
}

function setReadOnly() {
	document.tF.curPath.readonly = true;
	document.tF.curPath.disabled = true;
}

//var rootName = 'Disk : ' + usb_ms_drive_Info + ', ' + usb_info;
var diskMenu = [  full_dir ];

function closePOPUP() {
	// check share name empty, to make sure is need disable resource share
	if (isBlank(selPath)) {
		//pr.shEnable[selIdx]	= 0;
		//pr.disableShare(volID, selIdx - 1);
	}

	parent.close();
}

function applyPOPUP() {
//	alert ("selIdx: " + selIdx);
//alert(usb_dir);
    with ( document.forms[0] ) {
		sharePath.value = curPath.value;
	}
	parent.close();
}

function showAllHandle() {
	if (treeCnt == 0) return;
	ctExpandTree('disk',20);
}

function hideAllHandle() {
	ctCollapseTree('disk', 1);
}

Breite = screen.width;
Hoehe =	 screen.height;
Sprungpunkt_x = (Hoehe-500) / 2;
Sprungpunkt_y = (Breite-508) / 2;
moveTo(Sprungpunkt_y,Sprungpunkt_x);
 //done hiding -->
</SCRIPT>
<link rel="stylesheet" type="text/css" media="screen" href="wftp.css">
</HEAD>
<BODY>
<BLOCKQUOTE>
<!--
<SCRIPT language=JavaScript>
TabHeader="Setup";
SideItem="USB Setup";
HelpItem="usb";
</SCRIPT>

<SCRIPT type=text/javascript>
mainTableStart();	
logo();
TopNav();
ThirdRowStart();
Write_Item_Images();
mainBodyStart();
</SCRIPT>
-->
  <FORM name="tF">
  <input type="hidden" name="isPrinter">
<input type="hidden" name="unplug" value=0>
<input type="hidden" name="mountflag" value=0>
<input type="hidden" name="volID">
<input type="hidden" name="volType">
  <TABLE id=box_header cellSpacing=0 border=0>
    <TBODY>
    <TR>
      <TD class=topheader>USB setup</TD></TR>
    <TR>
      <TD class=content>
        <P>
		This IAD supports the USB Host controller function. You can enable this function and plug-in your USB device to share it with other people over your LAN network.
<!--    <p> The supported USB devices include:
			<br><br>
			USB mass storage: hard disk, flash disk or single slot card reader, up to 1 device.<br>
			USB-Hub: up to 1 device.<br>

			<br><br>
			After you plug-in the USB device into this IAD. You may click "Update Status" to see the device information in the "Current USB Device Status" table.
			Three different file system formats are supported: FAT12, FAT16 and FAT32, and up to 4 partitions could be activated at the same time. For your convenience, the  IAD will activate the first 4 partitions automatically when you plug-in an USB storage device. If you have more than 4 partitions in your storage device, you could "Deactivate" some unused partitions and "Activate" other partitions that you would like to use. Please activate the partitions before you configure the "File Server", "FTP Server" and "Web FTP Server".</p>-->
		</P>
		</TD></TR></TBODY></TABLE>
  <TABLE id=body_header cellSpacing=0 border=0>
    <TBODY>
    <TR>
      <TD class=topheader>USB Interface</TD></TR>
    <TR>
     <TD class=content>
            <p class=normalText>
			File Server /
			<SCRIPT language="javascript">
			<!--
			    
			/*	var part_Num =  '<%ejGet(partitions)%>';
				var drive_Info = '<%ejGet(fstype)%>';

				var usb_size = '<%ej_get_usb_size(size)%>';
				if (drive_Info == 'vfat')
					drive_Info = 'FAT32';
				var usb_info = drive_Info + ' ' + (usb_size + ' free');*/
				document.write(' Partition ' + Index + ' / Browse&nbsp;&nbsp;');
				document.write(usb_info);
			//-->
			</script>
            </p>
	 </td>
	</tr>
	<tr>
		<td>
			<table border="0" cellpadding="0" cellspacing="2">
				<tr>
					<td>
					<script type=text/javascript>
					//document.write("<tr><td>Back to the upper directoty: <a href=\"#\" onclick=\"Enter_Folder(-1)\">"+dir_path+"</a></td></tr>\n");
					</script>
						<table border="0" width=100% cellspacing="0" cellpadding="0" bgcolor=#ffffff >
						<!--<table class=formlisting> -->
						<!--<tr>
							<td class=pane vAlign=top>
								<div id=disk></div>
							</td>
						</tr>-->
					      
						<script type=text/javascript>
						document.write("<tr ><td align=right></td>\n");
						document.write("<td align=left width=150><img src=\"/images/folderb.gif\"></img><a href=\"#\" onclick=\"Enter_Folder(-1)\">Parent Directory</a></td></tr>\n");
						for (i=0; i <dir_num; i++)
						{
						    document.write("<tr >\n");
						    document.write("<td   align=right><INPUT  onclick=setSelectPath("+i+") type=radio name=Select_dir></td>\n");
						    document.write("<td   align=left width=150><img src=\"/images/folder1.gif\"></img><a href=\"#\" onclick=\"Enter_Folder("+i+")\">"+dir_array[i]+"</a></td>\n");
						    document.write("</tr>\n");
						}
						/*
							ctDraw('disk', diskMenu, ctThemeXP1, 'ThemeXP', 0, 0);
							ctExpandTree('disk',1);*/
								
						</script>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>		
	<tr>
		<td class=normalText>Directory:
			<input type="text" name="curPath" size="47" maxlength="78" onBlur="setReadOnly();" Disabled>
		</td>
		<script type=text/javascript>
			document.tF.curPath.value =dir_path;		
		</script>
	</tr>
	<tr>
		<td>

				<!--<P align=center><a href="javascript:document.forms[0].submit()" onClick="return evaltF();" class="button87b"><input type="button" class="formsbutton" name="savesetting" value="SAVE SETTINGS"></a>-->
				<!---<td><a href=''><input type="button" class="formsbutton" name="cancelb" value="CANCEL" onClick='btnCancel()'></P>-->
    <!--    <P align=center><INPUT onclick=atmcfg() type=button value="ATM Interface"></P>-->
		</TD></TR></TBODY></TABLE>
  <!--<TABLE id=body_header cellSpacing=0 border=0>
    <TBODY>
    <TR>
      <TD class=topheader>ETH interface</TD></TR>
    <TR>
      <TD class=content>
        <P>use ETH to configure you wan interface.</P>

          <P align=center><INPUT onclick=ethcfg() type=button value="ETH Interface"></P>
		  
         </TD></TR></TBODY></TABLE>-->
				<P align=center><INPUT onclick='applyPOPUP()' type=button class="formsbutton"  name="savesetting" value="SAVE SETTINGS">
				<INPUT onclick='closePOPUP()' type=button class="formsbutton"  name="cancelb" value="CANCEL"></P>		 
</FORM>
<!--
 <SCRIPT type=text/javascript>
mainBodyEnd();
ThirdRowEnd();
Footer()
mainTableEnd()
</SCRIPT>
-->
</BLOCKQUOTE></BODY></HTML>
