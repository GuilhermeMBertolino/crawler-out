<html><head>
<link rel=stylesheet href='stylemain.css' type='text/css'>
<meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
<script language="javascript" src="util.js"></script>
<script language="javascript" src="menu.js"></script>
<script language='javascript'>
<!-- hide

var enbl = '<%ejGetWl(wlEnbl)%>';
var wme='<%ejGetWl(wlWme)%>';
var wmenoack='<%ejGetWl(wlWmeNoAck)%>';
var wmeapsd= '<%ejGetWl(wlWmeApsd)%>';

var afterburneren = '<%ejGetWl(wlAfterBurnerEn)%>';
var nmode = '<%ejGetWl(wlNmode)%>'; 
var phy = '<%ejGetWl(wlPhyType)%>';
//frank,060731
var entrycnt= '1';
var maxentry= '32';

   var clsname;
function onlyone(rml){
   var i;
  var hasChecked = false;
   var checkedCount = 0 ;
   with ( document.forms[0] ) {
      if (rml) {
         if (rml.length > 0){
	   for (i = 0; i < rml.length; i++){
      	      if(rml[i].checked == true){
	         checkedCount++;
		hasChecked = true;
		clsname=rml[i].id;
	      }
	   }

            if (checkedCount > 1){
               alert ("Please select only one item!");
               return false;
            }
         } else if (rml.checked == true){
	   hasChecked = true;
   	   checkedCount++;
	   clsname=rml.id;
	   }
      }
      if (!hasChecked) {
         alert ("Please select an item!");
         return false;
      }
   }
   return true;
}
function addClick() {
   var loc = 'wlqos.cmd?action=preadd';
   
   if ( enbl == '0' ) {
	   alert('Cannot apply the change since wireless is currently disabled.');
	    return;
     }
   
   loc += '&wlWme=' + wme;
   //loc += '&wlWmeNoAck=' + wmenoack;
   //loc += '&wlWmeApsd=' + wmeapsd;
   var code = 'location="' + loc + '"';
   eval(code);
}

function editClick(rml) {

   if ( enbl == '0' ) {
	   alert('Cannot apply the change since wireless is currently disabled.');
	    return;
     }
   
   var flag=onlyone(rml);
   if (flag == false) return;
   var loc = 'wlqos.cmd?action=preedit&clsName=' + clsname;
   loc += '&wlWme=' + wme;
   //loc += '&wlWmeNoAck=' + wmenoack;
   //loc += '&wlWmeApsd=' + wmeapsd;
   var code = 'location="' + loc + '"';
   eval(code);
}

function removeClick(rml) {
	
    if ( enbl == '0' ) {
	   alert('Cannot apply the change since wireless is currently disabled.');
	    return;
     }
	
   var flag=onlyone(rml);
   if (flag == false) return;
   var loc = 'wlqos.cmd?action=remove&clsName=' + clsname;

   var code = 'location="' + loc + '"';
   eval(code);
}

function wmeChange() {
   with ( document.forms[0] ) {

	/* 20081217, Lily,modify for bug 4484 for grap wme option and add wmeapsd option , mark: 12171859*/ 

	//if(afterburneren != "off")
      //   setSelect(wlWme, 0);
                  
      //setDisable(wlWmeNoAck, getSelect(wlWme) != 1);
      //setDisable(wlWme, (phy == "n" && nmode != "off"));
      //showhide("WMMWarning", (phy == "n" && nmode != "off")); 
      
      //showhide("divqos", getSelect(wlWme));



      //setDisable(wlWmeNoAck, getSelect(wlWme) == 0);//20110221, WIND remove the QOS
      //setDisable(wlWmeApsd, getSelect(wlWme) == 0);  //20110221, WIND remove the QOS
      if (getSelect(wlWme) == '0')
     {
         //qosbutton.disabled = true;
	  //divqos.disabled = true;//20110221, WIND remove the QOS
	  //editwlqos.disabled = true;
	  //removewlqos.disabled = true; 			 
      }
      else 
     {
	  	//frank,060731
	  if(entrycnt >= maxentry)
	  {
            // qosbutton.disabled = true;
	      //divqos.disabled = true;
	  } 
        else
	  {
              //qosbutton.disabled = false;
		//divqos.disabled = false;//20110221, WIND remove the QOS
	       //editwlqos.disabled = false;
		//removewlqos.disabled = false;
	  }
     }
/* 20081217, Lily, end---------------------------------- mark: 12171859*/
   }
}

function frmLoad() {
   with ( document.forms[0] ) {
      setSelect(wlWme, wme);
      setSelect(wlWmeNoAck, wmenoack);
      setSelect(wlWmeApsd, wmeapsd);
   }
   wmeChange();
  
 //   if ( enbl == '0' ) 
	//	{
//		rml.disabled=true;
   // 	}
 
}

function btnApply() {
   var loc = 'wlqos.cmd?action=wmeapply';
   var idx;

   if ( enbl == '0' ) {
      alert('Cannot apply the change since wireless is currently disabled.');
      return;
   }
   
   with ( document.forms[0] ) {
      loc += '&wlWme=' + parseInt(wlWme.value,10);
      loc += '&wlWmeNoAck=' + parseInt(wlWmeNoAck.value,10);
      loc += '&wlWmeApsd=' + parseInt(wlWmeApsd.value,10);
   }

   var code = 'location="' + loc + '"';
   eval(code);
}

// done hiding -->
</script>
<!--    <script language="JavaScript" src="menu.html"></script> -->
   </head>
<body onLoad='frmLoad()'>
      <blockquote>
<script language="JavaScript">
TabHeader="Advanced";
SideItem="Advanced Wireless";
HelpItem="wlqos";
</script> 
<script type='text/javascript'>
	mainTableStart();	
	logo();
	TopNav();
	ThirdRowStart();
	Write_Item_Images();
	mainBodyStart();
</script>
<form>
	<table id=box_header width="690" border=0 cellSpacing=0>
		<tr>
			<td class=topheader>
				Wireless -- QoS
			</td>										
		</tr>
		<tr>
			<td class=content>
				<p>
				This page lets you add, remove, enable and disable wireless QoS.</p>
			</td>
		</tr>
	</table>
	<table id=body_header width="690" border=0 cellSpacing=0>
		<tr>
			<td class=topheader>
				WMM(Wi-Fi Multimedia) Settings
			</td>										
		</tr>
		<tr>
			<td class=content>

<br>
<table border="0" cellpadding="0" cellspacing="0">    			
	<tr> 
		<td width="260">WMM(Wi-Fi Multimedia):</td>
			<td><select name='wlWme' size="1" onchange="wmeChange()" class="changefont">
		  	<option value="0">Disabled</option>
		  	<option value="1">Enabled</option>
		  	</select>
		</td> 
		<td>
			<div id="WMMWarning">
			 
			</div>
		</td>	
	</tr>		
	<tr> 
	    <td>WMM No Acknowledgement:</td>
		    <td><select name='wlWmeNoAck' size="1" class="changefont">
			<option value="0">Disabled</option>
			<option value="1">Enabled</option>
			</select></td> 
	</tr>
	<tr>
                     <td width="180">WMM APSD:</td>
		             <td><select name='wlWmeApsd' size="1" class="changefont">
			         <option value="0">Disabled</option>
			         <option value="1">Enabled</option>
			         </select></td> 
                  </tr>
</table>

                
     
     
<br>

	</td>
	</tr>
</table>
<BR>
<!--
<div id="divqos" >
	<table id=body_header width="690" border=0 cellSpacing=0>
		<tr>
			<td class=topheader>
				Wireless Qos Classes
			</td>										
		</tr>
		<tr>
			<td class=content>
<center>
<div class=overflow>
<table class=formlisting>
    <tr class=form_label_row>
           <td class='form_label_col' colspan='1' rowspan='2'>&nbsp;</td>
      <td class='form_label_col' rowspan='2'>Class Name</td>
      <td class='form_label_col' rowspan='2'>Priority</td>
      <td class='form_label_col' colspan='5'><center>TRAFFIC CLASSIFICATION RULES</center></td>-->
  <!-- <td class='form_label_col' colspan='1' rowspan='2'>&nbsp;</td> -->
  <!--   </tr>
    <tr class=form_label_row>
      <td class='form_label_col'>Protocol</td>
      <td class='form_label_col'>Source Addr./Mask</td>
      <td class='form_label_col'>Source Port</td>
      <td class='form_label_col'>Dest. Addr./Mask</td>
      <td class='form_label_col'>Dest. Port</td>
   </tr>
         <%ejGetWl(wlQosTbl)%>
</table><br>
<br>
</div>
      		</td>
		</tr>
	</table>
</div>-->
				<p align=center>
				<!--<input name="qosbutton" type='button' onClick='addClick()' value='Add QoS Entry'> &nbsp&nbsp
				<input name="editwlqos"type='button' id=editScvrt onClick='editClick(this.form.rml)' value='Edit'>
				<input name="removewlqos" type=button class=button_submit value="Remove" onClick='removeClick(this.form.rml)'>
-->
<input type='button' onClick='btnApply()' value='Apply'>
<!--<input type='button' onClick='btnApply()' value='Apply WME Settings'>-->
</p>

</form>


<script type='text/javascript'>
	mainBodyEnd();
	ThirdRowEnd();
	Footer()
	mainTableEnd()
</script>
</blockquote>
</body>
</html>
