"use strict";angular.module("app").controllerProvider.register("ipsecStatsCtrl",["$scope","statsIPsecUtil","devinfo","funcs","ngDialog",function($scope,util,devinfo,funcs,ngDialog){util.subscribeInfo(function(data){$scope.ipsecStats=data,$scope.$emit("pageload")},$scope),$scope.getNameClass=function(item){return item.ParentState?"connected"==item.ParentState?"green":"red":"connected"==item.ConnectionStatus?"green":"red"},$scope.getTransferredData=function(sent,received){return 0==sent&&(sent="-"),0==received&&(received="-"),received+" / "+sent},$scope.showDetails=function(item){devinfo.suspend();var dlg=ngDialog.open({template:"/admin/dialogs/stats/ipsec_stat_details/dialog.tpl.html",controller:"ipsecStatDetailsCtrl",className:"ipsec-stats-dialog-width",resolve:funcs.getLazyResolve("/admin/dialogs/stats/ipsec_stat_details/ctrl.lazy.js","ipsecStatDetailsCtrl"),data:{header:item.Name||item.IndentValue,model:item},scope:$scope});dlg.closePromise.then(function(){devinfo.resume()})}}]);