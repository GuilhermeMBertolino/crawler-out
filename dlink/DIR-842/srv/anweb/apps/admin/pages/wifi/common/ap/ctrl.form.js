"use strict";!function(){angular.module("app").controller("WifiAPForm",["$scope","navigationFilter","$state","device","wifiCommonShared",function($scope,navigationFilter,$state,device,shared){function isFormInvalid(){return $scope.form.$invalid}var rules=navigationFilter.rules(),action=$state.current.name.split(".").pop(),freq=$state.params.freq,inx=$state.params.inx;$scope.wifi={isActivate:!1,isWDSInBridgeMode:!1,apProfilesList:null,apply:function(){isFormInvalid()||shared.apply({action:"ap",freq:freq})},wasModified:function(){var _$scope$wifi$ap;return $scope.wifi.isActivate&&(null===(_$scope$wifi$ap=$scope.wifi.ap)||void 0===_$scope$wifi$ap?void 0:_$scope$wifi$ap.isChange())},isAdd:function(){return"add"===action},band:{list:[],translateBand:shared.translateBand}},function(){$scope.loading=!0,shared.activate().then(function(){var rootData=device.wifi.getRootData();$scope.wifi.apProfilesList=rootData.Device.WiFi.apProfilesList,$scope.wifi.isEasyMeshAgent="Agent"==rootData.Device.EasyMeshMode,$scope.wifi.isEasyMeshController="Controller"==rootData.Device.EasyMeshMode,$scope.wifi.band.list=device.wifi.getBandList(),$scope.loading=!1,device.wifi.setBandFreq(freq),$scope.wifi.isActivate=!0;var wds=device.wifi.getWDSData();$scope.wifi.isWDSInBridgeMode=wds&&"Bridge"==wds.Mode,$scope.customRules=_.isFunction(rules.GetRulesForSSID)?rules.GetRulesForSSID(inx,$scope.wifi.ap):rules,$scope.$emit("pageload")})}()}])}();