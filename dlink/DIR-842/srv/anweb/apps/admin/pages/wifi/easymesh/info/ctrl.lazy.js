"use strict";!function(){angular.module("app").controllerProvider.register("wifiEasymeshInfoCtrl",["$scope","$state","funcs","wifiEasyMeshUtil","translate",function($scope,$state,funcs,util,translate){function activate(){var statData=util.getStatData();easymesh.data=funcs.fetchBranch(statData,"Device.Statistics.EasyMesh.Topology.".concat(key,".")),easymesh.isActivate=!0,$scope.$emit("pageload"),overlay.stop(),util.subscribe(function(stats){var macAddress=easymesh.data.MACAddress,data=key&&funcs.fetchBranch(stats,"Device.Statistics.EasyMesh.Topology.".concat(key,"."));if(data&&data.MACAddress==macAddress)easymesh.data=data;else{var topology=funcs.newConfig.normalize(funcs.fetchBranch(stats,"Device.Statistics.EasyMesh.Topology."));key=Object.keys(topology).find(function(k){return topology[k].MACAddress==macAddress}),easymesh.data=key&&topology[key]||{MACAddress:macAddress}}},$scope)}function isWLAN(band){return["2G","5G"].includes(band)}var overlay=$scope.overlay.circular,key=$state.params.key,easymesh={data:null,isActivate:!1,getBand:function(band){return"2G"==band?translate("24ghz"):"5G"==band?translate("5ghz"):"-"},isWLAN:isWLAN,getInterface:function(band){return isWLAN(band)?"WLAN":"ETH"==band?"LAN":band},getNeighbourDevices:function(){return funcs.newConfig.normalize(easymesh.data.NeighbourDevices)},showNeighbourDevices:function(){return easymesh.data.NeighbourDevices&&Object.keys(easymesh.data.NeighbourDevices).length>1},getMiniCaption:function(item){return item.Name},getMiniShort:function(item){return item.MACAddress},getMiniInfo:function(item){return item.SignalStrength+"%"},getImgSignal:function(signal){var value=parseInt(signal/20);return value||(value="0"),5==value&&(value=4),value?"wifi_"+value+" ":""}};$scope.easymesh=easymesh,util.wasPulled()&&key?activate():$state.go("^.settings")}])}();