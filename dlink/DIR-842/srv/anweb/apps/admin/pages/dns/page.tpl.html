<html><head></head><body><div ng-show="safeDNSWarning" class="card" alert="info">{{ safeDnsWarNotice | translate }}</div><div ng-show="YDNSWarning" class="card" alert="info">{{ YDnsWarNotice | translate }}</div><div class="main-card"><form nw-form unsaved-warning-form unsaved-backup-status="{{!wasModified()}}" ng-submit="save()" name="dnsForm" class="dns_form" ng-show="!safeDNSWarning && !YDNSWarning && dns"><div class="card-content"><div class="row-grid bottom-space"><div class="col-md-12"><div class="card-title" ng-bind="'dns_nav' | translate"></div><div class="card-desc" ng-bind="'dns_nav_desc_dsysinit' | translate" ng-if="!isAPMode"></div><div class="card-desc" ng-bind="'dns_nav_desc_dsysinit_ap' | translate" ng-if="isAPMode"></div></div></div><div class="row-grid {{(!rules.DnsHideStaticHost && supported(dns, 'Hosts')) ? 'bottom-space' : ''}}"><div ng-class="{'break_avoid': availIPv6}" ng-repeat="(protocol, protocolData) in protocols"><div ng-class="{'col-md-6 block-left': (availIPv6 && protocol != 'V6'), 'col-md-6 block-right': (availIPv6 && protocol == 'V6')}"><div ng-class="{'col-md-6 block-left': !availIPv6}" ng-if="!isAPMode"><div class="row-grid bottom-space"><div class="card-subtitle">{{ protocol == 'V4'? 'IPv4' : 'IPv6'}}</div><div nw-labeled-switch nw-label="manual" nw-model="dns[protocol].Manual" nw-disabled="customRules.DisableDNSManual"></div><div nw-labeled-switch nw-label="defgw" nw-model="dns[protocol].Defroute" ng-if="availDefroute" ng-hide="dns[protocol].Manual" nw-disabled="customRules.DisableDNSDefroute"></div><div nw-field nw-label="interface" nw-disabled="dns[protocol].Manual || dns[protocol].Defroute || customRules.DisableDNSInterface" ng-if="isAvailableIfaces(protocol) || dns[protocol].Defroute"><select ng-model="dns[protocol].Ifname" ng-options="iface as data.Name for (iface, data) in ifaces[protocol]"><option style="display:none" value>{{'dns_no_ifaces_avail_short_option' | translate}}</option></select></div><div nw-field ng-if="!isAvailableIfaces(protocol) && !dns[protocol].Defroute && !dns[protocol].Manual"><div alert="info">{{ {lang: 'dns_no_ifaces_avail', name: protocol == 'V4'? 'IPv4 DNS': 'IPv6 DNS', abr: 'name'} | translate }}</div></div></div></div></div></div><div class="row-grid bottom-space" ng-if="((!autoconf.BR2_PACKAGE_ANWEB_DSYSINIT && (dns['V4'].Manual || dns['V6'].Manual || isAPMode)) || (autoconf.BR2_PACKAGE_ANWEB_DSYSINIT && (hasManual(dns['V4']) || hasManual(dns['V6']))))"><div class="row-grid bottom-space"><div class="col-md-12"><div class="card-subtitle" ng-bind="'dns_name_servers_title' | translate"></div><div class="card-desc" ng-bind="'dns_name_servers_desc' | translate"></div></div></div><div ng-class="{'break_avoid': availIPv6}" ng-repeat="(protocol, protocolData) in protocols"><div ng-class="{'col-md-6 block-left': (availIPv6 && protocol != 'V6'), 'col-md-6 block-right': (availIPv6 && protocol == 'V6')}"><div ng-class="{'col-md-6 block-right': !availIPv6}" ng-if="autoconf.BR2_PACKAGE_ANWEB_DSYSINIT && hasManual(dns[protocol])"><div class="card-subtitle">{{ protocol == 'V4'? 'IPv4' : 'IPv6'}}</div><div class="changing_list"><div class="input_with_action" ng-repeat="(inx, server) in dns[protocol].Servers"><div nw-field nw-disabled="!dns[protocol].Manual || customRules.DisableEditDNS" nw-required><input ng-model="dns[protocol].Servers[inx].IPAddress" nw-type="{{protocolData.name}}" ng-attr-placeholder="{{'dns_example' | translate}}: {{protocolData.example}}" nw-set-focus="{{dns[protocol].focus == true}}" nw-custom-valid="checkDnsServer(addr, inx, protocol, 'Servers')"></div><div svg-icon="delete_icon" class="input_action" ng-if="dns[protocol].Manual && !customRules.DisableEditDNS" ng-click="removeServer(protocol, inx, 'Servers')"></div></div><div class="button_block right"><input type="button" ng-click="add(protocol, 'Servers')" value="{{'act_add_server' | translate}}" class="colored flat" ng-disabled="!dns[protocol].Manual || isDisabledButtonAdd() || customRules.DisableEditDNS"></div></div></div></div></div></div><div class="row-grid" ng-if="supported(dns['V4'], 'After') || supported(dns['V6'], 'After')"><div class="row-grid bottom-space"><div class="col-md-12"><div class="card-subtitle" ng-bind="'dns_reserv_servers_title' | translate"></div><div class="card-desc" ng-bind="'dns_reserv_servers_desc' | translate" ng-if="!isAPMode"></div><div class="card-desc" ng-bind="'dns_reserv_servers_desc_ap' | translate" ng-if="isAPMode && !autoconf.BR2_PACKAGE_ANWEB_HQ_ADMIN_APP"></div><div class="card-desc" ng-bind="'dns_reserv_servers_desc_ap_ww' | translate" ng-if="isAPMode && autoconf.BR2_PACKAGE_ANWEB_HQ_ADMIN_APP"></div></div></div><div ng-class="{'break_avoid': availIPv6}" ng-repeat="(protocol, protocolData) in protocols"><div ng-class="{'col-md-6 block-left': (availIPv6 && protocol != 'V6'), 'col-md-6 block-right': (availIPv6 && protocol == 'V6')}"><div ng-class="{'col-md-6 block-right': (!availIPv6  && !(dns[protocol].Manual || isAPMode)), 'col-md-6 block-left': (!availIPv6 && (dns[protocol].Manual || isAPMode))}"><div class="row-grid" ng-if="supported(dns[protocol], 'After')"><div class="card-subtitle">{{ protocol == 'V4'? 'IPv4' : 'IPv6'}}</div><div class="changing_list"><div class="input_with_action" ng-repeat="(inx, server) in dns[protocol].After"><div nw-field><input ng-model="dns[protocol].After[inx].IPAddress" nw-type="{{protocolData.name}}" ng-attr-placeholder="{{'dns_example' | translate}}: {{protocolData.example}}" nw-set-focus="{{dns[protocol].focus == true}}" nw-custom-valid="checkDnsServer(addr, inx, protocol, 'After')"></div><div svg-icon="delete_icon" class="input_action" ng-click="removeServer(protocol, inx, 'After')"></div></div><div class="button_block right"><input type="button" ng-click="add(protocol, 'After')" value="{{'act_add_server' | translate}}" class="colored flat" ng-disabled="isDisabledButtonAdd()"></div></div></div></div></div></div></div></div><div class="row-grid" ng-if="!rules.DnsHideStaticHost && supported(dns, 'Hosts')"><div class="col-md-12"><div class="table" nw-table nw-table-empty-status="hosts.isEmpty()" nw-table-empty-title="dns_hosts_list" nw-table-empty-desc="dns_empty_state_msg" nw-table-empty-button="act_add" nw-table-empty-button-click="hosts.add()" nw-table-title="dns_hosts_list" nw-table-on-add="hosts.add()" nw-table-on-add-hide="customRules.HideDNSAdd" nw-table-on-delete="hosts.remove(items, keys)" nw-table-on-edit="hosts.edit(item, key)" nw-table-selected><table><thead><tr><th ng-bind="'dns_hosts_ip' | translate"></th><th ng-bind="'dns_hosts_name' | translate"></th></tr></thead><tbody><tr ng-repeat="(inx, item) in dns.Hosts track by inx" nw-mini-table nw-mini-table-caption="item.hostname | punycode" nw-mini-table-details="item.ip"><td ng-bind="item.ip"></td><td class="break" ng-bind="item.hostname | punycode"></td></tr></tbody></table></div></div></div></div><div class="card-action"><button type="submit" class="colored" ng-disabled="!wasModified()">{{'act_apply' | translate}}</button></div></form></div></body></html>