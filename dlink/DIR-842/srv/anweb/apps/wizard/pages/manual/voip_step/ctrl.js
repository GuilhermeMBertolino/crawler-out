"use strict";function VoIPStepController($scope,$rootScope,manualProfile,translate){var freeLanPorts,lanPorts,profile=manualProfile.profile();$scope.noFreeLans=!1,profile.$Groups&&profile.$Groups.lan&&(freeLanPorts=[],lanPorts=$rootScope.rootLANPorts,_.each(lanPorts,function(port){port.management||freeLanPorts.push(port.name)}),0==freeLanPorts.length&&($scope.noFreeLans=!0)),$scope.voipStep={isHide:function(field){switch(field){case"UseVID":case"Use":case"VPIVCI":return void 0}},profile:profile,onVoipUseChange:function(){profile.$VoIPStep.Use||manualProfile.clearServices("voip")},checkVLAN:function(){var warn=manualProfile.checkJointVLAN("$VoIPStep");return warn&&"dcc_joint_vlan"!=warn?warn:null},requiredVID:function(){return manualProfile.requiredVID()},setVOIPService:function(port){var warn=manualProfile.setService(port,"voip");warn&&_.defer(function(){return alert(translate(warn))})},checkJointVPIVCI:function(){var warn=manualProfile.checkJointVPIVCI("$VoIPStep");warn&&_.defer(function(){return alert(translate(warn))})}}}angular.module("wizard").controller("VoIPStepController",VoIPStepController),VoIPStepController.$inject=["$scope","$rootScope","manualProfile","translate"];