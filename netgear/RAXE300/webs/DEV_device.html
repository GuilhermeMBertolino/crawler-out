<!DOCTYPE HTML>
<? include 'php/commonCfg.php';?>
<? include 'php/accessControl.php';?>
<? include_once 'php/qos.php';?>
<html>
<head>
  <META charset="UTF-8">
  <META http-equiv="Pragma" content="no-cache">
  <META HTTP-equiv="Cache-Control" content="no-cache">
  <META HTTP-EQUIV="Expires" CONTENT="Mon, 06 Jan 1990 00:00:01 GMT">
  
  <title>NETGEAR Router <?= getModelNameStr()?></title>



  <script src="js/jquery.min.js"></script>
  <script src="js/jquery.jscrollpane.min.js"></script>
  <script src="js/jquery.mousewheel.js"></script>

  <script src="js/utils.js<? getVer(); ?>"></script>
  <script src="js/embedProgressBar.js"></script>

  <link rel="stylesheet" href="css/button.css">
  <link rel="stylesheet" href="css/settings.css<? getVer(); ?>">
  <link rel="stylesheet" href="css/scrollbar.css">
  <link href="css/custom.css" rel="stylesheet" type="text/css">

  <style>
    .devinfo {
      position: relative;
      display: inline;
      /*border-bottom: 1px dotted black;*/
    }

    .devinfo .devinfotext {
      visibility: hidden;
      width: 260px;
      background-color: white;
      color: black;
      text-align: center;
      border: 1px solid black;
      padding: 5px 0;
      /* Position the devinfotext */
      position: absolute;
      top : 20px;
      left : 20px;
      z-index: 1;
    }

    .devinfo:hover .devinfotext {
      visibility: visible;
    }
  </style>

  <script language="javascript" type="text/javascript">
  CSRF_TOKEN = <?= genCsrfTokenFilePhp('tokenNumber')?>;

  var connTypeOrder = {"genie_184":1,"MAD032":2,"MAD033":3,"MAD034":4,"MAD035":5,"WL6G_002":6,"WL6G_003":7};
  var priorityOrer = {0:"AQS032", 1:"AQS031", 2:"MAD012", 3:"AQS034"};
  var qosEnable = "<?= getQosState() ?>";
  var appA =new Array;
  var qosDevTimeout
  var appDevTimeout;
  var selectedMac = "";
  var qosDevUpdate = true;
  
  function showLoading()
  {
      window.top.waitLoading();  
  }

  function adjustDevTable()
  {
      checkAccessControl();
      sortDevTable();
  }
  
  function adjustQosDevTable()
  {
      checkAccessControl();
      sortDevTable();

      //fetch qos_dev_table may update table after click show_dev_qos()
      //We need update the qosDev_table again in this function
      if (qosDevUpdate == false) {
          $(".firstCol" ).hide();
          $("[name='qosDev_table']  tr").not(":first").each(function(){
              if($(this).find("input[name='qos_hidden_mac']").val() != selectedMac)
              {
                  $(this).hide();
              }
          });
      }

      //clear the time ID before setTimeout
      if (qosDevTimeout) {
        clearTimeout(qosDevTimeout);
      }
      qosDevTimeout = setTimeout(updateQosDevTable, 10000);
  }

  function sortDevTable()
  {
      $("[name='attachedDev_table']  tbody > tr").not(":first").sort(function(a, b){
          return (connTypeOrder[$("span[mlang]", a).eq(1).attr("mlang")] < connTypeOrder[$("span[mlang]", b).eq(1).attr("mlang")]) ? -1 : 1;
      }).appendTo($("[name='attachedDev_table'] tbody"));
      $("[name='attachedDev_table'] tbody > tr").not(":first").each(function(i){
          $(this).find("span:eq(1)").text(i+1);
      });
  }

  function checkAccessControl()
  {
      var accessControlEnable = "<?= getAcceccControlEnable() ?>";
      var circleActivationStatus = "<?= getCircleActivationStatus() ?>";
      if(accessControlEnable == "false" || circleActivationStatus == "provisioned")
      {
          $("[name='show_status']").hide();
      }
      else
      {
          $("[name='index_num']").hide();   
      }
  }

  function removeQoSDevTable()
  {
      $("[name='qos_dev_row']").remove();
  }

  function removeAppDevTable()
  {
      $("[name='app_dev_row']").remove();
  }

  function show_dev_qos(selectMAC)
  {
      selectedMac = selectMAC;
      $(".firstCol" ).hide();
      $("[name='qosDev_table']  tr").not(":first").each(function(){
          if($(this).find("input[name='qos_hidden_mac']").val() != selectMAC)
          {
              $(this).hide();
          }
      });
      clearTimeout(qosDevTimeout);
      qosDevUpdate = false;
      showLoading();
      updateAppDevTable();
      $("[name='appDev_table']").show();
      $("[name='vpnDev_table']").hide();
      $("[name='vpnDev_lable']").hide();
      $("button[name='back']").show();
      $("button[name='edit']").hide();
  }

  function adjustAppDevTable()
  {
      /*$("[name='appDev_table'] span[name='appSpan']").each(function(e,v){
          if(appA[$(this).text()] == undefined)
            $(this).text("Unknown");
          else
            $(this).text(appA[$(this).text()]);
      });*/
      
      $("[name='appDev_table']  tr").not(":first").each(function(){
          if($(this).find("input[name='app_hidden_mac']").val() != selectedMac)
          {
              $(this).hide();
          }
      });
      var app_down_sum = 0;
      var app_up_sum = 0;
      $("#app_device_table tr:visible").not(":first").each(function(){
          app_down_sum += parseFloat($(this).find("[name='qos_app_down_rate']").text());
          app_up_sum += parseFloat($(this).find("[name='qos_app_up_rate']").text());
      });
      $("#qos_device_table tr:visible").not(":first").find("[name='qos_dev_down_rate']").text(parseFloat(app_down_sum).toFixed(2));
      $("#qos_device_table tr:visible").not(":first").find("[name='qos_dev_up_rate']").text(parseFloat(app_up_sum).toFixed(2));

      //clear the time ID before setTimeout
      if (appDevTimeout) {
        clearTimeout(appDevTimeout);
      }
      appDevTimeout = setTimeout(updateAppDevTable, 10000);
  }

  function updateAppDevTable()
  {
      var new_tr ='<tr name="app_dev_row">\r\n\
        <td align="center" name="app_name">\r\n\
          <span class="clickMe" name="appSpan">__appName</span>\r\n\
          <input type="hidden" value="__mac" name="app_hidden_mac"/>\r\n\
        </td>\r\n\
        <td align="center">\r\n\
          <span class="clickMe" name="qos_app_down_rate">__appDownSpeed</span><span class="clickMe" mlang="AQS035">Mbps</span>\r\n\
        </td>\r\n\
        <td align="center">\r\n\
          <span class="clickMe" name="qos_app_up_rate">__appUpSpeed</span><span class="clickMe" mlang="AQS035">Mbps</span>\r\n\
        </td>\r\n\
        </tr>';

      //Update the app device table when qosDevUpdate is false
      if (qosDevUpdate == false) {
          fetchTableData('app_device_table', 'qosAppDevTable', new_tr, 'removeAppDevTable', 'adjustAppDevTable');
      }
  }

  function updateQosDevTable()
  {
      var new_tr ='<tr name="qos_dev_row">\r\n\
        <td align="center" class="firstCol">\r\n\
          <label class="checkbox-container\">\r\n\
            <input name="check_dev" id="checkbox_index__index" type="checkbox" value="_" onclick="handle_checkboxElements(this, \'__mac\', \'__ip\', \'__escapedModel\', \'__escapedName\', \'__devIcon\', \'__priority\');">\r\n\
            <span class="checkbox-checkmark"></span>\r\n\
          </label>\r\n\
        </td>\r\n\
        <td align="center" name="dev_priority">\r\n\
          <span class="clickMe" mlang="__priorityStr">__priority</span>\r\n\
          <input type="hidden" value="__mac" name="qos_hidden_mac"/>\r\n\
        </td>\r\n\
        <td align="center">\r\n\
          <span class="clickMe" mlang="__conType"></span>\r\n\
        </td>\r\n\
        <td align="center">\r\n\
          <span class=\"clickMe\">\r\n\
            <div width="100%" style="display: table-row;">\r\n\
                <div class="devinfo" style="height:100%;cursor: pointer; width: 20%;display: table-cell;vertical-align:middle;" onclick="show_dev_qos(\'__mac\');">\r\n\
                  <img width=40px height=40px src="/images/streamboost/__img.png">\r\n\
                  <span class="devinfotext">\r\n\
                    <div><span mlang="MRS015">MAC Address</span>: __mac</div>\r\n\
                    <div><span mlang="ASM015">Device Type</span>: <span mlang="__devType"></span></div>\r\n\
                    <div>__ssid</div>\r\n\
                  </span>\r\n\
                </div>\r\n\
                <div style="height:100%; width: 80%;display: table-cell;" align=\"right\">\r\n\
                  <div width="100%" >\r\n\
                    <div>\r\n\
                      <div style="padding: 0;">\r\n\
                      __name\r\n\
                      </div>\r\n\
                    </div>\r\n\
                    <div>\r\n\
                      <div style="padding: 0;">\r\n\
                        __ip\r\n\
                      </div>\r\n\
                    </div>\r\n\
                  </div>\r\n\
                </div>\r\n\
            </div>\r\n\
          </span>\r\n\
        </td>\r\n\
        <td align="center">\r\n\
          <span class="clickMe" name="qos_dev_down_rate">__downSpeed</span><span class="clickMe" mlang="AQS035">Mbps</span>\r\n\
        </td>\r\n\
        <td align="center">\r\n\
          <span class="clickMe" name="qos_dev_up_rate">__upSpeed</span><span class="clickMe" mlang="AQS035">Mbps</span>\r\n\
        </td>\r\n\
        </tr>';

      //Update the qos device table when qosDevUpdate is true
      if (qosDevUpdate == true) {
          fetchTableData('qos_device_table', 'qosDevTable', new_tr, 'removeQoSDevTable', 'adjustQosDevTable');
      }
  }

  function backDev()
  {
      selectedMac = "";
      clearTimeout(appDevTimeout);
      qosDevUpdate = true;
      updateQosDevTable();
      $(".firstCol" ).show();
      $("[name='qosDev_table']  tr").not(":first").each(function(){
              $(this).show();
      });
      $("[name='appDev_table']").hide();
      $("[name='vpnDev_table']").show();
      $("[name='vpnDev_lable']").show();
      $("button[name='back']").hide();
      $("button[name='edit']").show();
  }


  $(document).ready(function() {
    if(qosEnable == "true")
    {
      $("[name='qosDev_table']").show();
      $("[name='attachedDev_table']").hide();
      //$("#speedTest_section").show();
      showLoading();
      qosDevUpdate = true;
      updateQosDevTable();
    }
    else
    {
        $("[name='qosDev_table']").hide();
        $("[name='appDev_table']").hide();
        $("#down_speed").hide();
        $("#up_speed").hide();
        $("[name='attachedDev_table']").show();
        //$("#speedTest_section").hide();
    var new_tr ='<tr>\r\n\
    <td align="center">\r\n\
      <label class="checkbox-container\">\r\n\
        <input name="check_dev" id="checkbox_index__index" type="checkbox" value="_" onclick="handle_checkboxElements(this, \'__mac\', \'__ip\', \'__escapedModel\', \'__escapedName\', \'__devIcon\');">\r\n\
        <span class="checkbox-checkmark"></span>\r\n\
      </label>\r\n\
    </td>\r\n\
      <td align="center" name="index_num">\r\n\
        <span class="clickMe">__index</span>\r\n\
      </td>\r\n\
    <td align="center" name="show_status">\r\n\
      <span class="clickMe" style="color:__color" mlang="__status"></span>\r\n\
    </td>\r\n\
    <td align="center">\r\n\
      <span class="clickMe" mlang="__conType"></span>\r\n\
    </td>\r\n\
    <td align="center">\r\n\
      <span class=\"clickMe\">\r\n\
        <div width="100%" style="display: table-row;">\r\n\
            <div class="devinfo" style="height:100%; width: 20%;display: table-cell;vertical-align:middle;">\r\n\
              <img width=40px height=40px src="/images/streamboost/__img.png">\r\n\
              <span class="devinfotext">\r\n\
                <div><span mlang="MRS015">MAC Address</span>: __mac</div>\r\n\
                <div><span mlang="ASM015">Device Type</span>: <span mlang="__devType"></span></div>\r\n\
                <div>__ssid</div>\r\n\
              </span>\r\n\
            </div>\r\n\
            <div style="height:100%; width: 80%;display: table-cell;" align=\"right\">\r\n\
              <div width="100%" >\r\n\
                <div>\r\n\
                  <div style="padding: 0;">\r\n\
                  __model\r\n\
                  </div>\r\n\
                </div>\r\n\
                <div>\r\n\
                  <div style="padding: 0;">\r\n\
                    __name\r\n\
                  </div>\r\n\
                </div>\r\n\
              </div>\r\n\
            </div>\r\n\
        </div>\r\n\
      </span>\r\n\
    </td>\r\n\
      <td align=\"center\">__ip</td>\r\n\
      <td align=\"center\"><span class=\"clickMe\" name=\"mac\" >__mac</span></td>\r\n\
    </tr>';
      fetchTableData('device_table', 'attachedDevTable', new_tr, '', 'adjustDevTable');
        showLoading();
    }
    var new_tr2 ='<tr>\r\n\
      <td>\r\n\
        <span>__name</span>\r\n\
      </td>\r\n\
      <td>\r\n\
        <span>__remoteIP</span>\r\n\
      </td>\r\n\
       <td>\r\n\
        <span>__localIP</span>\r\n\
      </td>\r\n\
      <td >\r\n\
        <span>__time</span>\r\n\
      </td>\r\n\
      </tr>';
        fetchTableData('vpn_device_table', 'vpnDevTable', new_tr2);
    //<<<PEGA JYANG, fore disable to fix edit button would be enable after edit the device and reload page>>>
    $("#edit_attached").prop("disabled", true);
  });
  var type_name=["Computer (Generic)","Laptop","Desktop","Entertainment (Generic)","TV","Media Streamer","Gaming","Smart Speaker","Home Office (Generic)","Printer","IoT (Generic)","Smart Plug","Fridge","Light","Thermostat","Frame","Smart Phone (Generic)","Tablet","Network (Generic)","NAS","Router","Extender","IP Phone","Security (Generic)","Camera","Doorbell","Smart lock","Wearable (Generic)"];
  var type_mlang=["DTYPE_01","DTYPE_02","DTYPE_03","DTYPE_04","DTYPE_05","DTYPE_06","DTYPE_07","DTYPE_08","DTYPE_09","DTYPE_10","DTYPE_11","DTYPE_12","DTYPE_13","DTYPE_14","DTYPE_15","DTYPE_16","DTYPE_17","DTYPE_18","DTYPE_19","DTYPE_20","DTYPE_21","DTYPE_22","DTYPE_23","DTYPE_24","DTYPE_25","DTYPE_26","DTYPE_27","DTYPE_28"];
  var type_icon=["images/streamboost/Computer_(Generic).png","images/streamboost/Laptop.png","images/streamboost/Desktop.png","images/streamboost/Entertainment (Generic).png","images/streamboost/TV.png","images/streamboost/Media Streamer.png","images/streamboost/Gaming.png","images/streamboost/Smart Speaker.png","images/streamboost/Home Office (Generic).png","images/streamboost/Printer.png","images/streamboost/IoT (Generic).png","images/streamboost/Smart Plug.png","images/streamboost/Fridge.png","images/streamboost/Light.png","images/streamboost/Thermostat.png","images/streamboost/Frame.png","images/streamboost/Smart Phone (Generic).png","images/streamboost/Tablet.png","images/streamboost/Network (Generic).png","images/streamboost/NAS.png","images/streamboost/Router.png","images/streamboost/Extender.png","images/streamboost/IP Phone.png","images/streamboost/Security (Generic).png","images/streamboost/Camera.png","images/streamboost/Doorbell.png","images/streamboost/Smart Lock.png","images/streamboost/Wearable (Generic).png"];
  function handle_checkboxElements(checkbox, select_mac, select_ip, select_model, select_name, select_type, select_priority)
  {
      if(!$(checkbox).prop("checked"))
      {
          $("#edit_attached").prop("disabled", true);
      }
      else
      {
          $("input[name='"+checkbox.name+"']:checked").each( function(){
            $(this).prop("checked", false);
          });
          $("#edit_attached").prop("disabled", false);
          $(checkbox).prop("checked", true);
      }
      
      $("#devIp").text(select_ip);
      $("#devMac").text(select_mac.toUpperCase());
      $("#macAddr").val(select_mac.toUpperCase());
      $("#dev_model").val(select_model);
      $("#dev_name").val(select_name);
      $("#deviceType").val(select_type);
      
      var devType=select_type;

      var index =0;
      var selected_device_icon = "images/streamboost/Device_0.png";

      if(qosEnable != "true"){
          $('div[name=iqos_item]').css("display", "none");
      }
      else {
	var dev_pri=["Medium", "Low", "Medium", "High", "Highest"];
        $("#priority").val(dev_pri[select_priority]);
      } 

      $("#icon_tag1 option").remove();
      for(index=0; index < type_name.length; index++)
      {
          if(index == (devType)-1 )
              selected_device_icon = type_icon[index];
          $("#icon_tag1").append($("<option></option>").attr("value", type_name[index]).text(window.top.mlang[type_mlang[index]]));
      }

      $("#icon_tag1").attr("value",type_name[devType - 1]);
      $("#icon_tag1").val(type_name[devType - 1]);
      $("#devIcon").attr("src", selected_device_icon);
  }  

  function changeIcon(list) 
  {   
        var selectedType = $("#icon_tag1").val();
        var index = $("#icon_tag1").prop("selectedIndex");

        $("#devIcon").attr("src", type_icon[index]);
        $("#deviceType").val(index + 1);
  }

  function showDevEdit()
  {
      $("#table-div").css("display","none");
      $("#edit-div").css("display","block");
      loadhelp('DEV_device_iQoS_edit', '');

      //PEGA JYang, change the edit id to "main"
      $('div[name=main]').attr("id", "");
      $('div[name=mainEdit]').attr("id", "main");
  }

  function validation(f)
  {
      var msg = "";
      f.apply.disabled = true;
      
      if (f.dev_name.value.length < 1)
          msg += window.top.mlang["ALSE02"];
      
      if (f.dev_name.value.match( /[^\x20-\x7E]/ ))
          msg += window.top.mlang["AAWE04"];
    
      if (msg.length > 1) {
          alert(msg);
          f.apply.disabled = false;
          return false;
      }
      $("input[name='displayName']").val(f.dev_name.value);
      return true;
  }

  function formSubmit(btn) 
  {
      if (validation(document.forms[0])) 
      {
          $.postForm('setAttachDevice', $('#target'), 'cgi-bin/rex_cgi');
          showLoading();
      }
  }
  
  function post_fillout_init()
  {
      /* apply the mlang tag */
      $("[mlang]").each(function(idx, obj) {
          obj.innerHTML = window.top.mlang[obj.attributes.mlang.value];
      });

      // Write a div to display access control info like RAX-120
      var accessControlDiv = window.top.mlang["D-genie_419"];
      accessControlDiv += "<br/>" + window.top.mlang["D-genie_418"] + ": " + $("[name=aclStatus]").html();
      if ("<?= getAcceccControlEnable() ?>" !== "false") {
          accessControlDiv += "<br/>" + window.top.mlang["genie_187"] + ": " + $("[name=generalRule]").html();
      }
      $("[name=accessControl]").html(accessControlDiv);

      if("<?= getCircleActivationStatus() ?>" == "provisioned")
      {
          $("[name='accessControl']").hide();
      }

      /*if(qosEnable == "true")
      {
          var listRows= $("[name='qos_app_list']").val().split("\n");
          for(var key in listRows){
              var s= listRows[key].split(",0,"); appA[s[0]]=s[1]; 
          }
      }*/
  }

  function refreshDev()
  {
    var postData = {};
    postData.function = "refreshAttachDevice";
    var o = {};
    postData.data = o;

    $.ajax({
      url: "/cgi-bin/rex_cgi?csrftoken=" + CSRF_TOKEN,
      type: "POST",
      data: JSON.stringify(postData),
      dataType: 'json',
      contentType: "application/json; charset=utf-8",
      success : function(data) {
        if(data.status == "error")
        {
          console.log("Response: error");
        }
      }
    });

    show_EmbedProgressBar('SWP046', 10000, '/DEV_device.html');
  }
  </script>  
</head>

<body onload="window.top.change_size($(this));fetchData('target', 'attachedDev', '', 'post_fillout_init');loadhelp('DEV_device2','');" class="page-body" onResize="window.top.change_size($(this));">
  <form id="target"  name="formname" method="POST" >
  <input type="hidden" name="buttonHit">
  <input type="hidden" name="buttonValue">
  <div id="table-div">
    <div class="page-header" style="position: relative;" mlang="LUP023">Attached Devices</div>
    <div id="main" name="main" class="form-group" style="height:400px;overflow:auto;scrolling:auto;">
      <div class="form-row2" align="right">
        <div class="access" name="accessControl" style="margin-right: 13px; line-height: 24px">
        </div>
      </div>
      <div class="form-row2" align="right" style="display: none">
        <span class="span_a_link" mlang="D-genie_419"></span>
      </div>
      <div class="form-row2" align="right" style="display: none">
        <span mlang="D-genie_418">Access Control</span>:
        <span name="aclStatus"></span>
      </div>
      <div class="form-row2" align="right" style="display: none">
        <span mlang="genie_187">General Rule</span>:
        <span name="generalRule"></span>
      </div>
      <div class="form-row" style="display: inline-flex;">
        <button value="Back" onclick="backDev();"  type="button" name="back" id="back_attached" class="button-sty1" style="display:none;"  mlang="SWP012">Back</button>
        <button value="Edit" onclick="showDevEdit();"  type="button" name="edit" id="edit_attached" class="button-sty1"  mlang="UAS011" disabled>Edit</button>
        <button value="Cancel" onclick="refreshDev();"  type="button" name="refresh" id="refresh" class="button-sty1"  mlang="UBS012" >Refresh</button>
        <div id="down_speed" style="background-image: url(images/download.png); background-repeat:no-repeat;  width:156px; height: 50px; margin-left: 30px;">
          <span id="downlink_speed"  name="speedtest_down" style="position:relative; bottom:-15px; left:50px; color: white; FONT-SIZE: 14px; font-weight: bold;">0.00 </span>
          <span style="position:relative; bottom:-15px; left:50px; color: white; FONT-SIZE: 14px; font-weight: bold;"> Mbps</span>
        </div>
        <div id="up_speed" height="40px" style="background-image: url(images/upload.png); background-repeat:no-repeat; width:156px; height: 50px;">
          <span id="uplink_speed" name="speedtest_up" style="position:relative; bottom:-15px; left:50px; color: white; FONT-SIZE: 14px; font-weight: bold;">0.00 </span>
          <span style="position:relative; bottom:-15px; left:50px; color: white; FONT-SIZE: 14px; font-weight: bold;"> Mbps</span>
        </div>
    

      </div>
      
      
      <div class="form-row">
        <table class="sortable DeviceTable tbWhite cmn-table-2" name="attachedDev_table" id="device_table" border="1" cellpadding="2" cellspacing="0" width="100%">
          <tbody class="table_header">
            <td nowrap align="center" width="5%">
              <span class="subheadtext"></span>
            </td>
            <td nowrap align="center" width="6%" name="index_num">
              <span class="subheadtext">#</span>
            </td>
            <td nowrap align="center" width="10%" name="show_status">
              <span class="subheadtext" mlang="UAS004" >Status</span>
            </td>
            <td nowrap align="center" width="15%">
              <span class="subheadtext" mlang="MRS076" >Connection Type</span>
            </td>
            <td nowrap align="center" width="20%">
              <span class="subheadtext" mlang="MAD001" >Device Name</span>
            </td>
            <td nowrap align="center" width="16%">
              <span class="subheadtext" mlang="SWP030" >IP Address</span>
            </td>
            <td nowrap align="center" width="18%">
              <span class="subheadtext" mlang="MRS015" >MAC Address</span>
            </td>
          </tbody>
        </table>
        
        <table class="sortable tbWhite cmn-table-2" name="qosDev_table" id="qos_device_table" border="1" cellpadding="2" cellspacing="0" width="100%" style="display:none;">
          <tbody class="table_header">
            <td nowrap align="center" width="5%" class="firstCol">
              <span class="subheadtext"></span>
            </td>
            <td nowrap align="center" width="6%" name="dev_priority">
              <span class="subheadtext"  mlang="AQS040">Priority</span>
            </td>
            <td nowrap align="center" width="15%">
              <span class="subheadtext" mlang="MRS076" >Connection Type</span>
            </td>
            <td nowrap align="center" width="20%">
              <span class="subheadtext" mlang="MAD001" >Device Name</span>
            </td>
            <td nowrap align="center" class="icon">
              <image src="images/download1.png" style="width:15px; height:15px;background-color: #4a708b;" mlang="MAD006" >Internet Download Speed by Device</image>
            </td>
            <td nowrap align="center" class="icon">
              <image src="images/upload1.png" style="width:15px; height:15px;background-color: #4a708b;" mlang="MAD007">Internet Upload Speed by Device</image>
            </td>
          </tbody>
        </table>
        
        <table class="sortable tbWhite cmn-table-2" name="appDev_table" id="app_device_table" border="1" cellpadding="2" cellspacing="0" width="100%" style="display:none;">
          <tbody class="table_header">

            <td nowrap align="center" width="30%" name="app_name">
              <span class="subheadtext"  mlang="MAD011">Application</span>
            </td>
            <td nowrap align="center" width="34%">
              <span class="subheadtext" mlang="MAD009" >Internet Download Speed by App</span>
            </td>
            <td nowrap align="center" width="34%">
              <span class="subheadtext" mlang="MAD010" >Internet Upload Speed by App</span>
            </td>
          </tbody>
        </table>
      </div>
          <div class="seperate-border"></div>
      <div class="form-row">
        <b  name="vpnDev_lable" mlang="AQS173" >VPN Client Devices</b>
      </div>
      <div class="form-row">
        <table class="sortable tbWhite cmn-table-2" name="vpnDev_table" id="vpn_device_table" border="1" cellpadding="2" cellspacing="0" width="100%">
          <tbody class="table_header">
            <td nowrap align="center" width="40%">
              <span class="subheadtext" mlang="MAD001" >Device Name</span>
            </td>
            <td nowrap align="center" width="20%">
              <span class="subheadtext" mlang="AQS174" >Remote IP Address</span>
            </td>
            <td nowrap align="center" width="20%">
              <span class="subheadtext" mlang="AQS175" >Local IP Address</span>
            </td>
            <td nowrap align="center" width="20%">
              <span class="subheadtext" mlang="AQS176" >Connection Time</span>
            </td>
          </tbody>
        </table>
      </div>
      <div class="form-row">
      </div>
    </div>
  </div>
  <!--input type="hidden" value="" name="qos_app_list" disabled/-->
    
  
  <div id="edit-div" style="display:none;">
    <div class="page-header" style="position: relative;" mlang="MAD008">Edit Device</div>
    <div id="mainEdit" name="mainEdit" class="form-group" style="overflow:auto;scrolling:auto;" >
      <div class="form-row">
        
      </div>
      <div class="form-row pb-1">
          <span mlang="SWP030">IP Address</span>
      </div>
      <div class="form-row pb-1">
          <span id="devIp"></span>
      </div>
      <div class="form-row pb-1">
          <span mlang="MRS015">MAC Address</span>
      </div>
      <div class="form-row pb-1">
          <span id="devMac"></span>
          <input name="macAddr" id="macAddr" type="hidden"  />
      </div>
      <div class="form-row pb-0">
          <span mlang="SWP081">Device Model</span>
      </div>
      <div class="form-row pb-0">
          <input name="deviceModel" id="dev_model" class="input1" type="text" maxlength="30"  value="">
      </div>
      <div class="form-row pb-0">
          <span mlang="MAD001">Device Name</span>
      </div>
      <div class="form-row pb-0">
          <input name="deviceName" id="dev_name" class="input1" type="text" size="32" maxlength="32"  value="">
          <input name="displayName" type="hidden"></input>
      </div>
      
      <div class="form-row pb-0" style="display:table;">
          <span mlang="ASM015">Device Type</span>:
          <select name="devType" id="icon_tag1" onchange="changeIcon(this);" value="";></select>
          <img src="" id="devIcon" name="devIcon">
          <input name="deviceType" id="deviceType" type="hidden" />
      </div>

      <div class="form-row pb-0" name="iqos_item">
          <span mlang="D-genie_493">Device Priority</span>:
          <select name="priority" id="priority">
            <option value="Highest" mlang="AQS032">Highest1</option>
            <option value="High" mlang="AQS031">High1</option>
            <option value="Medium" mlang="MAD012">Medium1</option>
            <option value="Low" mlang="AQS034">Low1</option>
          </select>
      </div>
    </div>
    <div class="form-btn-row" id="form_btn_div">
      <button type="button" value="BUTTON"  onClick="location.href='DEV_device.html';" name="Cancel" id="cancel" class="button-cancel cancel_bt" mlang="UAS021">Cancel</button>
      <button type="button" value="apply"  onClick="formSubmit($(this))" name="apply" id="apply" class="button-apply apply_bt" mlang="LUP004" >Apply</button>
    </div>
  </div>

</form>
<? genHelpSection() ?>
<? generate_EmbedProgressBar()?>
</html>
