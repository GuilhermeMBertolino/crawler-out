<!DOCTYPE HTML>
<!-- include PHP to use php functions -->
<? include 'php/commonCfg.php';?>
<? include 'php/blocksiteSchedule.php';?>

<html>
<head>
  <META charset="UTF-8">
  <META http-equiv="Pragma" content="no-cache">
  <META HTTP-equiv="Cache-Control" content="no-cache">
  <META HTTP-EQUIV="Expires" CONTENT="Mon, 06 Jan 1990 00:00:01 GMT">

  <title>NETGEAR Router <?= getModelNameStr()?></title>

  <link rel="stylesheet" href="css/table_noh.css">
  <link rel="stylesheet" href="css/scrollbar.css">
  <link rel="stylesheet" href="css/button.css">
  <link rel="stylesheet" href="css/form.css">
  <link rel="stylesheet" href="css/settings.css<? getVer(); ?>">

  <script src="js/jquery.min.js"></script>
  <script src="js/jquery.mousewheel.js"></script>
  <script src="js/jquery.jscrollpane.min.js"></script>
  <script src="js/jquery.inputmask.min.js"></script>
  <script src="js/ipInput.js"></script>
  <script src="js/utils.js<? getVer(); ?>"></script>
  <script src="js/validations.js<? getVer(); ?>"></script>
  <script src="js/wireless.js"></script>
  <script src="js/embedProgressBar.js"></script>

  <script language="javascript" type="text/javascript">
    CSRF_TOKEN = <?= genCsrfTokenFilePhp('tokenNumber')?>;

    var init_country;
    /* var for Edit button */
    var sel_index = ["-1", "-1"];
    var sel_radio = ["", ""];
    var sel_starttime = ["", ""];
    var sel_endtime = ["", ""];
    var sel_enSunday = ["", ""];
    var sel_enMonday = ["", ""];
    var sel_enTuesday = ["", ""];
    var sel_enWednesday = ["", ""];
    var sel_enThursday = ["", ""];
    var sel_enFriday = ["", ""];
    var sel_enSaturday = ["", ""];
    
    function pre_fillout_init(json) 
    {
        var new_tr_2G = '<tr>\r\n\
        <td nowrap align=\"center\">\r\n\
        <span class=\"thead\">&nbsp;\r\n\
          <input class=\"wifi_sche_div3\" type=\"RADIO\" name=\"ruleSelect_2g\" id=\"sche_select_2g__index\" value=\"__index\" onClick="onClick_SelRule(\'__index\',\'__radio\',\'__starttime\',\'__endtime\',\'__enSunday\',\'__enMonday\',\'__enTuesday\',\'__enWednesday\',\'__enThursday\',\'__enFriday\',\'__enSaturday\');">\r\n\
        </span>\r\n\
        </td><td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__starttime</span>\r\n\
        </td>\r\n\
        <td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__endtime</span>\r\n\
        </td>\r\n\
        <td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__week</span>\r\n\
        </td>\r\n\
        <td nowrap align=\"left\" style = "display: none;">__index</td>\r\n\
        </tr>\n';

        fetchTableData('schedule_bgn_table', '2GwirelessScheduleTable', new_tr_2G);

        var new_tr_5G = '<tr>\r\n\
        <td nowrap align=\"center\">\r\n\
        <span class=\"thead\">&nbsp;\r\n\
          <input class=\"wifi_5g_sche_div3\" type=\"RADIO\" name=\"ruleSelect_5g\" id=\"sche_select_5g__index\" value=\"__index\" onClick="onClick_SelRule(\'__index\',\'__radio\',\'__starttime\',\'__endtime\',\'__enSunday\',\'__enMonday\',\'__enTuesday\',\'__enWednesday\',\'__enThursday\',\'__enFriday\',\'__enSaturday\');">\r\n\
        </span>\r\n\
        </td><td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__starttime</span>\r\n\
        </td>\r\n\
        <td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__endtime</span>\r\n\
        </td>\r\n\
        <td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__week</span>\r\n\
        </td>\n\r\
        <td nowrap align=\"left\" style = "display: none;">__index</td>\r\n\
        </tr>\n';

        fetchTableData('schedule_an_table', '5GwirelessScheduleTable', new_tr_5G);
/*        
        var new_tr_5G1 = '<tr>\r\n\
        <td nowrap align=\"center\">\r\n\
        <span class=\"thead\">&nbsp;\r\n\
          <input class=\"wifi_5g1_sche_div3\" type=\"RADIO\" name=\"ruleSelect_5g1\" id=\"sche_select_5g1__index\" value=\"__index\" onClick="onClick_SelRule(\'__index\',\'__radio\',\'__starttime\',\'__endtime\',\'__enSunday\',\'__enMonday\',\'__enTuesday\',\'__enWednesday\',\'__enThursday\',\'__enFriday\',\'__enSaturday\');">\r\n\
        </span>\r\n\
        </td><td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__starttime</span>\r\n\
        </td>\r\n\
        <td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__endtime</span>\r\n\
        </td>\r\n\
        <td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__week</span>\r\n\
        </td></tr>\n';

        fetchTableData('5G1Schedule_table', '5G1wirelessScheduleTable', new_tr_5G1);
*/
        var new_tr_6G = '<tr>\r\n\
        <td nowrap align=\"center\">\r\n\
        <span class=\"thead\">&nbsp;\r\n\
          <input class=\"wifi_6g_sche_div3\" type=\"RADIO\" name=\"ruleSelect_6g\" id=\"sche_select_6g__index\" value=\"__index\" onClick="onClick_SelRule(\'__index\',\'__radio\',\'__starttime\',\'__endtime\',\'__enSunday\',\'__enMonday\',\'__enTuesday\',\'__enWednesday\',\'__enThursday\',\'__enFriday\',\'__enSaturday\');">\r\n\
        </span>\r\n\
        </td><td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__starttime</span>\r\n\
        </td>\r\n\
        <td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__endtime</span>\r\n\
        </td>\r\n\
        <td nowrap align=\"left\">\r\n\
          <span class=\"ttext\">__week</span>\r\n\
        </td>\n\r\
        <td nowrap align=\"left\" style = "display: none;">__index</td>\r\n\
        </tr>\n';

        fetchTableData('schedule_6g_table', '6GwirelessScheduleTable', new_tr_6G);
    }

    function formSubmit() {
        if ($('[name=smartConnectEnable]').val() == "true") {
            //sync the settings values changed by user to 5G settings
            $('[name=5GRadioOn]').val($('[name=2GRadioOn]').val());
            $('[name=5GRadioOn]')[0].checked = $('[name=5GRadioOn]').val();
            $('select[name=5GPreamble]').val($('select[name=2GPreamble]').val());
            $('[name=5GWifiSchedule]').val($('[name=2GWifiSchedule]').val());
            $('[name=5GWifiSchedule]')[0].checked = $('[name=5GWifiSchedule]').val();
            //sync 2.4G schedule rule to 5G is implement in formSubmit_sche()
        }
        
        $('#enable_tx_beamforming').prop("disabled", false);
        if (validation(document.forms[0])) {
            $.postForm('wlanAdvSettings', $('#target'), 'cgi-bin/rex_cgi', 'wlanAdvSettings_postForm_callback');
        }
        else {
            $('#enable_tx_beamforming').prop("disabled", true);
        }
    }

    function formSubmit_sche() {
        if (validation_sche(document.forms[1])) {
            if ($('[name=smartConnectEnable]').val() == "true") {
                $.postForm('wlanSchedule', $('#target_sche'), 'cgi-bin/rex_cgi', 'wlanSchedule_postForm_callback');
            }
            else {
                $.postForm('wlanSchedule', $('#target_sche'), 'cgi-bin/rex_cgi');
            }
        }
    }

    function validation(f) {
        /*check pin fail number */
        /*
        var wpsNumOfFailedPin = parseInt($('#wpsNumOfFailedPin').val(), 10);
        if (wpsNumOfFailedPin > 10 || wpsNumOfFailedPin < 3) {
            alert("Failed PIN connections value is outside the range 3-10.");
            return false;
        }
        */
        
        return true;
    }
    
    function validation_sche(f) 
    {
        var isEveryDay = $("input[name='isEveryDay']:checked").val();
        var action = $("input[name='action']").val();
        
        if ($("select[name='startTime']").val() == $("select[name='endTime']").val()) {
            //"Start time is set equal to end time."
            alert(window.top.mlang["D-genie_350"]);
            return false;
        }
        
        if (isEveryDay == "false" && daysCheckedCount() == 0) {
            //"Please check at least one day to block!"
            alert(window.top.mlang["CSEE02"]);
            return false;
        }
        
        if ( (action == "add" || action == "edit")  && isSchRule_Conflict(sel_index) == true) {
            //"You could not add a same rule twice."
            alert(window.top.mlang["AAWE14"]);
            return false;
        }
        
        return true;
    }
    
    function wlanSchedule_postForm_callback(json)
    {
        if (json.status != "success") {
            alert("Server error!");
            document.location.reload(); 
            return;
        }
        
        //sync 2.4G schedule rule to 5G while user add/edit/delete a rule (only change the radio, other input values use 2.4G values)
        $("input[name='wlanRadio']").val('5G');
        $.postForm('wlanSchedule', $('#target_sche'), 'cgi-bin/rex_cgi');

    }
    
    function wlanAdvSettings_postForm_callback(json)
    {
        if (json.status != "success") {
            alert("Server error!");
            document.location.reload(); 
            return;
        }

        //When both wireless security are wpa-enterprise, greyout "WPS Wizard" menu item
        //When both wireless radios are disabled, greyout "WPS Wizard" menu item
        if ( ($('[name=2GSecurity]').val() == "4" || $('[name=5GSecurity]').val() == "4") ||
            ($('[name=2GRadioOn]').val() == "false" && $('[name=5GRadioOn]').val() == "false")) 
        {
            parent.$("#wps-wizard").css("pointer-events", "none");
            parent.$("#wps-wizard").css("opacity", "0.5");
            parent.$("#wps-wizard").addClass("auto_grey");
        }
        else 
        {
            parent.$("#wps-wizard").css("pointer-events", "");
            parent.$("#wps-wizard").css("opacity", "");
            parent.$("#wps-wizard").removeClass("auto_grey");
        }
        show_EmbedProgressBar('SWP046', 25000, '/WLG_wireless_adv.html');
    }

    function post_fillout_init()
    {
        /* Disable 5G low band input elements */
        $('#target #5g_hi_adv_settings :input').attr('disabled', true);
        
        //TODO : WPS disable should greyout WPS related element
        
        /* init the pin related elements to hide/show */
        //onChange_wpsPinEnabled();
        //onChange_wpsAutoDisablePin();
        init_WifiBtnEnable();
        init_smartConnect();
        init_radioOn();
        init_enableMuMimo();
        
        /* register a onClick/onChange funtion */
        /* sync checkbox value with its check status while onclick event occur */
        $('#target [name=2GRadioOn]').on('change', function() {
            $('[name=2GRadioOn]').val($('[name=2GRadioOn]').prop("checked"));
            onChange_2GRadioOn();
        });
        $('#target [name=2GWifiSchedule]').on('change', function() {
            $('[name=2GWifiSchedule]').val($('[name=2GWifiSchedule]').prop("checked"));
        });

        $('#target [name=5GRadioOn]').on('change', function() {
            $('[name=5GRadioOn]').val($('[name=5GRadioOn]').prop("checked"));
            onChange_5GRadioOn();
        });
        $('#target [name=5GWifiSchedule]').on('change', function() {
            $('[name=5GWifiSchedule]').val($('[name=5GWifiSchedule]').prop("checked"));
        });
/*
        $('#target [name=5G1RadioOn]').on('change', function() {
            $('#5G1RadioOn').val($('#5G1RadioOn').prop("checked"));
            onChange_5G1RadioOn();
        });
        $('#target [name=5G1WifiSchedule]').on('change', function() {
            $('#5G1WifiSchedule').val($('#5G1WifiSchedule').prop("checked"));
        });
*/

        $('#target [name=6GRadioOn]').on('change', function() {
            $('[name=6GRadioOn]').val($('[name=6GRadioOn]').prop("checked"));
            onChange_6GRadioOn();
        });
        $('#target [name=6GWifiSchedule]').on('change', function() {
            $('[name=6GWifiSchedule]').val($('[name=6GWifiSchedule]').prop("checked"));
        });

/*
        $('#target [name=wpsPinEnabled]').on('change', function() {
            $('#wpsPinEnabled').val($('#wpsPinEnabled').prop("checked"));
            onChange_wpsPinEnabled();
        });
        $('#target [name=wpsAutoDisablePin]').on('change', function() {
            $('#wpsAutoDisablePin').val($('#wpsAutoDisablePin').prop("checked"));
            onChange_wpsAutoDisablePin();
        });
        $('#target [name=wpsKeepSetting2G]').on('change', function() {
            $('#wpsKeepSetting2G').val($('#wpsKeepSetting2G').prop("checked"));
            onChange_wpsKeepSetting2G();
        });
        $('#target [name=wpsKeepSetting5G]').on('change', function() {
            $('#wpsKeepSetting5G').val($('#wpsKeepSetting5G').prop("checked"));
            onChange_wpsKeepSetting5G();
        });
        $('#target [name=wpsKeepSetting5G1]').on('change', function() {
            $('#wpsKeepSetting5G1').val($('#wpsKeepSetting5G1').prop("checked"));
            onChange_wpsKeepSetting5G1();
        });
*/
        $('#target [name=enableBeamforming]').on('change', function() {
            $('[name=enableBeamforming]').val($('[name=enableBeamforming]').prop("checked"));
        });
        $('#target [name=enableMuMimo]').on('change', function() {
            $('[name=enableMuMimo]').val($('[name=enableMuMimo]').prop("checked"));
            onChange_enableMuMimo();
        });
        $('#target [name=disablePMF]').on('change', function() {
            $('[name=disablePMF]').val($('[name=disablePMF]').prop("checked"));
        });
        $('#target [name=enable6GWpa3H2eOnly]').on('change', function() {
            $('[name=enable6GWpa3H2eOnly]').val($('[name=enable6GWpa3H2eOnly]').prop("checked"));
        });
        /* register button click callback functions */
        $('#target [name=add_sche_2g]').on('click', function() {
            onClick_add_sche('2G');
        });
        $('#target [name=add_sche_5g]').on('click', function() {
            onClick_add_sche('5G');
        });
/*
        $('#target [name=add_sche_5g1]').on('click', function() {
            onClick_add_sche('5G1');
        });
*/
        $('#target [name=add_sche_6g]').on('click', function() {
            onClick_add_sche('6G');
        });
        $('#target [name=edit_sche_2g]').on('click', function() {
            onClick_edit_sche('2G');
        });
        $('#target [name=edit_sche_5g]').on('click', function() {
            onClick_edit_sche('5G');
        });
/*
        $('#target [name=edit_sche_5g1]').on('click', function() {
            onClick_edit_sche('5G1');
        });
*/
        $('#target [name=edit_sche_6g]').on('click', function() {
            onClick_edit_sche('6G');
        });
        $('#target [name=del_sche_2g]').on('click', function() {
            onClick_delete_sche('2G');
        });
        $('#target [name=del_sche_5g]').on('click', function() {
            onClick_delete_sche('5G');
        });
/*
        $('#target [name=del_sche_5g1]').on('click', function() {
            onClick_delete_sche('5G1');
        });
*/
        $('#target [name=del_sche_6g]').on('click', function() {
            onClick_delete_sche('6G');
        });
        post_fillout_init_sche();

        //PEGA JYang, sync two select list for Netgear GUI automation id (dirty solution)
        $('#enable_short_preamble')[0].selectedIndex = $('#enableShortPreamble').prop('selectedIndex');
        $('#enable_short_preamble').on('click', function() {
            $('#enableShortPreamble')[0].selectedIndex = $('#enable_short_preamble').prop('selectedIndex');
        });

        $('#start_time')[0].selectedIndex = $('#start_Time').prop('selectedIndex');
        $('#start_time').on('click', function() {
            $('#start_Time')[0].selectedIndex = $('#start_time').prop('selectedIndex');
        });

        $('#enable_short_preamble_an')[0].selectedIndex = $('#enableShortPreambleAn').prop('selectedIndex');
        $('#enable_short_preamble_an').on('click', function() {
            $('#enableShortPreambleAn')[0].selectedIndex = $('#enable_short_preamble_an').prop('selectedIndex');
        });

        $('#enable_short_preamble_6g')[0].selectedIndex = $('#enableShortPreamble6G').prop('selectedIndex');
        $('#enable_short_preamble_6g').on('click', function() {
            $('#enableShortPreamble6G')[0].selectedIndex = $('#enable_short_preamble_6g').prop('selectedIndex');
        });

        $('#end_time')[0].selectedIndex = $('#end_Time').prop('selectedIndex');
        $('#end_time').on('click', function() {
            $('#end_Time')[0].selectedIndex = $('#end_time').prop('selectedIndex');
        });
    }
    
    function post_fillout_init_sche()
    {
        /* register a onClick/onChange funtion */
        /* register a onclick function for isEveryDay radio element */
        $('#target_sche [name=isEveryDay]').on('change', function() {
            onClick_isEveryDay();
        });
    
        /* sync checkbox value with its check status while onclick event occur*/
        $('#target_sche [name=isSunday]').on('change', function() {
            $('[name=isSunday]').val($('[name=isSunday]').prop("checked"));
        });
        $('#target_sche [name=isMonday]').on('change', function() {
            $('[name=isMonday]').val($('[name=isMonday]').prop("checked"));
        });
        $('#target_sche [name=isTuesday]').on('change', function() {
            $('[name=isTuesday]').val($('[name=isTuesday]').prop("checked"));
        });
        $('#target_sche [name=isWednesday]').on('change', function() {
            $('[name=isWednesday]').val($('[name=isWednesday]').prop("checked"));
        });
        $('#target_sche [name=isThursday]').on('change', function() {
            $('[name=isThursday]').val($('[name=isThursday]').prop("checked"));
        });
        $('#target_sche [name=isFriday]').on('change', function() {
            $('[name=isFriday]').val($('[name=isFriday]').prop("checked"));
        });
        $('#target_sche [name=isSaturday]').on('change', function() {
            $('[name=isSaturday]').val($('[name=isSaturday]').prop("checked"));
        });
       
    }
    
    function init_WifiBtnEnable()
    {
        var WifiBtnEnable = $('#target [name=WifiBtnEnable]').val();
        
        if (WifiBtnEnable == "0") {
            $('.WifiBtn_element').css("pointer-events", "none");
            $('.WifiBtn_element').css("opacity", "0.5");
        }
        else if (WifiBtnEnable == "1") {
            $('.WifiBtn_element').css("pointer-events", "");
            $('.WifiBtn_element').css("opacity", "");
        }
    }
    
    function init_smartConnect()
    {
        var smartConnectEnable = $('[name=smartConnectEnable]').val();
        
        if (smartConnectEnable == "true") {
            //hide 5G fields
            $("#2G_title").hide();
            $("#2G_5G_combine_title").show();
            $("#5G_section").hide();
            //Sync the initial values from 2G settings to 5G settings is already done by cgi, while user configured smart connect to be enabled in main Wireless page. Web don't need to sync the initial values here, but web needs to sync the settings values changed by user
        }
    }
    
    
    function init_radioOn()
    {
        onChange_2GRadioOn();
        onChange_5GRadioOn();
        onChange_6GRadioOn();
    }
    
    function init_enableMuMimo()
    {
        onChange_enableMuMimo();
    }
    /* Onclick Callback Section --------> Begin */
    function onChange_2GRadioOn()
    {
        var ntp_status = "<?= getTextVal_ntpResult() ?>";

        if ($("[name=2GRadioOn]").val() == "false")
        {
            $("#2GWifiSchedule_checkbox").css("pointer-events", "none");
            $("#2GWifiSchedule_checkbox").css("opacity", "0.5");
            $("#schedule_bgn_table").css("pointer-events", "none");
            $("#schedule_bgn_table").css("opacity", "0.5");
            $("[name=add_sche_2g]").attr("disabled", true);
            $("[name=edit_sche_2g]").attr("disabled", true);
            $("[name=del_sche_2g]").attr("disabled", true);
        }
        else {
            if(ntp_status == "Synchronized"){
                $("#2GWifiSchedule_checkbox").css("pointer-events", "");
                $("#2GWifiSchedule_checkbox").css("opacity", "");
                $("#schedule_bgn_table").css("pointer-events", "");
                $("#schedule_bgn_table").css("opacity", "");
                $("[name=add_sche_2g]").attr("disabled", false);
                $("[name=edit_sche_2g]").attr("disabled", false);
                $("[name=del_sche_2g]").attr("disabled", false);
            }
            else {
                $("#2GWifiSchedule_checkbox").css("pointer-events", "none");
                $("#2GWifiSchedule_checkbox").css("opacity", "0.5");
                $("#schedule_bgn_table").css("pointer-events", "none");
                $("#schedule_bgn_table").css("opacity", "0.5");
                $("[name=add_sche_2g]").attr("disabled", true);
                $("[name=edit_sche_2g]").attr("disabled", true);
                $("[name=del_sche_2g]").attr("disabled", true);
            }
        }
    }
    
    function onChange_5GRadioOn()
    {
        var ntp_status = "<?= getTextVal_ntpResult() ?>";

        if ($("[name=5GRadioOn]").val() == "false")
        {
            $("#5GWifiSchedule_checkbox").css("pointer-events", "none");
            $("#5GWifiSchedule_checkbox").css("opacity", "0.5");
            $("#schedule_an_table").css("pointer-events", "none");
            $("#schedule_an_table").css("opacity", "0.5");
            $("[name=add_sche_5g]").attr("disabled", true);
            $("[name=edit_sche_5g]").attr("disabled", true);
            $("[name=del_sche_5g]").attr("disabled", true);
        }
        else {
            if(ntp_status == "Synchronized"){
                $("#5GWifiSchedule_checkbox").css("pointer-events", "");
                $("#5GWifiSchedule_checkbox").css("opacity", "");
                $("#schedule_an_table").css("pointer-events", "");
                $("#schedule_an_table").css("opacity", "");
                $("[name=add_sche_5g]").attr("disabled", false);
                $("[name=edit_sche_5g]").attr("disabled", false);
                $("[name=del_sche_5g]").attr("disabled", false);
            }
            else {
                $("#5GWifiSchedule_checkbox").css("pointer-events", "none");
                $("#5GWifiSchedule_checkbox").css("opacity", "0.5");
                $("#schedule_an_table").css("pointer-events", "none");
                $("#schedule_an_table").css("opacity", "0.5");
                $("[name=add_sche_5g]").attr("disabled", true);
                $("[name=edit_sche_5g]").attr("disabled", true);
                $("[name=del_sche_5g]").attr("disabled", true);
            }
        }
    }
/*
    function onChange_5G1RadioOn()
    {
        //TODO : greyout the wifi schedule elements
    }
*/

    function onChange_6GRadioOn()
    {
        var ntp_status = "<?= getTextVal_ntpResult() ?>";

        if ($("[name=6GRadioOn]").val() == "false")
        {
            $("#6GWifiSchedule_checkbox").css("pointer-events", "none");
            $("#6GWifiSchedule_checkbox").css("opacity", "0.5");
            $("#schedule_6g_table").css("pointer-events", "none");
            $("#schedule_6g_table").css("opacity", "0.5");
            $("[name=add_sche_6g]").attr("disabled", true);
            $("[name=edit_sche_6g]").attr("disabled", true);
            $("[name=del_sche_6g]").attr("disabled", true);
        }
        else {
            if(ntp_status == "Synchronized"){
                $("#6GWifiSchedule_checkbox").css("pointer-events", "");
                $("#6GWifiSchedule_checkbox").css("opacity", "");
                $("#schedule_6g_table").css("pointer-events", "");
                $("#schedule_6g_table").css("opacity", "");
                $("[name=add_sche_6g]").attr("disabled", false);
                $("[name=edit_sche_6g]").attr("disabled", false);
                $("[name=del_sche_6g]").attr("disabled", false);
            }
            else {
                $("#6GWifiSchedule_checkbox").css("pointer-events", "none");
                $("#6GWifiSchedule_checkbox").css("opacity", "0.5");
                $("#schedule_6g_table").css("pointer-events", "none");
                $("#schedule_6g_table").css("opacity", "0.5");
                $("[name=add_sche_6g]").attr("disabled", true);
                $("[name=edit_sche_6g]").attr("disabled", true);
                $("[name=del_sche_6g]").attr("disabled", true);
            }
        }
    }

/*
    function onChange_wpsPinEnabled()
    {
        // show/hide checkbox "wpsAutoDisablePin" and input text "wpsNumOfFailedPin"
        if ($('#wpsPinEnabled').val() == "true") {
            $('#wps-pin-display')[0].style.display = "block";
        }
        else {
            $('#wps-pin-display')[0].style.display = "none";
        }
    }
    
    function onChange_wpsAutoDisablePin()
    {
        // un-greyout or greyout the input text "wpsNumOfFailedPin"
        if ($('#wpsAutoDisablePin').val() == "true") {
            $('#wpsNumOfFailedPin').attr('readonly', false);
        }
        else {
            $('#wpsNumOfFailedPin').attr('readonly', true);
        }
        
    }
    
    function onChange_wpsKeepSetting2G()
    {
        // sync 2G value to 5G/5G1
        if ($('#wpsKeepSetting2G').val() == "true") {
            $('#wpsKeepSetting5G')[0].checked = true;
            //$('#wpsKeepSetting5G1')[0].checked = true;
        }
        else {
            $('#wpsKeepSetting5G')[0].checked = false;
            //$('#wpsKeepSetting5G1')[0].checked = false;
        }
        
        $('#wpsKeepSetting5G').val($('#wpsKeepSetting5G').prop("checked"));
        //$('#wpsKeepSetting5G1').val($('#wpsKeepSetting5G').prop("checked"));
    }
    
    function onChange_wpsKeepSetting5G()
    {
        // sync 5G value to 2G/5G1
        if ($('#wpsKeepSetting5G').val() == "true") {
            $('#wpsKeepSetting2G')[0].checked = true;
            //$('#wpsKeepSetting5G1')[0].checked = true;
        }
        else {
            $('#wpsKeepSetting2G')[0].checked = false;
            //$('#wpsKeepSetting5G1')[0].checked = false;
        }
        
        $('#wpsKeepSetting2G').val($('#wpsKeepSetting2G').prop("checked"));
        //$('#wpsKeepSetting5G1').val($('#wpsKeepSetting5G').prop("checked"));
    }

    function onChange_wpsKeepSetting5G1()
    {
        // sync 5G1 value to 2G/5G 
        if ($('#wpsKeepSetting5G1').val() == "true") {
            $('#wpsKeepSetting2G')[0].checked = true;
            $('#wpsKeepSetting5G')[0].checked = true;
        }
        else {
            $('#wpsKeepSetting2G')[0].checked = false;
            $('#wpsKeepSetting5G')[0].checked = false;
        }
        
        $('#wpsKeepSetting2G').val($('#wpsKeepSetting2G').prop("checked"));
        $('#wpsKeepSetting5G').val($('#wpsKeepSetting5G').prop("checked"));
    }
    
*/
    function onChange_enableMuMimo()
    {
        /* KKHuang: Implicit beamforming do not need these code
        if ($('[name=enableMuMimo]').val() == "true") {
            //check and greyout enableBeamforming checkbox
            $('[name=enableBeamforming]').val("true");
            $('[name=enableBeamforming]').prop("checked", "true");
            $('#enableBeamforming_checkbox').css("pointer-events", "none");
            $('#enableBeamforming_checkbox').css("opacity", "0.5");
            $('#enable_tx_beamforming').prop("disabled", true);
        }
        else {
            $('#enableBeamforming_checkbox').css("pointer-events", "");
            $('#enableBeamforming_checkbox').css("opacity", "");
            $('#enable_tx_beamforming').prop("disabled", false);
        }
        */
    }
    /* Onclick Callback Section --------> End */
    
    function onClick_add_sche(freq)
    {
        $("input[name='action']").val("add");
        $("input[name='wlanRadio']").val(freq);
        
        /* fillout default data into form 'target_sche'*/
        $("input[name='isEveryDay']")[0].checked = true;
        greyout_weekdays_checkbox(true);
        
        /* show form 'target_sche' */
        show_WifiSche_form();
    }
    
    function onClick_edit_sche(freq)
    {
        var i;
        if (freq == "2G") {
            i = 0;
        } 
        else if (freq == "5G") {
            i = 1;
        }
        else if (freq == "6G") {
            i = 2;
        }

        /* no rule is selected */
        if (sel_index[i] == "-1" || sel_radio[i] != freq)
        {
            //"Please select an item to edit"
            alert(window.top.mlang["AAWE08"]);
            return;
        }
        
        /* Fillout data into form 'target_sche' */
        $("input[name='action']").val("edit");
        $("input[name='wlanRadio']").val(freq);
        $("input[name='index']").val(sel_index[i]);
        $("select[name='startTime']").val(sel_starttime[i]).change();
        $('#start_time')[0].selectedIndex = $("select[name='startTime']").prop('selectedIndex');
        $("select[name='endTime']").val(sel_endtime[i]).change();
        $('#end_time')[0].selectedIndex = $("select[name='endTime']").prop('selectedIndex');
        
        if (sel_enSunday[i] == true && sel_enMonday[i] == true && sel_enTuesday[i] == true && sel_enWednesday[i] == true && 
            sel_enThursday[i] == true && sel_enFriday[i] == true && sel_enSaturday[i] == true)
        {
            $("input[name='isEveryDay']")[0].checked = true;
            
            greyout_weekdays_checkbox(true);
        }
        else 
        {
            $("input[name='isEveryDay']")[1].checked = true;

            greyout_weekdays_checkbox(false);
            fillout_weekdays_checkbox(freq);          
        }
        
        /* show form 'target_sche' */
        show_WifiSche_form();
    }
    
    function onClick_delete_sche(freq)
    {
        var i;
        if (freq == "2G") {
            i = 0;
        } 
        else if (freq == "5G") {
            i = 1;
        }
        else if (freq == "6G") {
            i = 2;
        }

        /* no rule is selected */
        if (sel_index[i] == "-1" || sel_radio[i] != freq)
        {
            //"Please select an item to delete"
            alert(window.top.mlang["AAWE07"]);
            return;
        }
        
        $("input[name='action']").val("delete");
        $("input[name='wlanRadio']").val(freq);
        $("input[name='index']").val(sel_index[i]);
        $("select[name='startTime']").val(sel_starttime[i]);
        $('#start_time')[0].selectedIndex = $("select[name='startTime']").prop('selectedIndex');
        $("select[name='endTime']").val(sel_endtime[i]);
        $('#end_time')[0].selectedIndex = $("select[name='endTime']").prop('selectedIndex');
        
        if (sel_enSunday[i] == true && sel_enMonday[i] == true && sel_enTuesday[i] == true && sel_enWednesday[i] == true && 
            sel_enThursday[i] == true && sel_enFriday[i] == true && sel_enSaturday[i] == true)
        {
            $("input[name='isEveryDay']")[0].checked = true;
        }
        else 
        {
            $("input[name='isEveryDay']")[1].checked = true;
            fillout_weekdays_checkbox(freq);          
        }
        
        if ($('[name=smartConnectEnable]').val() == "true") {
            $.postForm('wlanSchedule', $('#target_sche'), 'cgi-bin/rex_cgi', 'wlanSchedule_postForm_callback');
        }
        else {
            $.postForm('wlanSchedule', $('#target_sche'), 'cgi-bin/rex_cgi');
        }
    }
    
    function onClick_SelRule(index, radio, starttime, endtime, enSunday, enMonday, enTuesday, enWednesday, enThursday, enFriday, enSaturday)
    {
        var i;
        
        if (radio == "2G") {
            i = 0;
        }
        else if (radio == "5G") {
            i = 1;
        }
        else if (radio == "6G") {
            i = 2;
        }
        
        /* For clicking Edit button can show the rule parameter on form 'target_sche', save the parameters of the select rule as global var for Edit button. */
        sel_index[i] = index;
        sel_radio[i] = radio;
        sel_starttime[i] = starttime;
        sel_endtime[i] = endtime;
        sel_enSunday[i] = Boolean(Number(enSunday));
        sel_enMonday[i] = Boolean(Number(enMonday));
        sel_enTuesday[i] = Boolean(Number(enTuesday));
        sel_enWednesday[i] = Boolean(Number(enWednesday));
        sel_enThursday[i] = Boolean(Number(enThursday));
        sel_enFriday[i] = Boolean(Number(enFriday));
        sel_enSaturday[i] = Boolean(Number(enSaturday));
    }
    
    function onClick_isEveryDay()
    {
        var isEveryDay = $("input[name='isEveryDay']:checked").val();
        
        if (isEveryDay == "true") {
            greyout_weekdays_checkbox(true);
        }
        else {
            greyout_weekdays_checkbox(false);
            //while change isEveryDay from true to false, check all checkbox of days by default
            $('[name=isSunday]')[0].checked = true;
            $('[name=isSunday]').val(true);
            $('[name=isMonday]')[0].checked = true;
            $('[name=isMonday]').val(true);
            $('[name=isTuesday]')[0].checked = true;
            $('[name=isTuesday]').val(true);
            $('[name=isWednesday]')[0].checked = true;
            $('[name=isWednesday]').val(true);
            $('[name=isThursday]')[0].checked = true;
            $('[name=isThursday]').val(true);
            $('[name=isFriday]')[0].checked = true;
            $('[name=isFriday]').val(true);
            $('[name=isSaturday]')[0].checked = true;
            $('[name=isSaturday]').val(true);
        }
    }
    
    function fillout_weekdays_checkbox(freq)
    {
        var i;
        if (freq == "2G") {
            i = 0;
        } 
        else if (freq == "5G") {
            i = 1;
        }
        else if (freq == "6G") {
            i = 2;
        }

        $('[name=isSunday]')[0].checked = sel_enSunday[i];
        $('[name=isSunday]').val(sel_enSunday[i]);
        $('[name=isMonday]')[0].checked = sel_enMonday[i];
        $('[name=isMonday]').val(sel_enMonday[i]);
        $('[name=isTuesday]')[0].checked = sel_enTuesday[i];
        $('[name=isTuesday]').val(sel_enTuesday[i]);
        $('[name=isWednesday]')[0].checked = sel_enWednesday[i];
        $('[name=isWednesday]').val(sel_enWednesday[i]);
        $('[name=isThursday]')[0].checked = sel_enThursday[i];
        $('[name=isThursday]').val(sel_enThursday[i]);
        $('[name=isFriday]')[0].checked = sel_enFriday[i];
        $('[name=isFriday]').val(sel_enFriday[i]);
        $('[name=isSaturday]')[0].checked = sel_enSaturday[i];
        $('[name=isSaturday]').val(sel_enSaturday[i]); 
    }
    
    function daysCheckedCount()
    {
        var count = 0;
        if($('[name=isSunday]').val() == "true") {
            count++;
        }
        if($('[name=isMonday]').val() == "true") {
            count++;
        }
        if($('[name=isTuesday]').val() == "true") {
            count++;
        }
        if($('[name=isWednesday]').val() == "true") {
            count++;
        }
        if($('[name=isThursday]').val() == "true") {
            count++;
        }
        if($('[name=isFriday]').val() == "true") {
            count++;
        }
        if($('[name=isSaturday]').val() == "true") {
            count++;
        }
        
        return count;
    }
  </script>

  <link href="css/custom.css" rel="stylesheet" type="text/css">
</head>

<script language="javascript" type="text/javascript">
    $(document).ready(function()
    {
        fetchData('target', 'wirelessAdv', 'pre_fillout_init', 'post_fillout_init');

        $("[name='apply']").on('click', function() {
            fetchData('target', 'wpsCheck', '', 'afterCheckWps');
        });

        $("[name='apply_sch']").on('click', function() {
            fetchData('targets', 'wpsCheck', '', 'afterCheckWpsForSchedule');
        })
    });

    function afterCheckWps()
    {
        if($("[name='wps_status']").val() == "on")
        {
            alert(window.top.mlang["AWCE03"]);
            return false;
        }
        else
        {
            formSubmit();
        }
    }

    function afterCheckWpsForSchedule()
    {
        if($("[name='wps_status']").val() == "on")
        {
            alert(window.top.mlang["AWCE03"]);
            return false;
        }
        else
        {
            formSubmit_sche();
        }
    }
</script>
<body onload="window.top.change_size($(this));loadhelp('WLG_wireless_adv','');" class="page-body" onResize="window.top.change_size($(this));">
  <form id="target"  name="formname" method="POST" >
  <div class="page-header" style="position: relative;" mlang="LUP009">Wireless Settings</div>
  <input type="hidden" name="buttonHit">
  <input type="hidden" name="buttonValue">

  <div id="main" class="form-group" style="overflow:auto;scrolling:auto">

    <div id="2G_title" class="form-row">
      <a href="javascript:loadhelp('WLG_wireless_adv','settings')" tabindex="-1"><b mlang="PCVP_101" >Wireless Advanced Settings</b><b> (2.4GHz b/g/n/ax)</b></a>
    </div>
    
    <div id="2G_5G_combine_title" class="form-row" style="display:none;">
      <a href="javascript:loadhelp('WLG_wireless_adv','settings')" tabindex="-1"><b mlang="PCVP_101" >Wireless Advanced Settings</b><b> (2.4GHz b/g/n/ax & 5GHz a/n/ac/ax)</b></a>
    </div>
    
    
    <!-- 2.4G section -->
    <div class="form-row WifiBtn_element">
      <label class="checkbox-container">
        <span mlang="AAW007">Enable Wireless Router Radio</span>
        <input type="checkbox" name="2GRadioOn" id="enable_ap" value="true">
        <!-- need to register onChange function -->
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    
    <div class="form-row">
      <b mlang="AAW013" >CTS/RTS Threshold (1-2347)</b>
    </div>
    
    <div class="form-row">
        <input type="text" name="2GCtsRts" class="input1" id="rts" size="20" maxlength="32" value="">
    </div>
    
    <div class="form-row">
      <b mlang="AAW004" >Preamble Mode</b>
    </div>

    <!--PEGA JYang, sync two select list for Netgear GUI automation id (dirty solution)-->
    <div class="form-row" style="display:none">
      <select name="2GPreamble" id="enableShortPreamble" size=1>
        <option value="0" selected mlang="AAW005" >Long Preamble</option>
        <option value="1" mlang="AAW006" >Short Preamble</option>
      </select>
    </div>
    <div class="form-row">
      <select id="enable_short_preamble" size=1>
        <option value="Long Preamble" selected mlang="AAW005" >Long Preamble</option>
        <option value="Short Preamble" mlang="AAW006" >Short Preamble</option>
      </select>
    </div>

    <div class="form-row" id="2GWifiSchedule_checkbox">
      <label class="checkbox-container">
        <span mlang="AAW020">Turn off wireless signal by schedule</span>
        <input type="checkbox" name="2GWifiSchedule" id="wifi_sche_div1" value="true">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    
    <div>
      <b mlang="AAW021">The wireless signal is scheduled to turn off during the following time period:</b>
    </div>
    
    <div class="form-row">
      <table class="sortable tbWhite" name="2GSchedule_table" id="schedule_bgn_table" border="1" cellpadding="2" cellspacing="0" width="100%">
        <tr class="table_header">
          <td nowrap align="center" width="10%">
            <span class="subheadtext" mlang="ATM028" >Period</span>
          </td>
          <td nowrap align="center" width="20%">
            <span class="subheadtext" mlang="AAW022" >Start</span>
          </td>
          <td nowrap align="center" width="20%">
            <span class="subheadtext" mlang="AAW023" >"End</span>
          </td>
          <td nowrap align="center" width="50%">
            <span class="subheadtext" mlang="AAW024" >Recurrence Pattern</span>
          </td>
        </tr>
      </table>
    </div>
    
    <div class="form-row">
      <td colspan="2" align="center">
        <button type="button" value="add" id="add_sche" name="add_sche_2g" class="button-sty1" mlang="AAW025">Add a new period</button>
        <button type="button" value="edit" id="edit_sche" name="edit_sche_2g" class="button-sty1" mlang="UAS011">Edit</button>
        <button type="button" value="delete" id="del_sche" name="del_sche_2g" class="button-sty1"  mlang="UAS013">Delete</button>
      </td>
    </div>
    <!-- 2.4G section End -->
    
    <div class="divider">&nbsp;</div>
    
    <!-- 5G section -->
    <div id="5G_section">
      <div class="form-row">
        <a href="javascript:loadhelp('WLG_wireless_adv','settings')" tabindex="-1"><b mlang="PCVP_101" >Wireless Advanced Settings</b><b> (5GHz a/n/ac/ax)</b></a>
      </div>
    
      <div class="form-row WifiBtn_element">
        <label class="checkbox-container">
          <span mlang="AAW007">Enable Wireless Router Radio</span>
          <input type="checkbox" name="5GRadioOn" id="enable_ap_an" value="true">
          <!-- need to register onChange function -->
          <span class="checkbox-checkmark"></span>
        </label>
      </div>

    <div class="form-row">
      <b mlang="AAW013" >CTS/RTS Threshold (1-2347)</b>
    </div>
    
    <div class="form-row">
        <input type="text" name="5GCtsRts" class="input1" id="rts_an" size="20" maxlength="32" value="">
    </div>

      <div class="form-row">
        <b mlang="AAW004" >Preamble Mode</b>
      </div>

        <!--PEGA JYang, sync two select list for Netgear GUI automation id (dirty solution)-->
        <div class="form-row" style="display:none">
          <select name="5GPreamble" id="enableShortPreambleAn" size=1>
            <option value="0" selected mlang="AAW005" >Long Preamble</option>
            <option value="1" mlang="AAW006" >Short Preamble</option>
          </select>
        </div>
        <div class="form-row">
          <select id="enable_short_preamble_an" size=1>
            <option value="Long Preamble" selected mlang="AAW005" >Long Preamble</option>
            <option value="Short Preamble" mlang="AAW006" >Short Preamble</option>
          </select>
        </div>

      <div class="form-row" id="5GWifiSchedule_checkbox">
        <label class="checkbox-container">
          <span mlang="AAW020">Turn off wireless signal by schedule</span>
          <input type="checkbox" name="5GWifiSchedule" id="wifi_5g_sche_div1" value="true">
          <span class="checkbox-checkmark"></span>
        </label>
      </div>

      <div>
        <b mlang="AAW021">The wireless signal is scheduled to turn off during the following time period:</b>
      </div>
    
      <div class="form-row">
        <table class="sortable tbWhite" name="5GSchedule_table" id="schedule_an_table" border="1" cellpadding="2" cellspacing="0" width="100%">
          <tr class="table_header">
            <td nowrap align="center" width="10%">
              <span class="subheadtext" mlang="ATM028" >Period</span>
            </td>
            <td nowrap align="center" width="20%">
              <span class="subheadtext" mlang="AAW022" >Start</span>
            </td>
            <td nowrap align="center" width="20%">
              <span class="subheadtext" mlang="AAW023" >"End</span>
            </td>
            <td nowrap align="center" width="50%">
              <span class="subheadtext" mlang="AAW024" >Recurrence Pattern</span>
            </td>
          </tr>
        </table>
      </div>
    
      <div class="form-row">
        <td colspan="2" align="center">
          <button type="button" value="add" id="add_sche_an" name="add_sche_5g" class="button-sty1" mlang="AAW025">Add a new period</button>
          <button type="button" value="edit" id="edit_sche_an" name="edit_sche_5g" class="button-sty1" mlang="UAS011">Edit</button>
          <button type="button" value="delete" id="del_sche_an" name="del_sche_5g" class="button-sty1" mlang="UAS013">Delete</button>
        </td>
      </div>
    </div>
    <!-- 5G section End -->

    <div class="divider">&nbsp;</div>

    <!-- 5G-hi section -->
    <div id="5g_hi_adv_settings" style="display:none">
    <div class="form-row">
      <a href="javascript:loadhelp('WLG_wireless_adv','settings')" tabindex="-1"><b mlang="PCVP_101" >Wireless Advanced Settings</b><b> (5GHz-2 a/n/ac/ax)</b></a>
    </div>
    
    <div class="form-row">
      <label class="checkbox-container">
        <span mlang="AAW007">Enable Wireless Router Radio</span>
        <input type="checkbox" name="5G1RadioOn" id="5G1RadioOn" value="true">
        <!-- need to register onChange function -->
        <span class="checkbox-checkmark"></span>
      </label>
    </div>

    <div class="form-row">
      <b mlang="AAW004" >Preamble Mode</b>
    </div>

    <div class="form-row">
      <select name="5G1Preamble" id="5G1Preamble" size=1>
        <option value="0" selected mlang="AAW005" >Long Preamble</option>
        <option value="1" mlang="AAW006" >Short Preamble</option>
      </select>
    </div>

    <div class="form-row">
      <label class="checkbox-container">
        <span mlang="AAW020">Turn off wireless signal by schedule</span>
        <input type="checkbox" name="5G1WifiSchedule" id="5G1WifiSchedule" value="true">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>

    <div>
      <b mlang="AAW021">The wireless signal is scheduled to turn off during the following time period:</b>
    </div>
    
    <div class="form-row">
      <table class="sortable tbWhite" name="5G1Schedule_table" id="5G1Schedule_table" border="1" cellpadding="2" cellspacing="0" width="100%">
        <tr class="table_header">
          <td nowrap align="center" width="10%">
            <span class="subheadtext" mlang="ATM028" >Period</span>
          </td>
          <td nowrap align="center" width="20%">
            <span class="subheadtext" mlang="AAW022" >Start</span>
          </td>
          <td nowrap align="center" width="20%">
            <span class="subheadtext" mlang="AAW023" >"End</span>
          </td>
          <td nowrap align="center" width="50%">
            <span class="subheadtext" mlang="AAW024" >Recurrence Pattern</span>
          </td>
        </tr>
      </table>
    </div>
    
    <div class="form-row">
      <td colspan="2" align="center">
        <button type="button" value="add" id="add_sche_5g1" name="add_sche_5g1" class="button-sty1" mlang="AAW025">Add a new period</button>
        <button type="button" value="edit" id="edit_sche_5g1" name="edit_sche_5g1" class="button-sty1" mlang="UAS011">Edit</button>
        <button type="button" value="delete" id="del_sche_5g1" name="del_sche_5g1" class="button-sty1" mlang="UAS013">Delete</button>
      </td>
    </div>
    </div>
    <!-- 5G-hi section End -->

    <!-- 6G section -->
    <div id="6G_section">
      <div class="form-row">
        <a href="javascript:loadhelp('WLG_wireless_adv','settings')" tabindex="-1"><b mlang="PCVP_101" >Wireless Advanced Settings</b><b> (6GHz a/n/ac/ax)</b></a>
      </div>
    
      <div class="form-row WifiBtn_element">
        <label class="checkbox-container">
          <span mlang="AAW007">Enable Wireless Router Radio</span>
          <input type="checkbox" name="6GRadioOn" id="enable_ap_6g" value="true">
          <!-- need to register onChange function -->
          <span class="checkbox-checkmark"></span>
        </label>
      </div>

    <div class="form-row">
      <b mlang="AAW013" >CTS/RTS Threshold (1-2347)</b>
    </div>
    
    <div class="form-row">
        <input type="text" name="6GCtsRts" class="input1" id="rts_6g" size="20" maxlength="32" value="">
    </div>

      <div class="form-row">
        <b mlang="AAW004" >Preamble Mode</b>
      </div>

        <!--PEGA JYang, sync two select list for Netgear GUI automation id (dirty solution)-->
        <div class="form-row" style="display:none">
          <select name="6GPreamble" id="enableShortPreamble6G" size=1>
            <option value="0" selected mlang="AAW005" >Long Preamble</option>
            <option value="1" mlang="AAW006" >Short Preamble</option>
          </select>
        </div>
        <div class="form-row">
          <select id="enable_short_preamble_6g" size=1>
            <option value="Long Preamble" selected mlang="AAW005" >Long Preamble</option>
            <option value="Short Preamble" mlang="AAW006" >Short Preamble</option>
          </select>
        </div>

      <div class="form-row" id="6GWifiSchedule_checkbox">
        <label class="checkbox-container">
          <span mlang="AAW020">Turn off wireless signal by schedule</span>
          <input type="checkbox" name="6GWifiSchedule" id="wifi_6g_sche_div1" value="true">
          <span class="checkbox-checkmark"></span>
        </label>
      </div>

      <div>
        <b mlang="AAW021">The wireless signal is scheduled to turn off during the following time period:</b>
      </div>
    
      <div class="form-row">
        <table class="sortable tbWhite" name="6GSchedule_table" id="schedule_6g_table" border="1" cellpadding="2" cellspacing="0" width="100%">
          <tr class="table_header">
            <td nowrap align="center" width="10%">
              <span class="subheadtext" mlang="ATM028" >Period</span>
            </td>
            <td nowrap align="center" width="20%">
              <span class="subheadtext" mlang="AAW022" >Start</span>
            </td>
            <td nowrap align="center" width="20%">
              <span class="subheadtext" mlang="AAW023" >"End</span>
            </td>
            <td nowrap align="center" width="50%">
              <span class="subheadtext" mlang="AAW024" >Recurrence Pattern</span>
            </td>
          </tr>
        </table>
      </div>
    
      <div class="form-row">
        <td colspan="2" align="center">
          <button type="button" value="add" id="add_sche_6g" name="add_sche_6g" class="button-sty1" mlang="AAW025">Add a new period</button>
          <button type="button" value="edit" id="edit_sche_6g" name="edit_sche_6g" class="button-sty1" mlang="UAS011">Edit</button>
          <button type="button" value="delete" id="del_sche_6g" name="del_sche_6g" class="button-sty1" mlang="UAS013">Delete</button>
        </td>
      </div>
    </div>
    <!-- 6G section End -->

    <!-- <div class="divider">&nbsp;</div> -->
    
    <tr><td colspan="2" height="12"><div style="background-image:url('images/seprator.gif');width:100%;background-repeat:repeat-x;">&nbsp;</div></td></tr>
    
    <!-- WPS section -->
    <div id="wps_settings" style="display:none">
    <div class="form-row">
        <b mlang="AAW014">WPS Settings</b>
    </div>
    
    <div class="form-row">
        <span mlang="AAW011">Router's PIN</span><span>:</span>
    </div>
    <div class="form-row">
        <b><span name="wpsPin"></span></b>         
    </div>
 
    <div class="form-row">
      <label class="checkbox-container">
        <span mlang="AAW009">Enable Router's PIN</span>
        <input type="checkbox" name="wpsPinEnabled" id="wpsPinEnabled" value="true">
        <!-- need to register onChange function -->
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    
    <div class="form-row" id="wps-pin-display">
      <label class="checkbox-container">
        <span mlang="AAW034">To prevent PIN compromise, auto disable the PIN after</span>
        <input type="checkbox" name="wpsAutoDisablePin" id="wpsAutoDisablePin" value="true">
        <!-- need to register onChange function -->

        <input type="text" name="wpsNumOfFailedPin" id="wpsNumOfFailedPin" size="2" maxlength="2" style="width:20px; opacity: 1;">
        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp</span>
        <span mlang="AAW035">failed PIN connections, until router reboots.</span>
        <span mlang="AAW036">In auto disabled mode, router's WPS LED will keep blinking slowly</span>
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    
    <div class="form-row">
      <label class="checkbox-container">
        <span mlang="AAW010">Keep Existing Wireless Settings</span><span> (2.4GHz b/g/n/ax)</span>
        <input type="checkbox" name="wpsKeepSetting2G" id="wpsKeepSetting2G" value="true">
        <!-- need to register onChange function -->
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    
    <div class="form-row">
      <label class="checkbox-container">
        <span mlang="AAW010" >Keep Existing Wireless Settings</span><span> (5GHz a/n/ac/ax)</span>
        <input type="checkbox" name="wpsKeepSetting5G" id="wpsKeepSetting5G" value="true">
        <!-- need to register onChange function -->
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    
    <div class="form-row">
      <label class="checkbox-container">
        <span mlang="AAW010" >Keep Existing Wireless Settings</span><span> (5GHz-Hi a/n/ac/ax)</span>
        <input type="checkbox" name="wpsKeepSetting5G1" id="wpsKeepSetting5G1" value="true">
        <!-- need to register onChange function -->
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    <tr><td colspan="2" height="12"><div style="background-image:url('images/seprator.gif');width:100%;background-repeat:repeat-x;">&nbsp;</div></td></tr>
    </div>
    <!-- WPS section End -->

    <div class="form-row" id="enableBeamforming_checkbox">
      <label class="checkbox-container">
        <span mlang="AAW048">Enable Implicit BEAMFORMING - Boosts WiFi speed, reliability, & range for all mobile devices</span>
        <input type="checkbox" name="enableBeamforming" id="enable_tx_beamforming" value="true">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>

    <div class="form-row">
      <label class="checkbox-container">
        <span mlang="AAWH16">Enable MU-MIMO</span>
        <input type="checkbox" name="enableMuMimo" id="enable_mu_che" value="true">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>

    <div class="form-row">
      <label class="checkbox-container">
        <span mlang="PCVP_108" >Disable PMF</span><span> (2.4 GHz/5 GHz)</span>
        <input type="checkbox" name="disablePMF" id="disable_pmf" value="true">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>

    <div class="form-row">
      <label class="checkbox-container">
        <span mlang="WL6G_008" >Enable WPA3 H2E only in 6GHz band</span>
        <input type="checkbox" name="enable6GWpa3H2eOnly" id="enable6GWpa3H2eOnly" value="true">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>

    <div class="form-row" style="display: none;">
      <label class="checkbox-container">
        <span mlang="AAW047">Enable AIRTIME FAIRNESS - Prevent network lag when slower devices connect</span>
        <input type="checkbox" name="enable_atf" id="enable_atf" value="true">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    

    
    <div class="form-row">
    <input type="hidden" id="2GFragLength" name="2GFragLength" value="">
    <input type="hidden" id="5GFragLength" name="5GFragLength" value="">
<!--
    <input type="hidden" id="5G1FragLength" name="5G1FragLength" value="">
    <input type="hidden" id="5G1CtsRts" name="5G1CtsRts" value="">
-->
    <input type="hidden" id="6GFragLength" name="6GFragLength" value="">
    <input type="hidden" id="enableAX" name="enableAX" value="">
    <!--input value not for post, only for readonly, so disabled it-->
    <input type="hidden" name="WifiBtnEnable" disabled>
    <input type="hidden" name="smartConnectEnable" disabled>
    <input type="hidden" name="2GSecurity" disabled>
    <input type="hidden" name="5GSecurity" disabled>
    <input type="hidden" name="6GSecurity" disabled>
    <input type="hidden" name="wps_status" disabled>
    </div>
    
    
  </div>
  

  <div class="form-btn-row" id="form_btn_div">
    <button type="button" value="BUTTON"  onClick="location.href='WLG_wireless_adv.html';" name="Cancel" id="cancel" class="button-cancel cancel_bt" mlang="UAS021">Cancel</button>
    <button type="button" value="apply" name="apply" id="apply" class="button-apply apply_bt" mlang="LUP004" >Apply</button>
  </div>
  </form>
  
  <!-- Form for add/edit schedule rule -->
  <form id="target_sche"  name="formname_sch" method="POST" style="display: none;">
  <div class="page-header" style="position: relative;" mlang="AAW020">Turn off wireless signal by schedule</div>
  <div id="main1" class="form-group" style="overflow:auto;scrolling:auto">
    
    <div class="form-row pb-30">
      <b mlang="AAW026">When to turn off wireless signal</b>
    </div>

    <div class="form-row pb-10">
      <span mlang="AAW022">Start</span><span>:</span>
    </div>
    
    <div class="form-row">
      <select id="start_time">
        <option value="0" selected>00:00</option>
        <option value="1">00:30</option>
        <option value="2">01:00</option>
        <option value="3">01:30</option>
        <option value="4">02:00</option>
        <option value="5">02:30</option>
        <option value="6">03:00</option>
        <option value="7">03:30</option>
        <option value="8">04:00</option>
        <option value="9">04:30</option>
        <option value="10">05:00</option>
        <option value="11">05:30</option>
        <option value="12">06:00</option>
        <option value="13">06:30</option>
        <option value="14">07:00</option>
        <option value="15">07:30</option>
        <option value="16">08:00</option>
        <option value="17">08:30</option>
        <option value="18">09:00</option>
        <option value="19">09:30</option>
        <option value="20">10:00</option>
        <option value="21">10:30</option>
        <option value="22">11:00</option>
        <option value="23">11:30</option>
        <option value="24">12:00</option>
        <option value="25">12:30</option>
        <option value="26">13:00</option>
        <option value="27">13:30</option>
        <option value="28">14:00</option>
        <option value="29">14:30</option>
        <option value="30">15:00</option>
        <option value="31">15:30</option>
        <option value="32">16:00</option>
        <option value="33">16:30</option>
        <option value="34">17:00</option>
        <option value="35">17:30</option>
        <option value="36">18:00</option>
        <option value="37">18:30</option>
        <option value="38">19:00</option>
        <option value="39">19:30</option>
        <option value="40">20:00</option>
        <option value="41">20:30</option>
        <option value="42">21:00</option>
        <option value="43">21:30</option>
        <option value="44">22:00</option>
        <option value="45">22:30</option>
        <option value="46">23:00</option>
        <option value="47">23:30</option>
      </select>
    </div>
    <div class="form-row" style="display:none">
      <select name="startTime" id="start_Time">
        <option value="00:00" selected>00:00</option>
        <option value="00:30">00:30</option>
        <option value="01:00">01:00</option>
        <option value="01:30">01:30</option>
        <option value="02:00">02:00</option>
        <option value="02:30">02:30</option>
        <option value="03:00">03:00</option>
        <option value="03:30">03:30</option>
        <option value="04:00">04:00</option>
        <option value="04:30">04:30</option>
        <option value="05:00">05:00</option>
        <option value="05:30">05:30</option>
        <option value="06:00">06:00</option>
        <option value="06:30">06:30</option>
        <option value="07:00">07:00</option>
        <option value="07:30">07:30</option>
        <option value="08:00">08:00</option>
        <option value="08:30">08:30</option>
        <option value="09:00">09:00</option>
        <option value="09:30">09:30</option>
        <option value="10:00">10:00</option>
        <option value="10:30">10:30</option>
        <option value="11:00">11:00</option>
        <option value="11:30">11:30</option>
        <option value="12:00">12:00</option>
        <option value="12:30">12:30</option>
        <option value="13:00">13:00</option>
        <option value="13:30">13:30</option>
        <option value="14:00">14:00</option>
        <option value="14:30">14:30</option>
        <option value="15:00">15:00</option>
        <option value="15:30">15:30</option>
        <option value="16:00">16:00</option>
        <option value="16:30">16:30</option>
        <option value="17:00">17:00</option>
        <option value="17:30">17:30</option>
        <option value="18:00">18:00</option>
        <option value="18:30">18:30</option>
        <option value="19:00">19:00</option>
        <option value="19:30">19:30</option>
        <option value="20:00">20:00</option>
        <option value="20:30">20:30</option>
        <option value="21:00">21:00</option>
        <option value="21:30">21:30</option>
        <option value="22:00">22:00</option>
        <option value="22:30">22:30</option>
        <option value="23:00">23:00</option>
        <option value="23:30">23:30</option>
      </select>
    </div>
    
    <div class="form-row pb-20">
      <span mlang="AAW023">End</span><span>:</span>
    </div>

    <div class="form-row">
      <select id="end_time">
        <option value="0" selected>00:00</option>
        <option value="1">00:30</option>
        <option value="2">01:00</option>
        <option value="3">01:30</option>
        <option value="4">02:00</option>
        <option value="5">02:30</option>
        <option value="6">03:00</option>
        <option value="7">03:30</option>
        <option value="8">04:00</option>
        <option value="9">04:30</option>
        <option value="10">05:00</option>
        <option value="11">05:30</option>
        <option value="12">06:00</option>
        <option value="13">06:30</option>
        <option value="14">07:00</option>
        <option value="15">07:30</option>
        <option value="16">08:00</option>
        <option value="17">08:30</option>
        <option value="18">09:00</option>
        <option value="19">09:30</option>
        <option value="20">10:00</option>
        <option value="21">10:30</option>
        <option value="22">11:00</option>
        <option value="23">11:30</option>
        <option value="24">12:00</option>
        <option value="25">12:30</option>
        <option value="26">13:00</option>
        <option value="27">13:30</option>
        <option value="28">14:00</option>
        <option value="29">14:30</option>
        <option value="30">15:00</option>
        <option value="31">15:30</option>
        <option value="32">16:00</option>
        <option value="33">16:30</option>
        <option value="34">17:00</option>
        <option value="35">17:30</option>
        <option value="36">18:00</option>
        <option value="37">18:30</option>
        <option value="38">19:00</option>
        <option value="39">19:30</option>
        <option value="40">20:00</option>
        <option value="41">20:30</option>
        <option value="42">21:00</option>
        <option value="43">21:30</option>
        <option value="44">22:00</option>
        <option value="45">22:30</option>
        <option value="46">23:00</option>
        <option value="47">23:30</option>
      </select>
    </div>
    <div class="form-row" style="display:none">
      <select name="endTime" id="end_Time" >
        <option value="00:00" selected>00:00</option>
        <option value="00:30">00:30</option>
        <option value="01:00">01:00</option>
        <option value="01:30">01:30</option>
        <option value="02:00">02:00</option>
        <option value="02:30">02:30</option>
        <option value="03:00">03:00</option>
        <option value="03:30">03:30</option>
        <option value="04:00">04:00</option>
        <option value="04:30">04:30</option>
        <option value="05:00">05:00</option>
        <option value="05:30">05:30</option>
        <option value="06:00">06:00</option>
        <option value="06:30">06:30</option>
        <option value="07:00">07:00</option>
        <option value="07:30">07:30</option>
        <option value="08:00">08:00</option>
        <option value="08:30">08:30</option>
        <option value="09:00">09:00</option>
        <option value="09:30">09:30</option>
        <option value="10:00">10:00</option>
        <option value="10:30">10:30</option>
        <option value="11:00">11:00</option>
        <option value="11:30">11:30</option>
        <option value="12:00">12:00</option>
        <option value="12:30">12:30</option>
        <option value="13:00">13:00</option>
        <option value="13:30">13:30</option>
        <option value="14:00">14:00</option>
        <option value="14:30">14:30</option>
        <option value="15:00">15:00</option>
        <option value="15:30">15:30</option>
        <option value="16:00">16:00</option>
        <option value="16:30">16:30</option>
        <option value="17:00">17:00</option>
        <option value="17:30">17:30</option>
        <option value="18:00">18:00</option>
        <option value="18:30">18:30</option>
        <option value="19:00">19:00</option>
        <option value="19:30">19:30</option>
        <option value="20:00">20:00</option>
        <option value="20:30">20:30</option>
        <option value="21:00">21:00</option>
        <option value="21:30">21:30</option>
        <option value="22:00">22:00</option>
        <option value="22:30">22:30</option>
        <option value="23:00">23:00</option>
        <option value="23:30">23:30</option>
      </select>
    </div>

    <div class="form-row pb-20">
      <span mlang="AAW024">Recurrence Pattern</span><span>:</span>
    </div>

    <div class="form-row">
      <label class="checkbox-container" ><div mlang="CEM004">Daily</div>
        <input type="radio" name="isEveryDay" id="schedule_daily" value="true">
        <span class="radio-checkmark"></span>
      </label>
    </div>
    
    <div class="form-row">
      <label class="checkbox-container" ><div mlang="AAW027">Select Days</div>
        <input type="radio" name="isEveryDay" id="schedule_select" value="false">
        <span class="radio-checkmark"></span>
      </label>
    </div>
    
    <div class="form-row pl-30 weekdays">
      <label class="checkbox-container">
        <span mlang="CSE012" >Sunday</span>
        <input type="checkbox" name="isSunday" id="cbox_sunday" value="false">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    <div class="form-row pl-30 weekdays">
      <label class="checkbox-container">
        <span mlang="CSE009" >Monday</span>
        <input type="checkbox" name="isMonday" id="cbox_monday" value="false">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    <div class="form-row pl-30 weekdays">
      <label class="checkbox-container">
        <span mlang="CSE015" >Tuesday</span>
        <input type="checkbox" name="isTuesday" id="cbox_tuesday" value="false">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    <div class="form-row pl-30 weekdays">
      <label class="checkbox-container">
        <span mlang="CSE016" >Wednesday</span>
        <input type="checkbox" name="isWednesday" id="cbox_wednesday" value="false">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    <div class="form-row pl-30 weekdays">
      <label class="checkbox-container">
        <span mlang="CSE013" >Thursday</span>
        <input type="checkbox" name="isThursday" id="cbox_thursday" value="false">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    <div class="form-row pl-30 weekdays">
      <label class="checkbox-container">
        <span mlang="CSE006" >Friday</span>
        <input type="checkbox" name="isFriday" id="cbox_friday" value="false">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>
    <div class="form-row pl-30 weekdays">
      <label class="checkbox-container">
        <span mlang="CSE010" >Saturday</span>
        <input type="checkbox" name="isSaturday" id="cbox_saturday" value="false">
        <span class="checkbox-checkmark"></span>
      </label>
    </div>


  </div>
    <div class="form-btn-row" id="form_btn_div_sch">
      <button type="button" value="BUTTON"  onClick="location.href='WLG_wireless_adv.html';" name="Cancel_sch" id="cancel" class="button-cancel cancel_bt" mlang="UAS021">Cancel</button>
      <button type="button" value="apply" name="apply_sch" id="apply" class="button-apply apply_bt" mlang="LUP004" >Apply</button>
    </div>

  <input type="hidden" name="action" value="">
  <input type="hidden" name="wlanRadio" value="">
  <input type="hidden" name="index" value="1">
  
  
  </form>
  <? genHelpSection()?>
  <? generate_EmbedProgressBar()?>
</html>
