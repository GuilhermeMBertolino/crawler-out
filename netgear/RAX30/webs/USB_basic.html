<!DOCTYPE HTML>
<? include 'php/commonCfg.php';?>
<html>
<head>
  <META charset="UTF-8">
  <META http-equiv="Pragma" content="no-cache">
  <META HTTP-equiv="Cache-Control" content="no-cache">
  <META HTTP-EQUIV="Expires" CONTENT="Mon, 06 Jan 1990 00:00:01 GMT">

  <title>NETGEAR Router <?= getModelNameStr()?></title>

  <link rel="stylesheet" type="text/css" href="css/table_noh.css">
  <link rel="stylesheet" type="text/css" href="css/scrollbar.css">
  <link rel="stylesheet" type="text/css" href="css/button.css">
  <link rel="stylesheet" type="text/css" href="css/form.css">
  <link rel="stylesheet" type="text/css" href="css/settings.css<? getVer(); ?>">
  <link rel="stylesheet" type="text/css" href="css/custom.css" >

  <script src="js/jquery.min.js"></script>
  <script src="js/jquery.mousewheel.js"></script>
  <script src="js/jquery.jscrollpane.min.js"></script>
  <script src="js/utils.js<? getVer(); ?>"></script>
  <script src="js/validations.js<? getVer(); ?>"></script>
  
  
  <script language="javascript" type="text/javascript">
    CSRF_TOKEN = <?= genCsrfTokenFilePhp('tokenNumber')?>;

    function removeTableRow()
    {
        $(".table_row").remove();  
    }

    function toggleRemoveUsbButton()
    {
        if($("#available_folder .table_row").length < 1)
        {
            $("#safely_remove").css("pointer-events", "none");
            $("#safely_remove").css("opacity", "0.5");
            $("#safely_remove").prop("disabled", true);
        }
        else
        {
            $("#safely_remove").css("pointer-events", "");
            $("#safely_remove").css("opacity", "");
            $("#safely_remove").prop("disabled", false);
        }
    }

    function preRefresh()
    {
        removeTableRow();
    }

    function postRefresh()
    {
        toggleRemoveUsbButton();
    }

    function refreshAvailableFolderTable()
    {
        var new_tr = '<tr class="table_row">\r\n\
                        <td align=\"center\" nowrap=\"nowrap\">\r\n\
                          <span style=\"padding-left:3px;\">__shareName</span>\r\n\
                        </td>\r\n\
                        <td id=\"USB_NO_PASSWD\" align=\"center\" nowrap=\"nowrap\">\r\n\
                        <span style=\"padding-left:3px;\">__readText</span>\r\n\
                        </td>\r\n\
                        <input name=\"USB_NO_PASSWD\" type=\"hidden\" value=\"0\" disabled>\r\n\
                        <td id=\"USB_NO_PASSWD\" align=\"center\" nowrap=\"nowrap\">\r\n\
                          <span style=\"padding-left:3px;\">__writeText</span>\r\n\
                        </td>\r\n\
                        <input name=\"USB_NO_PASSWD\" type=\"hidden\" value=\"0\" disabled>\r\n\
                        <td align=\"center\" nowrap=\"nowrap\" name=\"folderName\">\r\n\
                          <span style=\"padding-left:3px;\">__folderName</span>\r\n\
                        </td>\r\n\
                        <td align=\"center\" nowrap=\"nowrap\">\r\n\
                          <span style=\"padding-left:3px;\">__volumeName</span>\r\n\
                        </td>\r\n\
                        <td align=\"center\" nowrap=\"nowrap\">\r\n\
                          <span style=\"padding-left:3px;\">__total</span>\r\n\
                        </td>\r\n\
                        <td align=\"center\" nowrap=\"nowrap\">\r\n\
                          <span style=\"padding-left:3px;\">__free</span>\r\n\
                          <input type=\"hidden\" name=\"disk_name\" value=\"__diskName\" disabled>\r\n\
                        </td>\r\n\
                      </tr>';
        fetchTableData('available_folder', 'usb_available_folder_table', new_tr, 'preRefresh', 'postRefresh');  
    }
    
    function openRemovePage()
    {
      var winoptions = "width=400,height=350,status=yes,resizable=yes";
      openDataSubWin('USB_remove.html',winoptions);
    }

    function postUsbBasic()
    {
        var link = $("#readyshare_link").html();
        $("#readyshare_link").html("\\\\" + link);
    }

    $(document).ready(function() {
        refreshAvailableFolderTable();

        $("#radio_readycloud").on("click", function(){
            window.location.href ="USB_remote.html"
        });

        /*$("#radio_readyshare").on("click", function(){
            window.location.href ="USB_vault.html"
        });*/

        $("[name='Edit']").on("click",function(){
            window.location.href = '/USB_advanced.html';
        });

        $("[name='Remove']").on("click",function(){
            openRemovePage();
        });

        $("[name='Refresh']").on("click",function(){
            refreshAvailableFolderTable();
        });
        
        fetchData('target', 'usb_basic', '', 'postUsbBasic');
    });
  </script>

</head>
<body onload="window.top.change_size($(this));loadhelp('USB_basic','')" class="page-body" onResize="window.top.change_size($(this));">
  <form id="target" name="formname" method="POST" >
      <div class="page-header" style="position: relative;" mlang="UBS001">USB Storage (Basic Settings)</div>
      <div id="main" class="form-group" style=height:400px;overflow:auto;scrolling:auto">
        <div class="form-row ">
          <label class="checkbox-container">
            <span mlang="UBS015">Basic</span>
            <input checked type="radio" name="USB_support" id="radio_basic" value="basic">
            <span class="radio-checkmark"></span>
          </label>
        </div>
        <!--<div class="form-row ">
          <label class="checkbox-container">
            <span mlang="UAS028">ReadyCLOUD (Allows you to access your ReadySHARE storage device from anywhere)</span>
            <input  type="radio" name="USB_support" id="radio_readycloud" value="readycloud">
            <span class="radio-checkmark"></span>
          </label>
        </div>-->
        <!--div class="form-row ">
          <label class="checkbox-container">
            <span mlang="genie_226">ReadySHARE Vault</span>
            <input  type="radio" name="USB_support" id="radio_readyshare" value="readyshare">
            <span class="radio-checkmark"></span>
          </label>
        </div-->
  
        <div class="divider">&nbsp;</div>
  
        <div class="form-row ">
          <a href="javascript:loadhelp('USB_basic','device')" tabindex="-1">
            <b mlang="UBS002">Network/Device Name</b>
          </a>
          &nbsp;&nbsp;&nbsp;&nbsp; <span name="deviceName" id="readyshare_link"></span>
        </div>
  
        <div class="divider">&nbsp;</div>
  
        <div class="form-row ">
          <a href="javascript:loadhelp('USB_basic','available_folder')" tabindex="-1">
            <b mlang="UBS003">Available Network Folders</b>
            </a>
        </div>
  
        <div class="form-row ">
          <table id="available_folder" class="tbWhite" border="1" cellpadding="2" cellspacing="0" width="100%">
  
            <tr class="table_header">
            <td align="center" nowrap="nowrap" width="20%"><span class="thead" mlang="UBS008">Share Name</span></td>
            <td align="center" nowrap="nowrap" width="17%"><span class="thead" mlang="UBS009">Read Access</span></td>
            <td align="center" nowrap="nowrap" width="17%"><span class="thead" mlang="UBS010">Write Access</span></td>
            <td align="center" nowrap="nowrap" width="15%"><span class="thead" mlang="UBS004">Folder Name</span></td>
            <td align="center" nowrap="nowrap" width="5%"><span class="thead" mlang="UBS005">Volume Name</span></td>
            <td align="center" nowrap="nowrap" width="11%"><span class="thead" mlang="UBS006">Total Space</span></td>
            <td align="center" nowrap="nowrap" width="11%"><span class="thead" mlang="UBS007">Free Space</span></td>
            </tr>
  
          </table>
        </div>
  
        <div class="form-row ">
          <button type="button" name="Edit" id="edit" class="button-sty1" mlang="UAS011">Edit</button> 
        </div>
  
        <div class="divider">&nbsp;</div>
  
        <div class="form-row ">
          <button type="button" name="Remove" id="safely_remove" class="new_apply_bt ui-corner-all" style="width: auto"><span style="margin-left: 5px; margin-right: 5px;" mlang="UBS011">Safely Remove USB Device></span></button>
        </div>
  
        <div class="divider">&nbsp;</div>
        <div class="space-divider">&nbsp;</div>
      </div><!--form-group-->
  </form>
  <div class="form-btn-row">
    <button type="button" value="Refresh" name="Refresh" id="refresh" class="button-common common_bt" mlang="UBS012">Refresh</button>
  </div>
  <? genHelpSection() ?> 
</html>
