<!DOCTYPE html>
<html>

<head>
	<title></title>
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="-1">
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<SCRIPT language=Javascript src="<% getInfo("lang");%>"></SCRIPT>
	<script type="text/javascript" src="util_gw.js"> </script>
	<script type="text/javascript" src="macro.js"> </script>
    <STYLE type=text/css> @import url(/customer.css); </STYLE> 
	<style>
		* {
			margin: 0;  
			padding: 0; 
			border: 0;  
			color: #fff;
		}
		.logo{
			margin: 0 auto 10px;
			width: 150px;
		}
		.logo img{
			width: 100%;
		}
		html, body{
			font-family: "Microsoft Yahei","STHeitiSC-Light",  Helvetica, Arial, sans-serif;
			font-size:16px;	
			text-align: center;
			background-color:#00abda;
			margin:0px;
			padding:0px;
		}
		.form {
			width: 350px;
			margin: 0 auto;
			/* padding: 10px; */
			background-color: #35A8CC;
			border-radius: 5px;
		}
		.form div {
			background-color: #fff;
			width: 100%;
			height: 100%;
			padding: 10px;
			box-sizing: border-box;
			border: 1px solid #fff;
			border-radius: 3px;
		}
		input[type="text"],input[type="password"],input[type="submit"],select {
			box-sizing: border-box;
			width: 90%;
			height: 34px;
			padding: 6px 12px;
			margin: 6px;
			font-size: 14px;
			line-height: 1.42857143;
			color: #555;
			background-color: #fff;
			border: 1px solid #9baab7;
			border-radius: 4px;
			box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
			transition: all ease-in-out .15s;
			-webkit-appearance: none;
		}
		input:focus {
			outline: 0;
			border-color: #66afe9;
			box-shadow: inset 0 1px 1px rgba(155,170,183,.075), 0 0 8px rgba(102,175,233,.6);
			outline-offset: -2px;
		}
		input[type="submit"] {
			box-sizing: border-box;
			width: 90%;
			height: 34px;
			padding: 6px 12px;
			margin: 12px;
			font-size: 14px;
			line-height: 1.42857143;
			color: #555;
			background-color: #fff;
			border: 1px solid #9baab7;
			border-radius: 4px;
			box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
		}
		@media screen and (max-width: 900px) {
			.form {
				width: 90%;
				height: auto;
			}
			.form form {
				padding: 0px;
			}
		}
		.header {
			margin-top: 15%;
		}
		#main {
			background-color:#fff;
						width:300px;
						height:200px;
						overflow:auto;
			left:50%;
			top:50%;
			margin: -150px 0 0 -150px;
						position:absolute;
						z-index:10;
		}
		.mycontent{
			display: table;
			padding-top:10%;
			padding-bottom:30px;
			margin: auto;
		}
		.footer {
						width:100%;
			height:20px;
			font-size:14px;
			padding:10px 0px;
			background-color:#ececec;
			color:#605a5a;
			text-align:center;
						position:absolute;
						z-index:200;
						bottom:0;
						text-align:center;
		}
		.imagecss{
			top:15px;
			left:10px;
			position:absolute;
		}
		.qrcode img{
			margin-left: -58px;
			width: 100px;
			position: absolute;
			left: 50%;
			bottom: 50px;
			background: white;
			border: 8px solid white;
		}
		#user_agreement_content{
			position: absolute;
			top:20px;
			left:50%;
			transform: translateX(-50%);
			width:1200px;
			padding:10px;
			background-color:#ffffff;
			text-align: left;
			height:calc(100% - 60px);
		}
	@media (max-width: 1200px){
		#user_agreement_content{
			width:96%;
			padding:10px;
			background-color:#ffffff;
			text-align: left;
		}
	}
		.title{
		text-align: center;
		font-size: 30px;
		color: #000000;
		margin-top: 15px;
		margin-bottom: 25px;
		}
	.pr_word {
		font-size: 16px;
		padding: 20px 40px;
		border: 1px solid #d9d9d9;
		height: 700px;
		overflow-y: scroll;
		height:calc(100% - 180px);
	}

	.pr_word p span {
		color: #222;
		line-height: 1.6;
	}

	.pr_word p a {
		color: #0000ff;
	}

	.pr_word p a:hover {
		text-decoration: none;
	}

	.pr_word div strong {
		font-weight: 600;
		color: #444;
		font-size: 18px;
		display: block;
		margin: 10px 0;
	}
	.pr_word p span.user_proto_text12{
		color:#666666;
		font-family:微软雅黑;
		font-size:12pt;
	}

	.pr_word p span.user_proto_text13 {
		color: #444444;
		font-family: 微软雅黑;
		font-size: 13pt;
		font-weight: bold
	}

	.pr_word p span.user_proto_text14{
		color:#444444;
		font-family:微软雅黑;
		font-size:14pt;
		font-weight:bold
	}

	.pr_word p span.user_proto_text21 {
		color: #333333;
		font-family: 微软雅黑;
		font-size: 21pt;
		font-weight: normal
	}

	.pr_word p span.user_proto_text44 {
		color: #444444;
		font-family: 微软雅黑;
		font-size: 12pt;
		font-weight: bold
	}

	.pr_word p span.user_proto_text66 {
		color: #666666;
		font-family: 微软雅黑;
		font-size: 12pt;
		font-weight: normal
	}

	.pr_word p span.user_proto_textff {
		color: #0000ff;
		font-family: 微软雅黑;
		font-size: 12pt;
		cursor: pointer;
		text-decoration: none
	}
	#agreeDiv{
		color: #555;
		text-align: left;
		font-size: 14px;
		padding: 0px 16px;
	}
	#agreeDiv a{
		color: #00C0E0;
		text-decoration: underline;
		cursor:pointer;
	}
	.closediv{
		float: right;
		cursor:pointer;
	}
	button[type="submit"] {
		background:#2CBCD4;
		border:none;
		color:#FFFFFF;
		height:30px;
		min-width:90px;
		font-size:11px;
		line-height:11px;
		border:1px solid #2CBCD4;
		-webkit-border-radius: 4px;
		-moz-border-radius: 4px;
		border-radius: 4px;
		cursor:pointer;
	}
    .on {display:on}
    .off {display:none}

    :root{
        --page-width: 800px;
    }
    .guide-page{
        width: var(--page-width);
        display: flex;
        justify-content: start;
        flex-direction: column;
    }
    .guide-page .guide-page-logo{
        width: 310px;
        margin-bottom: 10px;
    }
    .guide-page .guide-page-logo img{
        width: 100%;
    }
    .guide-page *{
        margin:0;
        padding:0;
        box-sizing: border-box;
        color: black;
    }
    .guide-page-title{
        color: rgb(255, 244, 92);
        background-color: #303841;
        padding-left: 10px;
        height:34px;
        display: flex;
        justify-content: start;
        align-items: center;
    }
    span#detect-mode-tip{
        color: red;
    }
    .guide-page-content-above{
        width: var(--page-width);
        background-color: #fff;
        box-sizing: border-box;
        white-space: nowrap;
        overflow: hidden;
        min-height: 330px;
        margin-bottom: 10px;
    }
    .guide-page-content-long{
        width: calc( var(--page-width) * 3 );
        background-color: #fff;
        box-sizing: border-box;
        transition: all 200ms;
        margin-bottom: 20px;
        margin-top: 20px;
    }
    .guide-page-content-long .page{
        vertical-align: top;
        width: calc( var(--page-width) - 10px );
        padding-left: 10px;
        display: inline-block;
    }
    .guide-line{
        height: 40px;
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        align-items: center;
        margin-bottom: 10px;
    }
    .guide-line .input-label{
        flex: 0.3;
        text-align: right;
        margin-right: 10px;
    }
    .guide-line .input-content{
        flex: 0.7;
        text-align: left;
        white-space: normal;
    }
    .submit-btns{
        display: flex;
        flex-direction: row;
        justify-content: space-around;
        align-items: center;
    }
    .guide-btn{
        padding: 6px 10px;
        height: 30px;
        min-width: 90px;
        font-size: 11px;
        line-height: 11px;
        border: solid 1px #2cbcd4;
        border-radius: 4px;
        cursor: pointer;
    }
	</style>
	<script src="/md5.min.js"></script>
	<script language="javascript">
		if (window.self !== window.top) {
			top.location.pathname = location.pathname;
		}
		history.replaceState(null, "", "/#/login");
		if(sessionStorage.phone){
			location.href = location.host
		}
		sessionStorage.clear()
	</script>
    <script>
        if (MACRO && MACRO.customParam && MACRO.customParam.timeZone) {
            ntp_zone_index = MACRO.customParam.timeZone
        } else {
            ntp_zone_index = 48
        }
        var isFactory = '<% getInfo("isFirstLogin"); %>';
        var step = 1
        var prevBtn = null
        var nextBtn = null
        var submitBtn = null

        function changeDisplay(){
            var pageWidth = (document.getElementById("content-long").clientWidth / 3)
            var x = -(pageWidth * (step - 1)) + 'px'
            document.getElementById("content-long").style.transform = 'translate('+ x +',0)'
        }

        function changeBtnStatus(){
            if(step == 1){
                prevBtn.disabled = true
                prevBtn.style.cursor = "not-allowed"
                nextBtn.disabled = false
                nextBtn.style.cursor = "pointer"
                submitBtn.disabled = true
                submitBtn.style.cursor = "not-allowed"
            }else if(step == 3){
                nextBtn.disabled = true
                nextBtn.style.cursor = "not-allowed"
                prevBtn.disabled = false
                prevBtn.style.cursor = "pointer"
                submitBtn.disabled = false
                submitBtn.style.cursor = "pointer"
            }else{
                nextBtn.disabled = false
                nextBtn.style.cursor = "pointer"
                prevBtn.disabled = false
                prevBtn.style.cursor = "pointer"
                submitBtn.disabled = true
                submitBtn.style.cursor = "not-allowed"
            }
        }

        function gotoPre(){
            event.preventDefault()
            if(step <= 1) return
            step = step - 1
            changeDisplay()
            changeBtnStatus()
        }

        function gotoNext(){
            event.preventDefault()
            if(step >= 3) return
            step = step + 1
            changeDisplay()
            changeBtnStatus()
        }
        

        function setWanTypeTip(text){
            document.getElementById("wan-type-tip").textContent = text
        }

        function wanTypeSelection(field) {
            if(field.selectedIndex == 0){ //pppoe
                show_div(1, "ppp_div");
                show_div(0, "static_div");
                setWanTypeTip(install_pppoe_on_info)
            }else if(field.selectedIndex == 1){ //dhcp
                show_div(0, "ppp_div");
                show_div(0, "static_div");
                setWanTypeTip(install_dhcp_on_info)
            }else if(field.selectedIndex == 2){ //static ip
                show_div(1, "static_div");
                show_div(0, "ppp_div");
                setWanTypeTip(install_staticip_on_info)
            }
        }

        function onWifiBandSterringChange(){
            var wifi_band_steering = document.getElementById('wifi-band-steering-on').checked 
            if(wifi_band_steering){
                document.getElementById("2g-title").style.display = 'none'
                document.getElementById("5G-div").style.display = 'none'
            }else{
                document.getElementById("2g-title").style.display = ''
                document.getElementById("5G-div").style.display = ''
            }
        }

        function saveChanges(){
            if(step !== 3 )return
            var wanType = document.guideSet.wanType.selectedIndex;
            document.guideSet.dnsMode.value="dnsAuto";
            if(wanType==0){//pppoe
                var regexp =/^[!-~]*$/;
                if (document.guideSet.pppUserName.value=="") {
                    alert(util_save_wan7);
                    gotoPre()
                    document.guideSet.pppUserName.focus();
                    return false;
                }
                if (document.guideSet.pppPassword.value=="") {
                    alert(util_save_wan8);
                    gotoPre()
                    document.guideSet.pppPassword.focus();
                    return false;
                }
                if (!regexp.test(document.guideSet.pppUserName.value)) {
                    alert(util_save_wan23);
                    gotoPre()
                    document.guideSet.pppUserName.focus();
                    return false;
                }
                if (!regexp.test(document.guideSet.pppPassword.value)) {
                    alert(util_save_wan24);
                    gotoPre()
                    document.guideSet.pppPassword.focus();
                    return false;
                }
            }
            if(wanType == 2){ //Static IP
                document.guideSet.dnsMode.value="dnsManual";
                var form = document.guideSet 
                if ( checkIpAddr(form.wan_ip, util_gw_invalid_ip) == false ){
                    gotoPre()
                    return false
                }
                if (checkIPMask(form.wan_mask) == false){
                    gotoPre()
                    return false ;
                }
            
                if(form.wan_ip.value == form.wan_gateway.value)
                {
                    alert(util_save_wan2);
                    gotoPre()
                    form.wan_gateway.focus();
                    return false;
                }

                if(checkHostIPValid(form.wan_ip,form.wan_mask,util_gw_invalid_ip)== false) {
                    gotoPre()
                    return false;
                }

                if (form.wan_gateway.value!="" && form.wan_gateway.value!="0.0.0.0") 
                {
                    if ( checkIpAddr(form.wan_gateway, util_gw_invalid_degw_ip) == false ){
                        gotoPre()
                        return false;
                    }
                    if ( !checkSubnet(form.wan_ip.value,form.wan_mask.value,form.wan_gateway.value))
                    {
                        alert(util_gw_invalid_gw_ip+util_gw_locat_subnet);
                        gotoPre()
                        form.wan_gateway.value = form.wan_gateway.defaultValue;
                        form.wan_gateway.focus();
                        return false;
                    }
                }
                else
                    form.wan_gateway.value = '0.0.0.0';

                if(form.dns1.value!="" && form.dns1.value!="0.0.0.0")
                {
                    if ( checkIpAddr(form.dns1, util_save_wan3) == false ) {
                        gotoPre()
                        return false;
                    }
                }

                if (form.dns1.value=="")
                {
                    alert(util_save_wan21);
                    gotoPre()
                    return false;
                }
                if (form.dns1.value=="0.0.0.0")
                {
                    alert(util_save_wan22);
                    gotoPre()
                    return false;
                }
                else 
                {
                    if ( checkIpAddr(form.dns1, util_gw_check_dns_ip_msg1) == false ){
                        gotoPre()
                        return false;
                    }
                }

            }
            var guest_2g = '<% getInfo("guestssid2g"); %>'
            var guest_5g = '<% getInfo("guestssid5g"); %>'
            //2.4G无线名称和密码
            if(document.guideSet.ssid2g.value.trim()=="")
            {
                alert(util_gw_ssid_empty);
                document.guideSet.ssid2g.focus();
                return false;
            }
            // 2G主wifi ssid不能与访客wifi相同
            var main_2g = document.guideSet.ssid2g.value.trim();
            if (main_2g == guest_2g || main_2g == guest_5g) {
                alert(wlguest_ssid_same_as_root_2g);
                document.guideSet.ssid2g.focus();
                return false;
            }

            var regexpp =/^[!-~]{8,63}$/;
            if (!regexpp.test(document.guideSet.pskValue2g.value)) {
                alert(wlsecurity_no_chinese);
                document.guideSet.pskValue2g.focus();
                return false;
            }else if(/<\/script>/.test(document.guideSet.pskValue2g.value)){
                alert(wlsecurity_no_chinese2);
                document.guideSet.pskValue2g.focus();
                return false;
            }
            document.guideSet.ssid2g.value = document.guideSet.ssid2g.value.trim();

            // 如果开启双频合一，则将2.4G数据赋值给5G
            if (document.guideSet.wifi_band_steering[0].checked) {
                document.guideSet.ssid5g.value = document.guideSet.ssid2g.value
                document.guideSet.pskValue5g.value = document.guideSet.pskValue2g.value
            }
            
            //5G无线名称和密码
            if(document.guideSet.ssid5g.value.trim()=="")
            {
                alert(util_gw_ssid_empty);
                document.guideSet.ssid5g.focus();
                return false;
            }
            // 5G主wifi ssid不能与访客wifi相同
            var main_5g = document.guideSet.ssid5g.value.trim();
            if (main_5g == guest_2g || main_5g == guest_5g) {
                alert(wlguest_ssid_same_as_root_2g)
                document.guideSet.ssid5g.focus();
                return false;
            }

            if (!regexpp.test(document.guideSet.pskValue5g.value)) {
                alert(wlsecurity_no_chinese);
                document.guideSet.pskValue5g.focus();
                return false;
            }else if(/<\/script>/.test(document.guideSet.pskValue5g.value)){
                alert(wlsecurity_no_chinese2);
                document.guideSet.pskValue5g.focus();
                return false;
            }
            document.guideSet.ssid5g.value = document.guideSet.ssid5g.value.trim();

            document.getElementById("waitdiv").style.display="";
            document.getElementById("coverdiv").style.display="";
            return true
        }
       
		function resetBodyStyle(isFactory){
            if(isFactory != 1){
                document.body.style.position = 'absolute'
                document.body.style.height = '100%'
                document.body.style.width = '100%'
                document.body.style.minHeight = '500px'
            }else{
                document.body.style.display = 'flex'
                document.body.style.position = ''
                document.body.style.alignItems = 'center'
                document.body.style.justifyContent =  'center'
                document.body.style.height = '100vh'
                document.body.style.width = '100%'
            }
        }

        var isDetecting

        function autoDetect(){
            event.preventDefault()
            if(isDetecting) return
            var xmlhttp;
            if (window.XMLHttpRequest) {
                xmlhttp = new XMLHttpRequest();
            }
            else if (window.ActiveXObject) {
                try {
                xmlhttp = new ActiveXObject('Msxml2.XMLHTTP');
                } catch (ex) {
                try {
                    xmlhttp = new ActiveXObject('Microsoft.XMLHTTP');
                } catch (ex) { }
                }
            }
            if (xmlhttp.readyState < 4) {
                xmlhttp.abort();
            }
            isDetecting = true
            document.getElementById("waitdiv").style.display="";
            document.getElementById("coverdiv").style.display="";
            // Firefox/Mozilla: use anonymous "login" to trigger a "logout"
            xmlhttp.open('POST', '/boafrm/formAutoDetect');
            var tipText = document.getElementById("detect-mode-tip")
            tipText.textContent = guide_detect_mode_detecting
            xmlhttp.onreadystatechange = function () {
                document.getElementById("waitdiv").style.display="none";
                document.getElementById("coverdiv").style.display="none";
                if (xmlhttp.readyState == 4) {
                    isDetecting = false
                    var detectMode = xmlhttp.responseText
                    if(detectMode == "DHCP"){
                        tipText.textContent = guide_detect_mode_dhcp
                        document.guideSet.wanType.selectedIndex = 1
                        wanTypeSelection(document.guideSet.wanType)
                    }else if(detectMode == "PPPOE"){
                        tipText.textContent = guide_detect_mode_pppoe
                        document.guideSet.wanType.selectedIndex = 0
                        wanTypeSelection(document.guideSet.wanType)
                    }else{
                        tipText.textContent = guide_detect_mode_unplugged
                    }
                }
            };
            xmlhttp.send('');
        }

        function on_init() {
            prevBtn = document.getElementById('prev-btn')
            nextBtn = document.getElementById('next-btn')
            submitBtn = document.getElementById('submit-btn')
            resetBodyStyle(isFactory)
            if(isFactory == 1 && MACRO && MACRO.support && MACRO.support.FEATURE_MULT_WIZARD_SUPPORT){
                document.getElementById('normal-page').style.display = 'none'
                document.getElementById('guide-page').style.display = 'flex'
                changeBtnStatus()
                document.guideSet.wanType.selectedIndex = 1
                wanTypeSelection(document.getElementById("wanType_id"))
                onWifiBandSterringChange()
            }else{
                document.getElementById('normal-page').style.display = 'block'
                document.getElementById('guide-page').style.display = 'none'
            }
        }
    </script>
</head>

<body id="body" style="
    position: absolute;
    height: 100%;
    width: 100%;
    min-height: 500px;
	"
    onload="on_init()"
    >
<div id="normal-page" style="display:none">
	<div class="header"></div>
	<div id="logo" class="logo" >
		<img src="logo.png">
	</div>
	<div class="form">
		<div>
			<input type="text" id="username" name="username" maxlength="30" size="20" value="admin">
			<input style="ime-mode:disabled;" type="password" id="password" name="password" maxlength="30" size="20" value=""
				placeholder="" />
			<script>document.getElementById("password").setAttribute("placeholder",input_password);</script>
			<input class="bttn" type="submit" id="btn" name="login" value="" />
			<script>document.getElementById("btn").value=wlp2pwscconnect_ok;</script>
		</div>
	</div>
	<div class="qrcode" style="display:none">
	<img src="qrcode.png" alt="" >
	</div>
</div>
<div id="guide-page" class="guide-page" style="display:none">
	<div id="guide-page-logo" class="guide-page-logo" >
		<img src="logo.png">
	</div>
    <form name="guideSet" action="/boafrm/formFirstSetup" method="post">
        <div style="width:100%">
            <p class="guide-page-title"><script>dw(guide_intall_guide)</script></p>
            <div class="guide-page-content-above">
                <div class="guide-page-content-long" id="content-long">
                    <div class="page timezone-box">
                        <p class="guide-line">
                            <span class="input-label"><script>dw(wizard_timeZone)</script></span>
                            <span class="input-content">
                                <select name="timeZone" id="timezone" style="width:380px">
                                    <script language="javascript">
                                    var i;
                                    for(i=0;i<ntp_zone_array.length;i++){
                                        if (i == ntp_zone_index){
                                            document.write('<option value="',ntp_zone_array[i].value,'" selected>',ntp_zone_array[i].name,'</option>');
                                        }else{
                                            document.write('<option value="',ntp_zone_array[i].value,'">',ntp_zone_array[i].name,'</option>');
                                        }
                                    }
                                    </script>
                                </select>
                            </span>
                        </p>
                    </div>
                    <div id="wan-set" class="page">
                        <p class="guide-line">
                            <span class="input-label"></span>
                            <span class="input-content">
                                <button onclick="autoDetect()" id="detect-btn" class="guide-btn"><script>dw(guide_auto_detect)</script></button>
                                <span id="detect-mode-tip" class="detect-mode-tip">
                                </span>
                            </span>
                        </p>
                        <p class="guide-line">
                            <span class="input-label"><script>dw(tcpip_wan_access_type)</script></span>
                            <span class="input-content">
                            <select id="wanType_id" name="wanType" onChange="wanTypeSelection(this)">
                                    <option value="ppp">PPPoE</option>
                                    <option value="autoIp">DHCP</option>
                                    <option value="fixedIp"><script>dw(tcpip_wan_type_static_ip)</script></option>
                                </select>
                            </span>
                        </p>
                        <p class="guide-line">
                            <span class="input-label"></span>
                            <span class="input-content"><span id="wan-type-tip"></span></span>
                        </p>
                        <div id="ppp_div">
                            <p class="guide-line">
                                <span class="input-label"><script>dw(tcpip_wan_user)</script></span>
                                <span class="input-content"><input type="text" name="pppUserName" size="18" maxlength="15" value=""></span>
                            </p>
                            <p class="guide-line">
                                <span class="input-label"><script>dw(tcpip_wan_password)</script></span>
                                <span class="input-content"><input type="text" name="pppPassword" size="18" maxlength="15" value=""></span>
                            </p>
                        </div>
                        <div id="static_div">
                            <p class="guide-line">
                                <span class="input-label"><script>dw(tcpip_wan_ip)</script></span>
                                <span class="input-content"><input type="text" name="wan_ip" size="18" maxlength="15" value=""></span>
                            </p>
                            <p class="guide-line">
                                <span class="input-label"><script>dw(tcpip_wan_mask)</script></span>
                                <span class="input-content"><input type="text" name="wan_mask" size="18" maxlength="15" value=""></span>
                            </p>
                            <p class="guide-line">
                                <span class="input-label"><script>dw(tcpip_wan_default_gateway)</script></span>
                                <span class="input-content"><input type="text" name="wan_gateway" size="18" maxlength="15" value=""></span>
                            </p>
                            <p class="guide-line">
                                <span class="input-label">DNS 1:</span>
                                <span  class="input-content"><input type="text" name="dns1" size="18" maxlength="15" value=""></span>
                                <input type="hidden" name="dnsMode"/>
                            </p>
                        </div>
                    </div>
                    <div class="page">
                        <p class="guide-line">
                            <span class="input-label"><script>dw(wifi_Band_steering)</script></span>
                            <span class="input-content">
                                <input type="radio" id="wifi-band-steering-on" value="ON" name="wifi_band_steering" size="18" maxlength="128" onchange="onWifiBandSterringChange()">
                                <label for="wifi-band-steering-on"><font size=2><script>dw(on)</script></font></label>
                                <input type="radio" id="wifi-band-steering-off" value="OFF" name="wifi_band_steering" size="18" maxlength="128" onchange="onWifiBandSterringChange()" checked=false>
                                <label for="wifi-band-steering-off"><font size=2><script>dw(off)</script></font></label>
                            </span>
                        </p>
                        <p class="guide-line">
                            <span class="input-label"></span>
                            <span class="input-content">
                                <script>dw(install_bandsteering_on_info)</script>
                            </span>
                        </p>
                        <div id = "2G-div">
                        <h3 id="2g-title" style="margin-bottom: 20px;margin-left: -285px;"><b><script>dw(install_2g)</script></b></h3>
                        <p class="guide-line">
                            <span class="input-label"><script>dw(install_ssid)</script></span>
                            <span class="input-content">
                                <input type="text" name="ssid2g" size="18" maxlength="32" value="<% getInfo("ssid2g"); %>">
                                </span>
                            </p>
                            <p class="guide-line">
                                <span class="input-label"><script>dw(install_password)</script></span>
                                <span class="input-content">
                                    <input type="password" name="pskValue2g" size="18" maxlength="63" onfocus="inputOnFocus(this)" onblur="inputOnBlur(this)" value="<% getInfo("pskValue2g"); %>" />
                                </span>
                            </p>
                        </div>
                        <div id = "5G-div">
                            <h3 style="margin-top: 30px;margin-bottom: 20px; margin-left: -285px;"><b><script>dw(install_5g)</script></b></h3>
                            <p class="guide-line">
                                <span class="input-label"><script>dw(install_ssid)</script></span>
                                <span class="input-content">
                                    <input type="text" id="ssid5g" name="ssid5g" size="18" maxlength="32" value="<% getInfo("ssid5g"); %>">
                                </span>
                            </p>
                            <p class="guide-line">
                                <span class="input-label"><script>dw(install_password)</script></span>
                                <span class="input-content">
                                    <input type="password" id="pskValue5g" name="pskValue5g" size="18" maxlength="63" onfocus="inputOnFocus(this)" onblur="inputOnBlur(this)" value="<% getInfo("pskValue5g"); %>">
                                </span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <input type="hidden" name="submit-url" value="/index.html">
            <p class="submit-btns">
                <button onclick="gotoPre()" id="prev-btn" class="guide-btn">&lt;<script>dw(guide_prev)</script></button>
                <input type="submit" value="Save & Apply" id="submit-btn" name="save_apply" onClick="return saveChanges()" class="guide-btn">
                <script>document.guideSet.save_apply.value = install_save;</script>
                <button onclick="gotoNext()" id="next-btn" class="guide-btn"><script>dw(guide_next)</script>&gt;</button>
            </p>
        </div>
    </form>
    <form name="skipform" action="/boafrm/formSkipGuide" method="post">
        <input type="hidden" name="skipGuide" value="1">
        <input type="hidden" name="submit-url" value="/login.html">
        <p class="submit-btns">
            <input type="submit" value="Skip" id="submit-btn" name="skip" class="guide-btn" style="height: 30px;width: 100%;">
            <script>document.skipform.skip.value = skip_the_wizard;</script>
        </p>
    </form>
</div>
<div id="coverdiv"   style="position:fixed;top:0px;left:0px;width: 100%;height: 100%;background:rgba(0,0,0,0.2);display: none"></div>
<div id="waitdiv"   style="position:fixed;top:0px;left:0px;width: 100%;height: 100%;background:rgba(0,0,0,0.2);display: none;">
    <div style="width: 200px;height: 200px;margin: auto;margin-top: 300px">
        <img src="./load.gif" width="200" height="200">
    </div>
</div>
	<script>
        document.title=menu_title+"-"+login_in;
		document.getElementById('password').focus();
		function post (){
			var username = document.getElementById('username').value
			var password = document.getElementById('password').value
			if (username == "") {
				alert(input_user_name);
				document.getElementById('username').focus();
				return;
			}
			if (password == "") {
				alert(input_user_password);
				document.getElementById('password').focus();
				return;
			}
			password = md5(password).slice(11, 19);
			var ajax = new XMLHttpRequest()
			ajax.open('POST', '/boafrm/formLogin')
			ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded")
			ajax.send('username=' + username + '&password=' + password + '&login=确认')
			ajax.onreadystatechange = function () {
				if (ajax.readyState == 4 && ajax.status == 200) {
					sessionStorage.setItem('userName', username)
					window.location.href = '/'
				}
				if (ajax.readyState == 4 && ajax.status == 403) {
					var ret =  "<HTML><HEAD><TITLE>403 Forbidden</TITLE></HEAD><BODY><H1>403 Forbidden</H1></BODY></HTML>\n"
					if (ajax.responseText === ret) {
						alert(login_err_too_much_times)
						location.reload()
						return
					} else {
						alert(name_password_err)
						location.reload()
						return
					}
				}

			}
		}
		document.onkeydown = function (even) {
			if (even.key == 'Enter') {
				post()
			}
		}
		document.getElementById('btn').onclick=function(){
			post ()
		}
	</script>
</body>

</html>
