<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="proma" content="no-cache"><meta http-equiv="cache-control" content="no cache"><meta http-equiv="expires" content="0"><title></title><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><link rel="stylesheet" href="/static/css/main.css"><link rel="stylesheet" href="/static/css/common.css"><link rel="stylesheet" href="/static/css/basic_menu.css"></head><body><div id="app"></div><script type="text/x-template" id="main"><div class="basic-box">
  <x-help :text="lang_t('wifi.help')"></x-help>
  <br>
  <div class="fun-box">
	<table class="table">
	  <tbody>
	  	<tr>
		  <td class="fun-left">{{ lang_t('wifi.merge') }}</td>
		  <td>
			<x-switch v-model="merge"></x-switch>
		  </td>
		</tr>
	    <tr><td conspan="2">&nbsp;</td></tr>
	    <tr v-show="!merge">
		  <td class="fun-left"></td>
		  <td><b>{{ lang_t('wifi.wireless') }} 2.4GHz</b></td>
	    </tr>
	    <!-- <tr>
		  <td class="fun-left">{{ lang_t('wifi.state') }}</td>
		  <td>
		   <x-switch v-model="wifiOff" @change="wifiState(wifiOff, '2g')"></x-switch>
		  </td>
	    </tr> -->
	    <tr>
		  <td class="fun-left">{{ lang_t('wifi.ssid') }}</td>
		  <td>
		    <input type="text" v-model="ssid" maxlength="32" :disabled="disclass" v-verify="fromRule" data-name="ssid">
		    <x-checkbox v-model="hssid" :disabled="disclass">{{ lang_t('wifi.hide') }}</x-checkbox>
		  </td>
	    </tr>
	    <tr>
		  <td class="fun-left">{{ lang_t('wifi.pass_state') }}</td>
		  <td>
		    <x-switch v-model="ispass" :disabled="disclass"></x-switch>
		  </td>
	    </tr>
	    <tr v-show="ispass">
		  <td class="fun-left">{{ lang_t('wifi.pass') }}</td>
		  <td>
		    <input type="password" class="input input-err" v-model="key" maxlength="63" :disabled="disclass" v-pass v-verify="fromRule" data-name="key">
		  </td>
	    </tr>
	    <tr><td colspan="2"></td></tr>
	    <tr v-show="merge">
		  <td class="fun-left">&nbsp;</td>
		  <td><b>{{ lang_t('wifi.wireless') }} 2.4GHz</b></td>
		</tr>
		<!-- <tr v-show="false">
		  <td class="fun-left">{{ lang_t('wifi.band') }}</td>
		  <td>
			<select v-model="band" :disabled="disclass" @change="autoChange('band','2.4')">
			  <option value="1">802.11b</option>
			  <option value="4">802.11g</option>
			  <option value="6">802.11n</option>
			  <option value="9">802.11b/g/n</option>
			</select>
		  </td>
		</tr> -->
		<tr v-show="countryBt==1">
			<td class="fun-left">{{ lang_t('wifi.country') }}</td>
			<td>
			  <select v-model="countryCode" @change="countryChange('2')">
				<option v-for="(country,v) in countryList" :key="v" :value="country.value">{{ country.name }}</option>
			  </select>
			</td>
		</tr>
		<tr>
		  <td class="fun-left">{{ lang_t('wifi.bandwidth') }}</td>
		  <td>
			<select v-model="bw" :disabled="disclass">
			  <option value="0" v-show="!globalConfig.certificatSoftware">{{ lang_t('wifi.auto') }}</option>
			  <option value="1">20M</option>
			  <option value="2">40M</option>
			</select>
		  </td>
		</tr>
		<tr>
		  <td class="fun-left">{{ lang_t('wifi.channel') }}</td>
		  <td>
			<select v-model="channel" :disabled="disclass">
			  <option value="0">{{ lang_t('wifi.auto') }}</option>
			  <option v-for="v in channel2gOption" :value="v">{{ v }}</option>
			</select>
		  </td>
		</tr>
	  </tbody>
	  <tbody>
	    <tr><td colspan="2"></td></tr>
	    <tr>
		  <td class="fun-left"></td>
		  <td><b>{{ lang_t('wifi.wireless') }} 5GHz</b></td>
	    </tr>
	    <!-- <tr v-show="!merge">
		  <td class="fun-left">{{ lang_t('wifi.state') }}</td>
		  <td>
		    <x-switch v-model="wifiOff5g" @change="wifiState(wifiOff5g, '5g')"></x-switch>
		  </td>
	    </tr> -->
	    <tr v-show="!merge">
		  <td class="fun-left">{{ lang_t('wifi.ssid') }}</td>
		  <td>
		    <input type="text" v-model="ssid5g" maxlength="32" :disabled="dis5gclass" v-verify="fromRule" data-name="ssid5g">
		    <x-checkbox v-model="hssid5g" :disabled="dis5gclass">{{ lang_t('wifi.hide') }}</x-checkbox>
		  </td>
	    </tr>
	    <tr v-show="!merge">
		  <td class="fun-left">{{ lang_t('wifi.pass_state') }}</td>
		  <td>
		    <x-switch v-model="ispass5g" :disabled="dis5gclass"></x-switch>
		  </td>
	    </tr>
	    <tr v-show="!merge && ispass5g">
		  <td class="fun-left">{{ lang_t('wifi.pass') }}</td>
		  <td>
		    <input type="password" v-model="key5g" maxlength="63" :disabled="dis5gclass" v-pass v-verify="fromRule" data-name="key5g">
		  </td>
	    </tr>
	    <!-- <tr v-show="false">
		  <td class="fun-left">{{ lang_t('wifi.band') }}</td>
		  <td>
			<select v-model="band5g" :disabled="dis5gclass" @change="autoChange('band')">
			  <option value="2">802.11a</option>
			  <option value="8">802.11a/n</option>
			  <option value="14">802.11a/n/ac</option>
			</select>
		  </td>
		</tr> -->
		<tr v-show="countryBt==1">
			<td class="fun-left">{{ lang_t('wifi.country') }}</td>
			<td>
			  <select v-model="countryCode5g" @change="countryChange('5')" :disabled="dis5gclass">
				<option v-for="(country,v) in countryList" :key="v" :value="country.value">{{ country.name }}</option>
			  </select>
			</td>
		</tr>
		<tr>
		  <td class="fun-left">{{ lang_t('wifi.bandwidth') }}</td>
		  <td>
			<select v-model="bw5g" :disabled="dis5gclass" @change="autoChange">
			  <option v-for="bw in bw5gOption" :value="bw.value">{{ bw.name }}</option>
			</select>
		  </td>
		</tr>
		<tr>
		  <td class="fun-left">{{ lang_t('wifi.channel') }}</td>
		  <td>
			<select v-model="channel5g" :disabled="dis5gclass">
			  <option value="0">{{ lang_t('wifi.auto') }}</option>
			  <option v-for="c in channel5gOption" :value="c">{{ c }}</option>
			</select>
		  </td>
		</tr>
	  </tbody> 
	  <tbody>
	    <tr><td colspan="2"></td></tr>
	    <tr>
		  <td class="fun-left"></td>
		  <td>
		    <button type="button" class="btn" @click="applyFun">{{ lang_t('common.apply') }}</button>
		  </td>
	    </tr>
	  </tbody> 
	</table>
  </div>
</div></script><script src="/plugin/vue.js"></script><script src="/plugin/jquery-3.2.1.min.js"></script><script src="/static/js/config.js"></script><script src="/static/js/layout.js"></script><script src="/static/js/common.js"></script><script src="/static/js/topicurl.js"></script><script>var cs_main={template:"#main",data:function(){return{globalConfig:globalConfig,lang:$.lang,lang_t:lang_t,merge:!1,wifiDualband:"0",wifiSchEnabled:!1,wifiOff:!0,hssid:!1,ssid:"",band:"9",bw:"0",channel:"0",key:"",ispass:!1,disclass:!1,wifiSchEnabled5g:!1,wifiOff5g:!0,hssid5g:!1,ssid5g:"",band5g:"14",bw5g:"0",channel5g:"0",key5g:"",ispass5g:!1,dis5gclass:!1,countryCode:"CN",countryCode5g:"CN",countryCodeList:[],countryBt:""}},computed:{fromRule:function(){var a=this;return{ssid:function(i,n){var s=cs.ssid(i);0==s?n(a.lang_t("wifi.msg1")):4==s?n(a.lang_t("wifi.msg18")):1==s?n(a.lang_t("wifi.msg20")):2==s?n(a.lang_t("wifi.msg3")):n()},key:function(i,n){var s=cs.string(i,"pass");a.ispass?(""==i&&n(a.lang_t("wifi.pass")+a.lang_t("wifi.msg6")),1==s?n(a.lang_t("wifi.msg5")):i.length<8||63<i.length?n(a.lang_t("wifi.msg4")):n()):n()},ssid5g:function(i,n){var s=cs.ssid(i);0==s?n(a.lang_t("wifi.msg1")):4==s?n(a.lang_t("wifi.msg18")):1==s?n(a.lang_t("wifi.msg20")):2==s?n(a.lang_t("wifi.msg3")):n()},key5g:function(i,n){var s=cs.string(i,"pass");a.ispass5g?(""==i&&n(a.lang_t("wifi.pass")+a.lang_t("wifi.msg6")),1==s?n(a.lang_t("wifi.msg5")):i.length<8||63<i.length?n(a.lang_t("wifi.msg4")):n()):n()}}},bw5gOption:function(){var i=[{value:"1",name:"20M"},{value:"2",name:"40M"},{value:"3",name:"80M"}];if(globalConfig.certificatSoftware)return[i[0]];var n=[],s=this.band5g;return"2"==s?(n.push(i[0]),this.bw5g="1"):"8"==s?(i.splice(2,1),n=i):"14"==s&&(n=i),n},channel2gOption:function(){var i=this.countryCode,n=[],s=1,a=13;for("US"===i&&(a=11),"TN"===i&&(a=11),"TW"===i&&(a=11),globalConfig.certificatSoftware&&"IA"===i&&"2"==this.bw&&(s=3,a=11);s<=a;s++)n.push(s);return n},channel5gOption:function(){var i=this.bw5g,n=this.band5g,s=["149","153","157","161"],a=["36","40","44","48"],t=["36","40","44","48","52","56","60","64"],g=["52","56","60","64","100","104","108","112","116","120","124","128","132","136","140"];globalConfig.certificatSoftware||"2"==n||"1"!=i||s.push("165"),g=a.concat(g,s);var e=[];switch(this.countryCode5g){case"CN":case"US":e=a.concat(s);break;case"EU":e=a;break;case"OT":e=g;break;case"IA":e=globalConfig.certificatSoftware?a.concat(s):s;break;case"TN":e=a;break;case"TW":e=a.concat(s);break;case"VN":e=t.concat(s);break;case"MY":case"RU":case"TH":e=a.concat(s);break;case"BR":e="1"==globalConfig.multLogo?t.concat(s):g}return~$.inArray(this.channel5g,e)||(this.channel5g="0"),e},countryList:function(){var i,n=[],s=this.countryCodeList,a={CN:lang_t("wifi.china"),US:lang_t("wifi.usa"),EU:lang_t("wifi.europe"),IA:lang_t("wifi.indonesia"),TN:lang_t("wifi.tunisia"),TW:lang_t("wifi.taiwan"),VN:lang_t("wifi.vietnam"),MY:lang_t("wifi.malaysia"),RU:lang_t("wifi.russia"),TH:lang_t("wifi.thailand"),BR:lang_t("wifi.brazil"),OT:lang_t("wifi.other")};for(var t in a)i=t,~s.indexOf(i)&&n.push({name:a[i]||"",value:i});return n}},created:function(){this.wifiInit()},methods:{wifiInit:function(){var n=this;uiPost.getWiFiEasyCfg({},function(i){n.merge="0"!=i.merge,n.wifiDualband=i.wifiDualband,n.wifiState(n.wifiOff,"2g"),n.hssid="0"!=i.hssid2g,n.ssid=i.ssid2g,n.key=i.key2g,n.ispass=""!=i.key2g,n.bw=i.bw2g,n.band=i.band2g,n.channel=i.channel2g,n.wifiState(n.wifiOff5g,"5g"),n.hssid5g="0"!=i.hssid5g,n.ssid5g=i.ssid5g,n.key5g=i.key5g,n.ispass5g=""!=i.key5g,n.bw5g=i.bw5g,n.band5g=i.band5g,n.channel5g=i.channel5g,n.countryBt=i.countryBt,n.countryCode=i.countryCode,n.countryCode5g=i.countryCode5g,i.countryCodeList&&(n.countryCodeList=i.countryCodeList)})},wifiState:function(i,n){"2g"==n?(this.disclass=!i,this.merge&&(this.dis5gclass=!i)):"5g"==n&&(this.dis5gclass=!i)},countryChange:function(i){"2"==i?this.channel="0":"5"==i&&(this.channel5g="0")},autoChange:function(i,n){if("band"==i)if("2.4"==n)"1"!=this.band&&"4"!=this.band||(this.bw="1");else{var s=!1;for(var a in this.bw5gOption)if(this.bw5gOption[a].value==this.bw5g){s=!0;break}s||(this.bw5g="0")}},applyFun:function(){var n=this,s={};Cstool.Verify(this.fromRule,function(i){i&&(s.merge=n.merge?"1":"0",s.wifiOff2g=n.wifiOff?"0":"1",s.hssid2g=n.hssid?"1":"0",s.ssid2g=n.ssid,n.ispass?s.key2g=n.key:s.key2g="",n.merge?(s.wifiOff5g=n.wifiOff?"0":"1",s.hssid5g=n.hssid?"1":"0",s.ssid5g=n.ssid,n.ispass?s.key5g=n.key:s.key5g=""):(s.wifiOff5g=n.wifiOff5g?"0":"1",s.hssid5g=n.hssid5g?"1":"0",s.ssid5g=n.ssid5g,n.ispass5g?s.key5g=n.key5g:s.key5g=""),s.bw5g=String(n.bw5g),s.band5g=String(n.band5g),s.channel5g=String(n.channel5g),s.bw2g=String(n.bw),s.band2g=String(n.band),s.channel2g=String(n.channel),s.countryCode=n.countryCode,s.countryCode5g=n.countryCode5g,uiPost.setWiFiEasyCfg(s,function(i){var n=30;if(i){if(i.wtime&&"0"!=i.wtime)return n=i.wtime,void Cstool.Count(n,"js",function(){location.href=location.href});Cstool.applyLoad(1,function(){location.href=location.href})}}))})}}}</script><script src="/static/js/main.js"></script></body></html>