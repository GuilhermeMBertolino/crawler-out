<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="proma" content="no-cache"><meta http-equiv="cache-control" content="no cache"><meta http-equiv="expires" content="0"><meta content="width=device-width,initial-scale=1,user-scalable=no" name="viewport"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="stylesheet" href="/static/css/phone/style.css"></head><body><div id="app"></div><script type="text/x-template" id="main"><div>
	<div class="toper">
	<phone-back type="custom" :title="lang_t('menu.application')" @on-click="backFun"></phone-back>
	</div>
  <div class="nav">
	<div style="float:left;width:83%;">{{ lang_t('menu.guest') }}</div>
  </div>
  <div class="content">
  	<!-- <div class="group" v-if="wifiDualband != '0'">
	  <div class="item-sw">{{ lang_t('wifi.merge') }}</div>
	  <div class="item-r">
		<x-switch v-model="merge" @change="abledFun"></x-switch>
	  </div>
	</div>
	<div class="group">
	  <div class="item-sw">{{ lang_t('wifi.allow_access') }}</div>
	  <div class="item-r">
		<x-switch v-model="accessState" :disabled="!wifi2g && !wifi5g && !wifi5g2"></x-switch>
	  </div>
	</div> -->
	<div class="group">
	  <div class="item-sw"><b >2.4GHz {{ lang_t('wifi.state') }}</b></div>
	  <div class="item-r">
		<x-switch v-model="wifi2g" :disabled="wifiSchEnabled2g" @change="abledFun"></x-switch>
	  </div>
	</div>
	<div class="group">
	  <div class="item-l">{{ lang_t('wifi.ssid') }}</div>
	  <div class="item-r">
		<input type="text" v-model="ssid2g" :maxlength="32" id="ssid_2">
	  </div>
	</div>
	<div class="group">
	  <div class="item-l">{{ lang_t('wifi.pass') }}</div>
	  <div class="item-r">
		<input class="right" v-model="password2g" type="text" v-pass :maxlength="63" id="pass_2">
	  </div>
	</div>
	<div class="group">
		<div class="item-sw">{{ lang_t('wifi.duration') }}</div>
		<div class="item-r">
			<select v-model="time2g" :disabled="!wifi2g || disable_allow2g">
				<option value="0">{{ lang_t('wifi.duration_0') }}</option>
				<option value="4">{{ lang_t('wifi.duration_1') }}</option>
				<option value="8">{{ lang_t('wifi.duration_2') }}</option>
			</select>
		</div>
	</div>
	<div class="group">
	  <div class="item-sw">{{ lang_t('wifi.allow_access') }}</div>
	  <div class="item-r">
		<x-switch v-model="accessState2g" :disabled="!wifi2g || disable_allow2g"></x-switch>
	  </div>
	</div>
	<br>&nbsp;&nbsp;
	<div v-show=" wifiDualband != '0'">
	  <div class="group">
		<div class="item-sw"><b>5GHz {{ lang_t('wifi.state') }}</b></div>
		<div class="item-r">
		  <x-switch v-model="wifi5g" :disabled="wifiSchEnabled5g" @change="abledFun"></x-switch>
		</div>
	  </div>
	  <div class="group">
	    <div class="item-l">{{ lang_t('wifi.ssid') }}</div>
	    <div class="item-r">
		  <input type="text" v-model="ssid5g" :maxlength="32" id="ssid_5">
	    </div>
	  </div>
	  <div class="group">
	    <div class="item-l">{{ lang_t('wifi.pass') }}</div>
	    <div class="item-r">
		  <input class="right" v-model="password5g" type="text" v-pass :maxlength="63" id="pass_5">
	    </div>
	  </div>
	  <div class="group">
		<div class="item-sw">{{ lang_t('wifi.duration') }}</div>
		<div class="item-r">
			<select v-model="time5g" :disabled="!wifi5g || disable_allow5g">
			  <option value="0">{{ lang_t('wifi.duration_0') }}</option>
			  <option value="4">{{ lang_t('wifi.duration_1') }}</option>
			  <option value="8">{{ lang_t('wifi.duration_2') }}</option>
			</select>
		</div>
	  </div>
	  <div class="group">
		  <div class="item-sw">{{ lang_t('wifi.allow_access') }}</div>
		  <div class="item-r">
			<x-switch v-model="accessState5g" :disabled="!wifi5g || disable_allow5g"></x-switch>
		  </div>
	  </div>
	</div>
  </div>
  <div class="footer">
	<button class="btn" @click="applyFun">{{ lang_t('common.apply') }}</button>
  </div>
</div></script><script src="/plugin/vue.js"></script><script src="/plugin/jquery-3.2.1.min.js"></script><script src="/static/js/config.js"></script><script src="/static/js/phone_layout.js"></script><script src="/static/js/common.js"></script><script src="/static/js/topicurl.js"></script><script>var cs_main={template:"#main",data:function(){return{globalConfig:globalConfig,lang:$.lang,lang_t:lang_t,data:[],merge:!1,accessState2g:!1,accessState5g:!1,wifi2g:!1,wifi5g:!1,ssid2g:"",ssid5g:"",password2g:"",password5g:"",wifiDualband:"0",wifiSchEnabled2g:!1,wifiSchEnabled5g:!1,hide2g:!1,hide5g:!1,hidedis:!1,hide5gdis:!1,disable_allow2g:!1,disable_allow5g:!1,time2g:"0",time5g:"0"}},created:function(){var t=this;uiPost.getWiFiEasyGuestCfg(function(i){"1"==i.wifiSchEnabled2g||"1"==i.mainWifiOff?t.wifiSchEnabled2g=!0:t.wifiSchEnabled2g=!1,"1"==i.wifiSchEnabled5g||"1"==i.mainWifiOff5g?t.wifiSchEnabled5g=!0:t.wifiSchEnabled5g=!1,t.accessState2g="1"==i.accessEnabled2g,t.accessState5g="1"==i.accessEnabled5g,t.wifi2g="1"!=i.wifiOff,t.ssid2g=i.ssid,t.password2g=i.key,t.wifiDualband=i.wifiDualband,t.hide2g="0"!=i.hssid,t.time2g=i.time,"0"!=i.wifiDualband&&(t.wifi5g="1"!=i.wifiOff5g,t.hide5g="0"!=i.hssid5g,t.ssid5g=i.ssid5g,t.password5g=i.key5g,t.time5g=i.time5g),t.abledFun(),"br"!=this.globalConfig.opmode&&"rpt"!=this.globalConfig.opmode||(t.disable_allow2g=!0,t.disable_allow5g=!0)})},methods:{backFun:function(){location.href="/phone/application.html"},errorFun:function(i){Cstool.Mark({content:i,l_text:this.lang_t("common.back")})},verifyData:function(){var i=this,t=this.errorFun,s=cs.ssid(this.ssid2g);if(i.wifi2g){var e="2.4GHz ";if(0==s)return t(e+i.lang_t("wifi.msg1")),!1;if(4==s)return t(e+i.lang_t("wifi.msg18")),!1;if(1==s)return t(e+i.lang_t("wifi.msg2")),!1;if(2==s)return t(e+i.lang_t("wifi.msg3")),!1}if("0"!=i.wifiDualband&&!i.merge){e="5GHz ";if(i.wifi5g){if(0==(s=cs.ssid(this.ssid5g)))return t(e+i.lang_t("wifi.msg1")),!1;if(4==s)return t(e+i.lang_t("wifi.msg18")),!1;if(1==s)return t(e+i.lang_t("wifi.msg2")),!1;if(2==s)return t(e+i.lang_t("wifi.msg3")),!1}}},keyVerify:function(i,t){passwordVerify("wifi",(t||"")+lang_t("wifi.pass"),i,function(i){if(i)throw Cstool.Mark({content:i,l_text:lang_t("common.back")}),"err"},i)},applyFun:function(){var s=this,i={};if(0!=this.verifyData()){if(i.wifiOff=s.wifi2g?"0":"1",i.accessEnabled2g=s.accessState2g?"1":"0",i.hssid=s.hide2g?"1":"0",i.ssid=s.ssid2g,i.key=s.password2g,i.time=s.time2g,"0"==i.wifiOff&&(this.keyVerify(this.password2g,"2.4GHz "),""==s.password2g&&"0"==s.wifiDualband))return Cstool.Mark({content:s.lang_t("wifi.msg14"),cancel:function(){uiPost.setWiFiEasyGuestCfg(i,function(i){var t=30;i.wtime&&"0"!=i.wtime&&(t=Number(i.wtime)),Cstool.Mark({type:"load",time:t,content:s.lang_t("common.effective"),success:function(){Cstool.Flag({content:s.lang_t("common.success_relink"),btnText:s.lang_t("common.back"),ok:function(){location.href=location.href}})}})})}}),!1;if("0"!=s.wifiDualband)if(s.merge){if(i.time5g=s.time2g,i.wifiOff5g=s.wifi2g?"0":"1",i.hssid5g=s.hide2g?"1":"0",i.ssid5g=s.ssid2g,i.key5g=s.password2g,i.accessEnabled5g=s.accessState2g?"1":"0",""==s.password2g)return Cstool.Mark({content:s.lang_t("wifi.msg14"),cancel:function(){uiPost.setWiFiEasyGuestCfg(i,function(i){var t=0;t=i.wtime&&"0"!=i.wtime?Number(i.wtime):30,Cstool.Mark({type:"load",time:t,content:s.lang_t("common.effective"),success:function(){Cstool.Flag({content:s.lang_t("common.set_success"),btnText:s.lang_t("common.back"),ok:function(){location.href=location.href}})}})})}}),!1}else if(i.wifiOff5g=s.wifi5g?"0":"1",i.hssid5g=s.hide5g?"1":"0",i.ssid5g=s.ssid5g,i.key5g=s.password5g,i.time5g=s.time5g,i.accessEnabled5g=s.accessState5g?"1":"0","0"==i.wifiOff5g&&(this.keyVerify(this.password5g,"5GHz "),""==s.password5g||""==s.password2g))return Cstool.Mark({content:s.lang_t("wifi.msg14"),cancel:function(){uiPost.setWiFiEasyGuestCfg(i,function(i){var t=0;t=i.wtime&&"0"!=i.wtime?Number(i.wtime):30,Cstool.Mark({type:"load",time:t,content:s.lang_t("common.effective"),success:function(){Cstool.Flag({content:s.lang_t("common.set_success"),btnText:s.lang_t("common.back"),ok:function(){location.href=location.href}})}})})}}),!1;uiPost.setWiFiEasyGuestCfg(i,function(i){var t=0;t=i.wtime&&"0"!=i.wtime?Number(i.wtime):30,Cstool.Mark({type:"load",time:t,content:s.lang_t("common.effective"),success:function(){Cstool.Flag({content:s.lang_t("common.set_success"),btnText:s.lang_t("common.back"),ok:function(){location.href=location.href}})}})})}},abledFun:function(){this.wifi2g?($("#ssid_2,#pass_2").attr("disabled",!1),this.hidedis=!1):($("#ssid_2,#pass_2").attr("disabled",!0),this.hidedis=!0),"0"==this.wifiDualband||this.merge||(this.wifi5g?($("#ssid_5,#pass_5").attr("disabled",!1),this.hide5gdis=!1):($("#ssid_5,#pass_5").attr("disabled",!0),this.hide5gdis=!0))}}}</script><script src="/static/js/main.js"></script></body></html>